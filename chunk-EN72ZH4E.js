import{a as ye,b as ba,c as Ve,d as xa,e as Pa}from"./chunk-AVE2TXXF.js";import{c as Sa,d as Oa,e as Ta,f as Na}from"./chunk-ZMLHZKBN.js";import{d as Ba,e as Ia}from"./chunk-7QZMN6RA.js";import"./chunk-EWLY46X5.js";import{a as xi,b as Da}from"./chunk-MBYOSU56.js";import{a as aa,e as un,f as La}from"./chunk-XDMRMEP2.js";import{a as dn,b as Ea}from"./chunk-NVF4OF4Z.js";import{a as Ca}from"./chunk-2HFERSQ4.js";import{a as fi,b as vi,c as Ci,d as yi,e as za,f as Ma,g as bi,h as wa}from"./chunk-XMK7Z62R.js";import{a as cn,b as ca,c as ie,d as oe,e as da,h as ve,m as Ce,n as ua,q as ma,r as _a,s as ha,t as ga,u as fa,v as va}from"./chunk-37OEJO3I.js";import{i as pa}from"./chunk-K3LIO5GL.js";import{c as ne,d as sa}from"./chunk-YIYQWAB7.js";import{a as ia,b as fe,g as ft,h as hi,i as gi,j as la,k as vt,l as Ct,r as yt,s as Vt,t as bt,u as xt,v as ya,y as ka,z as Re}from"./chunk-JEDRXPH7.js";import{A as Qr,B as ta,C as ea,Ka as ct,La as St,Na as gt,Oa as ra,i as qr,l as ht,m as nt,o as at,p as At,r as $r,s as Gt,t as lt,u as Ft,v as Xr,w as Kr,x as Jr,y as Yr}from"./chunk-4SAMDAWE.js";import{$ as Fr,$b as Fe,Ab as f,Ac as pi,Bc as mi,Cc as Ur,F as se,Fb as Rr,Ga as ln,Gb as Zr,Ha as J,Hb as Wr,I as ce,Ia as De,Ic as Gr,Ka as s,Lb as Ot,Mb as g,Nb as S,Oa as pt,Ob as F,Qb as N,Rb as D,S as Dr,Sb as A,Ta as Y,Tb as ho,Ua as sn,Ub as _t,Vb as Hr,Vc as jr,Wa as Vr,Xc as na,Y as Ar,Za as x,Zb as Ae,Zc as _i,_ as an,a as ui,ad as go,bb as d,cb as W,cc as Bt,d as te,db as $t,fb as ee,ja as w,je as st,ka as E,ke as oa,pb as u,qa as kt,qb as p,ra as _o,rb as P,sb as Q,tb as tt,vb as Z,yb as k,yc as rt,zc as Et}from"./chunk-COQ5IRDM.js";import{a as q,b as mt,d as Ss,f as Os,g as di}from"./chunk-GAL4ENT6.js";var Wa=Ss((zi,Za)=>{"use strict";(function(o,r){typeof zi=="object"&&typeof Za<"u"?r(zi):typeof define=="function"&&define.amd?define(["exports"],r):(o=typeof globalThis<"u"?globalThis:o||self,r(o.leaflet={}))})(zi,function(o){"use strict";var r="1.9.4";function n(t){var e,i,a,c;for(i=1,a=arguments.length;i<a;i++){c=arguments[i];for(e in c)t[e]=c[e]}return t}var l=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function m(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var a=i.call(arguments,2);return function(){return t.apply(e,a.length?a.concat(i.call(arguments)):arguments)}}var _=0;function y(t){return"_leaflet_id"in t||(t._leaflet_id=++_),t._leaflet_id}function T(t,e,i){var a,c,h,v;return v=function(){a=!1,c&&(h.apply(i,c),c=!1)},h=function(){a?c=arguments:(t.apply(i,arguments),setTimeout(v,e),a=!0)},h}function M(t,e,i){var a=e[1],c=e[0],h=a-c;return t===a&&i?t:((t-c)%h+h)%h+c}function V(){return!1}function Tt(t,e){if(e===!1)return t;var i=Math.pow(10,e===void 0?6:e);return Math.round(t*i)/i}function He(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function ze(t){return He(t).split(/\s+/)}function it(t,e){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?l(t.options):{});for(var i in e)t.options[i]=e[i];return t.options}function Hn(t,e,i){var a=[];for(var c in t)a.push(encodeURIComponent(i?c.toUpperCase():c)+"="+encodeURIComponent(t[c]));return(!e||e.indexOf("?")===-1?"?":"&")+a.join("&")}var Ti=/\{ *([\w_ -]+) *\}/g;function Un(t,e){return t.replace(Ti,function(i,a){var c=e[a];if(c===void 0)throw new Error("No value provided for variable "+i);return typeof c=="function"&&(c=c(e)),c})}var jt=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function Pn(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}var Xe="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function kn(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var xo=0;function Po(t){var e=+new Date,i=Math.max(0,16-(e-xo));return xo=e+i,window.setTimeout(t,i)}var Li=window.requestAnimationFrame||kn("RequestAnimationFrame")||Po,ko=window.cancelAnimationFrame||kn("CancelAnimationFrame")||kn("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function Zt(t,e,i){if(i&&Li===Po)t.call(e);else return Li.call(window,m(t,e))}function Kt(t){t&&ko.call(window,t)}var il={__proto__:null,extend:n,create:l,bind:m,get lastId(){return _},stamp:y,throttle:T,wrapNum:M,falseFn:V,formatNum:Tt,trim:He,splitWords:ze,setOptions:it,getParamString:Hn,template:Un,isArray:jt,indexOf:Pn,emptyImageUrl:Xe,requestFn:Li,cancelFn:ko,requestAnimFrame:Zt,cancelAnimFrame:Kt};function Me(){}Me.extend=function(t){var e=function(){it(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=e.__super__=this.prototype,a=l(i);a.constructor=e,e.prototype=a;for(var c in this)Object.prototype.hasOwnProperty.call(this,c)&&c!=="prototype"&&c!=="__super__"&&(e[c]=this[c]);return t.statics&&n(e,t.statics),t.includes&&(ol(t.includes),n.apply(null,[a].concat(t.includes))),n(a,t),delete a.statics,delete a.includes,a.options&&(a.options=i.options?l(i.options):{},n(a.options,t.options)),a._initHooks=[],a.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var h=0,v=a._initHooks.length;h<v;h++)a._initHooks[h].call(this)}},e},Me.include=function(t){var e=this.prototype.options;return n(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},Me.mergeOptions=function(t){return n(this.prototype.options,t),this},Me.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i=typeof t=="function"?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};function ol(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=jt(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var qt={on:function(t,e,i){if(typeof t=="object")for(var a in t)this._on(a,t[a],e);else{t=ze(t);for(var c=0,h=t.length;c<h;c++)this._on(t[c],e,i)}return this},off:function(t,e,i){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var a in t)this._off(a,t[a],e);else{t=ze(t);for(var c=arguments.length===1,h=0,v=t.length;h<v;h++)c?this._off(t[h]):this._off(t[h],e,i)}return this},_on:function(t,e,i,a){if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}if(this._listens(t,e,i)===!1){i===this&&(i=void 0);var c={fn:e,ctx:i};a&&(c.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(c)}},_off:function(t,e,i){var a,c,h;if(this._events&&(a=this._events[t],!!a)){if(arguments.length===1){if(this._firingCount)for(c=0,h=a.length;c<h;c++)a[c].fn=V;delete this._events[t];return}if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}var v=this._listens(t,e,i);if(v!==!1){var C=a[v];this._firingCount&&(C.fn=V,this._events[t]=a=a.slice()),a.splice(v,1)}}},fire:function(t,e,i){if(!this.listens(t,i))return this;var a=n({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var c=this._events[t];if(c){this._firingCount=this._firingCount+1||1;for(var h=0,v=c.length;h<v;h++){var C=c[h],b=C.fn;C.once&&this.off(t,b,C.ctx),b.call(C.ctx||this,a)}this._firingCount--}}return i&&this._propagateEvent(a),this},listens:function(t,e,i,a){typeof t!="string"&&console.warn('"string" type argument expected');var c=e;typeof e!="function"&&(a=!!e,c=void 0,i=void 0);var h=this._events&&this._events[t];if(h&&h.length&&this._listens(t,c,i)!==!1)return!0;if(a){for(var v in this._eventParents)if(this._eventParents[v].listens(t,e,i,a))return!0}return!1},_listens:function(t,e,i){if(!this._events)return!1;var a=this._events[t]||[];if(!e)return!!a.length;i===this&&(i=void 0);for(var c=0,h=a.length;c<h;c++)if(a[c].fn===e&&a[c].ctx===i)return c;return!1},once:function(t,e,i){if(typeof t=="object")for(var a in t)this._on(a,t[a],e,!0);else{t=ze(t);for(var c=0,h=t.length;c<h;c++)this._on(t[c],e,i,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[y(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[y(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};qt.addEventListener=qt.on,qt.removeEventListener=qt.clearAllEventListeners=qt.off,qt.addOneTimeEventListener=qt.once,qt.fireEvent=qt.fire,qt.hasEventListeners=qt.listens;var zn=Me.extend(qt);function H(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e}var zo=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};H.prototype={clone:function(){return new H(this.x,this.y)},add:function(t){return this.clone()._add(R(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(R(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new H(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new H(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=zo(this.x),this.y=zo(this.y),this},distanceTo:function(t){t=R(t);var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return t=R(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=R(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+Tt(this.x)+", "+Tt(this.y)+")"}};function R(t,e,i){return t instanceof H?t:jt(t)?new H(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new H(t.x,t.y):new H(t,e,i)}function dt(t,e){if(t)for(var i=e?[t,e]:t,a=0,c=i.length;a<c;a++)this.extend(i[a])}dt.prototype={extend:function(t){var e,i;if(!t)return this;if(t instanceof H||typeof t[0]=="number"||"x"in t)e=i=R(t);else if(t=Wt(t),e=t.min,i=t.max,!e||!i)return this;return!this.min&&!this.max?(this.min=e.clone(),this.max=i.clone()):(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(i.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(i.y,this.max.y)),this},getCenter:function(t){return R((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return R(this.min.x,this.max.y)},getTopRight:function(){return R(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return typeof t[0]=="number"||t instanceof H?t=R(t):t=Wt(t),t instanceof dt?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=Wt(t);var e=this.min,i=this.max,a=t.min,c=t.max,h=c.x>=e.x&&a.x<=i.x,v=c.y>=e.y&&a.y<=i.y;return h&&v},overlaps:function(t){t=Wt(t);var e=this.min,i=this.max,a=t.min,c=t.max,h=c.x>e.x&&a.x<i.x,v=c.y>e.y&&a.y<i.y;return h&&v},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var e=this.min,i=this.max,a=Math.abs(e.x-i.x)*t,c=Math.abs(e.y-i.y)*t;return Wt(R(e.x-a,e.y-c),R(i.x+a,i.y+c))},equals:function(t){return t?(t=Wt(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function Wt(t,e){return!t||t instanceof dt?t:new dt(t,e)}function Ht(t,e){if(t)for(var i=e?[t,e]:t,a=0,c=i.length;a<c;a++)this.extend(i[a])}Ht.prototype={extend:function(t){var e=this._southWest,i=this._northEast,a,c;if(t instanceof et)a=t,c=t;else if(t instanceof Ht){if(a=t._southWest,c=t._northEast,!a||!c)return this}else return t?this.extend($(t)||zt(t)):this;return!e&&!i?(this._southWest=new et(a.lat,a.lng),this._northEast=new et(c.lat,c.lng)):(e.lat=Math.min(a.lat,e.lat),e.lng=Math.min(a.lng,e.lng),i.lat=Math.max(c.lat,i.lat),i.lng=Math.max(c.lng,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,a=Math.abs(e.lat-i.lat)*t,c=Math.abs(e.lng-i.lng)*t;return new Ht(new et(e.lat-a,e.lng-c),new et(i.lat+a,i.lng+c))},getCenter:function(){return new et((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new et(this.getNorth(),this.getWest())},getSouthEast:function(){return new et(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof et||"lat"in t?t=$(t):t=zt(t);var e=this._southWest,i=this._northEast,a,c;return t instanceof Ht?(a=t.getSouthWest(),c=t.getNorthEast()):a=c=t,a.lat>=e.lat&&c.lat<=i.lat&&a.lng>=e.lng&&c.lng<=i.lng},intersects:function(t){t=zt(t);var e=this._southWest,i=this._northEast,a=t.getSouthWest(),c=t.getNorthEast(),h=c.lat>=e.lat&&a.lat<=i.lat,v=c.lng>=e.lng&&a.lng<=i.lng;return h&&v},overlaps:function(t){t=zt(t);var e=this._southWest,i=this._northEast,a=t.getSouthWest(),c=t.getNorthEast(),h=c.lat>e.lat&&a.lat<i.lat,v=c.lng>e.lng&&a.lng<i.lng;return h&&v},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return t?(t=zt(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function zt(t,e){return t instanceof Ht?t:new Ht(t,e)}function et(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,i!==void 0&&(this.alt=+i)}et.prototype={equals:function(t,e){if(!t)return!1;t=$(t);var i=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return i<=(e===void 0?1e-9:e)},toString:function(t){return"LatLng("+Tt(this.lat,t)+", "+Tt(this.lng,t)+")"},distanceTo:function(t){return Be.distance(this,$(t))},wrap:function(){return Be.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return zt([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new et(this.lat,this.lng,this.alt)}};function $(t,e,i){return t instanceof et?t:jt(t)&&typeof t[0]!="object"?t.length===3?new et(t[0],t[1],t[2]):t.length===2?new et(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new et(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===void 0?null:new et(t,e,i)}var we={latLngToPoint:function(t,e){var i=this.projection.project(t),a=this.scale(e);return this.transformation._transform(i,a)},pointToLatLng:function(t,e){var i=this.scale(e),a=this.transformation.untransform(t,i);return this.projection.unproject(a)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t),a=this.transformation.transform(e.min,i),c=this.transformation.transform(e.max,i);return new dt(a,c)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?M(t.lng,this.wrapLng,!0):t.lng,i=this.wrapLat?M(t.lat,this.wrapLat,!0):t.lat,a=t.alt;return new et(i,e,a)},wrapLatLngBounds:function(t){var e=t.getCenter(),i=this.wrapLatLng(e),a=e.lat-i.lat,c=e.lng-i.lng;if(a===0&&c===0)return t;var h=t.getSouthWest(),v=t.getNorthEast(),C=new et(h.lat-a,h.lng-c),b=new et(v.lat-a,v.lng-c);return new Ht(C,b)}},Be=n({},we,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,a=t.lat*i,c=e.lat*i,h=Math.sin((e.lat-t.lat)*i/2),v=Math.sin((e.lng-t.lng)*i/2),C=h*h+Math.cos(a)*Math.cos(c)*v*v,b=2*Math.atan2(Math.sqrt(C),Math.sqrt(1-C));return this.R*b}}),Mo=6378137,Bi={R:Mo,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,a=Math.max(Math.min(i,t.lat),-i),c=Math.sin(a*e);return new H(this.R*t.lng*e,this.R*Math.log((1+c)/(1-c))/2)},unproject:function(t){var e=180/Math.PI;return new et((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=Mo*Math.PI;return new dt([-t,-t],[t,t])}()};function Ii(t,e,i,a){if(jt(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=e,this._c=i,this._d=a}Ii.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new H((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};function Mn(t,e,i,a){return new Ii(t,e,i,a)}var Ni=n({},Be,{code:"EPSG:3857",projection:Bi,transformation:function(){var t=.5/(Math.PI*Bi.R);return Mn(t,.5,-t,.5)}()}),rl=n({},Ni,{code:"EPSG:900913"});function wo(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Eo(t,e){var i="",a,c,h,v,C,b;for(a=0,h=t.length;a<h;a++){for(C=t[a],c=0,v=C.length;c<v;c++)b=C[c],i+=(c?"L":"M")+b.x+" "+b.y;i+=e?B.svg?"z":"x":""}return i||"M0 0"}var Di=document.documentElement.style,Gn="ActiveXObject"in window,al=Gn&&!document.addEventListener,So="msLaunchUri"in navigator&&!("documentMode"in document),Ai=me("webkit"),Oo=me("android"),To=me("android 2")||me("android 3"),ll=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),sl=Oo&&me("Google")&&ll<537&&!("AudioNode"in window),Fi=!!window.opera,Lo=!So&&me("chrome"),Bo=me("gecko")&&!Ai&&!Fi&&!Gn,cl=!Lo&&me("safari"),Io=me("phantom"),No="OTransition"in Di,dl=navigator.platform.indexOf("Win")===0,Do=Gn&&"transition"in Di,Vi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!To,Ao="MozPerspective"in Di,ul=!window.L_DISABLE_3D&&(Do||Vi||Ao)&&!No&&!Io,wn=typeof orientation<"u"||me("mobile"),pl=wn&&Ai,ml=wn&&Vi,Fo=!window.PointerEvent&&window.MSPointerEvent,Vo=!!(window.PointerEvent||Fo),Ro="ontouchstart"in window||!!window.TouchEvent,_l=!window.L_NO_TOUCH&&(Ro||Vo),hl=wn&&Fi,gl=wn&&Bo,fl=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,vl=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",V,e),window.removeEventListener("testPassiveEventSupport",V,e)}catch{}return t}(),Cl=function(){return!!document.createElement("canvas").getContext}(),Ri=!!(document.createElementNS&&wo("svg").createSVGRect),yl=!!Ri&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),bl=!Ri&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&typeof e.adj=="object"}catch{return!1}}(),xl=navigator.platform.indexOf("Mac")===0,Pl=navigator.platform.indexOf("Linux")===0;function me(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var B={ie:Gn,ielt9:al,edge:So,webkit:Ai,android:Oo,android23:To,androidStock:sl,opera:Fi,chrome:Lo,gecko:Bo,safari:cl,phantom:Io,opera12:No,win:dl,ie3d:Do,webkit3d:Vi,gecko3d:Ao,any3d:ul,mobile:wn,mobileWebkit:pl,mobileWebkit3d:ml,msPointer:Fo,pointer:Vo,touch:_l,touchNative:Ro,mobileOpera:hl,mobileGecko:gl,retina:fl,passiveEvents:vl,canvas:Cl,svg:Ri,vml:bl,inlineSvg:yl,mac:xl,linux:Pl},Zo=B.msPointer?"MSPointerDown":"pointerdown",Wo=B.msPointer?"MSPointerMove":"pointermove",Ho=B.msPointer?"MSPointerUp":"pointerup",Uo=B.msPointer?"MSPointerCancel":"pointercancel",Zi={touchstart:Zo,touchmove:Wo,touchend:Ho,touchcancel:Uo},Go={touchstart:Sl,touchmove:jn,touchend:jn,touchcancel:jn},Ke={},jo=!1;function kl(t,e,i){return e==="touchstart"&&El(),Go[e]?(i=Go[e].bind(this,i),t.addEventListener(Zi[e],i,!1),i):(console.warn("wrong event specified:",e),V)}function zl(t,e,i){if(!Zi[e]){console.warn("wrong event specified:",e);return}t.removeEventListener(Zi[e],i,!1)}function Ml(t){Ke[t.pointerId]=t}function wl(t){Ke[t.pointerId]&&(Ke[t.pointerId]=t)}function qo(t){delete Ke[t.pointerId]}function El(){jo||(document.addEventListener(Zo,Ml,!0),document.addEventListener(Wo,wl,!0),document.addEventListener(Ho,qo,!0),document.addEventListener(Uo,qo,!0),jo=!0)}function jn(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){e.touches=[];for(var i in Ke)e.touches.push(Ke[i]);e.changedTouches=[e],t(e)}}function Sl(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&It(e),jn(t,e)}function Ol(t){var e={},i,a;for(a in t)i=t[a],e[a]=i&&i.bind?i.bind(t):i;return t=e,e.type="dblclick",e.detail=2,e.isTrusted=!1,e._simulated=!0,e}var Tl=200;function Ll(t,e){t.addEventListener("dblclick",e);var i=0,a;function c(h){if(h.detail!==1){a=h.detail;return}if(!(h.pointerType==="mouse"||h.sourceCapabilities&&!h.sourceCapabilities.firesTouchEvents)){var v=Yo(h);if(!(v.some(function(b){return b instanceof HTMLLabelElement&&b.attributes.for})&&!v.some(function(b){return b instanceof HTMLInputElement||b instanceof HTMLSelectElement}))){var C=Date.now();C-i<=Tl?(a++,a===2&&e(Ol(h))):a=1,i=C}}}return t.addEventListener("click",c),{dblclick:e,simDblclick:c}}function Bl(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var Wi=Xn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),En=Xn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),$o=En==="webkitTransition"||En==="OTransition"?En+"End":"transitionend";function Xo(t){return typeof t=="string"?document.getElementById(t):t}function Sn(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||i==="auto")&&document.defaultView){var a=document.defaultView.getComputedStyle(t,null);i=a?a[e]:null}return i==="auto"?null:i}function K(t,e,i){var a=document.createElement(t);return a.className=e||"",i&&i.appendChild(a),a}function ut(t){var e=t.parentNode;e&&e.removeChild(t)}function qn(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Je(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function Ye(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function Hi(t,e){if(t.classList!==void 0)return t.classList.contains(e);var i=$n(t);return i.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)}function G(t,e){if(t.classList!==void 0)for(var i=ze(e),a=0,c=i.length;a<c;a++)t.classList.add(i[a]);else if(!Hi(t,e)){var h=$n(t);Ui(t,(h?h+" ":"")+e)}}function Pt(t,e){t.classList!==void 0?t.classList.remove(e):Ui(t,He((" "+$n(t)+" ").replace(" "+e+" "," ")))}function Ui(t,e){t.className.baseVal===void 0?t.className=e:t.className.baseVal=e}function $n(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Jt(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&Il(t,e)}function Il(t,e){var i=!1,a="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(a)}catch{if(e===1)return}e=Math.round(e*100),i?(i.Enabled=e!==100,i.Opacity=e):t.style.filter+=" progid:"+a+"(opacity="+e+")"}function Xn(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function Ue(t,e,i){var a=e||new H(0,0);t.style[Wi]=(B.ie3d?"translate("+a.x+"px,"+a.y+"px)":"translate3d("+a.x+"px,"+a.y+"px,0)")+(i?" scale("+i+")":"")}function Mt(t,e){t._leaflet_pos=e,B.any3d?Ue(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Ge(t){return t._leaflet_pos||new H(0,0)}var On,Tn,Gi;if("onselectstart"in document)On=function(){U(window,"selectstart",It)},Tn=function(){ot(window,"selectstart",It)};else{var Ln=Xn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);On=function(){if(Ln){var t=document.documentElement.style;Gi=t[Ln],t[Ln]="none"}},Tn=function(){Ln&&(document.documentElement.style[Ln]=Gi,Gi=void 0)}}function ji(){U(window,"dragstart",It)}function qi(){ot(window,"dragstart",It)}var Kn,$i;function Xi(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(Jn(),Kn=t,$i=t.style.outlineStyle,t.style.outlineStyle="none",U(window,"keydown",Jn))}function Jn(){Kn&&(Kn.style.outlineStyle=$i,Kn=void 0,$i=void 0,ot(window,"keydown",Jn))}function Ko(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Ki(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Nl={__proto__:null,TRANSFORM:Wi,TRANSITION:En,TRANSITION_END:$o,get:Xo,getStyle:Sn,create:K,remove:ut,empty:qn,toFront:Je,toBack:Ye,hasClass:Hi,addClass:G,removeClass:Pt,setClass:Ui,getClass:$n,setOpacity:Jt,testProp:Xn,setTransform:Ue,setPosition:Mt,getPosition:Ge,get disableTextSelection(){return On},get enableTextSelection(){return Tn},disableImageDrag:ji,enableImageDrag:qi,preventOutline:Xi,restoreOutline:Jn,getSizedParentNode:Ko,getScale:Ki};function U(t,e,i,a){if(e&&typeof e=="object")for(var c in e)Yi(t,c,e[c],i);else{e=ze(e);for(var h=0,v=e.length;h<v;h++)Yi(t,e[h],i,a)}return this}var _e="_leaflet_events";function ot(t,e,i,a){if(arguments.length===1)Jo(t),delete t[_e];else if(e&&typeof e=="object")for(var c in e)Qi(t,c,e[c],i);else if(e=ze(e),arguments.length===2)Jo(t,function(C){return Pn(e,C)!==-1});else for(var h=0,v=e.length;h<v;h++)Qi(t,e[h],i,a);return this}function Jo(t,e){for(var i in t[_e]){var a=i.split(/\d/)[0];(!e||e(a))&&Qi(t,a,null,null,i)}}var Ji={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Yi(t,e,i,a){var c=e+y(i)+(a?"_"+y(a):"");if(t[_e]&&t[_e][c])return this;var h=function(C){return i.call(a||t,C||window.event)},v=h;!B.touchNative&&B.pointer&&e.indexOf("touch")===0?h=kl(t,e,h):B.touch&&e==="dblclick"?h=Ll(t,h):"addEventListener"in t?e==="touchstart"||e==="touchmove"||e==="wheel"||e==="mousewheel"?t.addEventListener(Ji[e]||e,h,B.passiveEvents?{passive:!1}:!1):e==="mouseenter"||e==="mouseleave"?(h=function(C){C=C||window.event,eo(t,C)&&v(C)},t.addEventListener(Ji[e],h,!1)):t.addEventListener(e,v,!1):t.attachEvent("on"+e,h),t[_e]=t[_e]||{},t[_e][c]=h}function Qi(t,e,i,a,c){c=c||e+y(i)+(a?"_"+y(a):"");var h=t[_e]&&t[_e][c];if(!h)return this;!B.touchNative&&B.pointer&&e.indexOf("touch")===0?zl(t,e,h):B.touch&&e==="dblclick"?Bl(t,h):"removeEventListener"in t?t.removeEventListener(Ji[e]||e,h,!1):t.detachEvent("on"+e,h),t[_e][c]=null}function je(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function to(t){return Yi(t,"wheel",je),this}function Bn(t){return U(t,"mousedown touchstart dblclick contextmenu",je),t._leaflet_disable_click=!0,this}function It(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function qe(t){return It(t),je(t),this}function Yo(t){if(t.composedPath)return t.composedPath();for(var e=[],i=t.target;i;)e.push(i),i=i.parentNode;return e}function Qo(t,e){if(!e)return new H(t.clientX,t.clientY);var i=Ki(e),a=i.boundingClientRect;return new H((t.clientX-a.left)/i.x-e.clientLeft,(t.clientY-a.top)/i.y-e.clientTop)}var Dl=B.linux&&B.chrome?window.devicePixelRatio:B.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function tr(t){return B.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Dl:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function eo(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch{return!1}return i!==t}var Al={__proto__:null,on:U,off:ot,stopPropagation:je,disableScrollPropagation:to,disableClickPropagation:Bn,preventDefault:It,stop:qe,getPropagationPath:Yo,getMousePosition:Qo,getWheelDelta:tr,isExternalTarget:eo,addListener:U,removeListener:ot},er=zn.extend({run:function(t,e,i,a){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(a||.5,.2),this._startPos=Ge(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Zt(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=this._duration*1e3;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),Mt(this._el,i),this.fire("step")},_complete:function(){Kt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),X=zn.extend({options:{crs:Ni,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=it(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==void 0&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==void 0&&this.setView($(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=En&&B.any3d&&!B.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),U(this._proxy,$o,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){if(e=e===void 0?this._zoom:this._limitZoom(e),t=this._limitCenter($(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&i!==!0){i.animate!==void 0&&(i.zoom=n({animate:i.animate},i.zoom),i.pan=n({animate:i.animate,duration:i.duration},i.pan));var a=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan);if(a)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e,i.pan&&i.pan.noMoveStart),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(B.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(B.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,i){var a=this.getZoomScale(e),c=this.getSize().divideBy(2),h=t instanceof H?t:this.latLngToContainerPoint(t),v=h.subtract(c).multiplyBy(1-1/a),C=this.containerPointToLatLng(c.add(v));return this.setView(C,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():zt(t);var i=R(e.paddingTopLeft||e.padding||[0,0]),a=R(e.paddingBottomRight||e.padding||[0,0]),c=this.getBoundsZoom(t,!1,i.add(a));if(c=typeof e.maxZoom=="number"?Math.min(e.maxZoom,c):c,c===1/0)return{center:t.getCenter(),zoom:c};var h=a.subtract(i).divideBy(2),v=this.project(t.getSouthWest(),c),C=this.project(t.getNorthEast(),c),b=this.unproject(v.add(C).divideBy(2).add(h),c);return{center:b,zoom:c}},fitBounds:function(t,e){if(t=zt(t),!t.isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=R(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(e.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new er,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){G(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,i){if(i=i||{},i.animate===!1||!B.any3d)return this.setView(t,e,i);this._stop();var a=this.project(this.getCenter()),c=this.project(t),h=this.getSize(),v=this._zoom;t=$(t),e=e===void 0?v:e;var C=Math.max(h.x,h.y),b=C*this.getZoomScale(v,e),z=c.distanceTo(a)||1,O=1.42,I=O*O;function j(wt){var ci=wt?-1:1,zs=wt?b:C,Ms=b*b-C*C+ci*I*I*z*z,ws=2*zs*I*z,mo=Ms/ws,Nr=Math.sqrt(mo*mo+1)-mo,Es=Nr<1e-9?-18:Math.log(Nr);return Es}function Rt(wt){return(Math.exp(wt)-Math.exp(-wt))/2}function Lt(wt){return(Math.exp(wt)+Math.exp(-wt))/2}function Qt(wt){return Rt(wt)/Lt(wt)}var Ut=j(0);function rn(wt){return C*(Lt(Ut)/Lt(Ut+O*wt))}function bs(wt){return C*(Lt(Ut)*Qt(Ut+O*wt)-Rt(Ut))/I}function xs(wt){return 1-Math.pow(1-wt,1.5)}var Ps=Date.now(),Br=(j(1)-Ut)/O,ks=i.duration?1e3*i.duration:1e3*Br*.8;function Ir(){var wt=(Date.now()-Ps)/ks,ci=xs(wt)*Br;wt<=1?(this._flyToFrame=Zt(Ir,this),this._move(this.unproject(a.add(c.subtract(a).multiplyBy(bs(ci)/z)),v),this.getScaleZoom(C/rn(ci),v),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,i.noMoveStart),Ir.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)},setMaxBounds:function(t){return t=zt(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),a=this._limitCenter(i,this._zoom,zt(t));return i.equals(a)||this.panTo(a,e),this._enforcingBounds=!1,this},panInside:function(t,e){e=e||{};var i=R(e.paddingTopLeft||e.padding||[0,0]),a=R(e.paddingBottomRight||e.padding||[0,0]),c=this.project(this.getCenter()),h=this.project(t),v=this.getPixelBounds(),C=Wt([v.min.add(i),v.max.subtract(a)]),b=C.getSize();if(!C.contains(h)){this._enforcingBounds=!0;var z=h.subtract(C.getCenter()),O=C.extend(h).getSize().subtract(b);c.x+=z.x<0?-O.x:O.x,c.y+=z.y<0?-O.y:O.y,this.panTo(this.unproject(c),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),a=e.divideBy(2).round(),c=i.divideBy(2).round(),h=a.subtract(c);return!h.x&&!h.y?this:(t.animate&&t.pan?this.panBy(h):(t.pan&&this._rawPanBy(h),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=m(this._handleGeolocationResponse,this),i=m(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,i=t.message||(e===1?"permission denied":e===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=t.coords.latitude,i=t.coords.longitude,a=new et(e,i),c=a.toBounds(t.coords.accuracy*2),h=this._locateOptions;if(h.setView){var v=this.getBoundsZoom(c);this.setView(a,h.maxZoom?Math.min(v,h.maxZoom):v)}var C={latlng:a,bounds:c,timestamp:t.timestamp};for(var b in t.coords)typeof t.coords[b]=="number"&&(C[b]=t.coords[b]);this.fire("locationfound",C)}},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ut(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Kt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)ut(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var i="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),a=K("div",i,e||this._mapPane);return t&&(this._panes[t]=a),a},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),i=this.unproject(t.getTopRight());return new Ht(e,i)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=zt(t),i=R(i||[0,0]);var a=this.getZoom()||0,c=this.getMinZoom(),h=this.getMaxZoom(),v=t.getNorthWest(),C=t.getSouthEast(),b=this.getSize().subtract(i),z=Wt(this.project(C,a),this.project(v,a)).getSize(),O=B.any3d?this.options.zoomSnap:1,I=b.x/z.x,j=b.y/z.y,Rt=e?Math.max(I,j):Math.min(I,j);return a=this.getScaleZoom(Rt,a),O&&(a=Math.round(a/(O/100))*(O/100),a=e?Math.ceil(a/O)*O:Math.floor(a/O)*O),Math.max(c,Math.min(h,a))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new H(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new dt(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=e===void 0?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs;e=e===void 0?this._zoom:e;var a=i.zoom(t*i.scale(e));return isNaN(a)?1/0:a},project:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.latLngToPoint($(t),e)},unproject:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.pointToLatLng(R(t),e)},layerPointToLatLng:function(t){var e=R(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project($(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng($(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(zt(t))},distance:function(t,e){return this.options.crs.distance($(t),$(e))},containerPointToLayerPoint:function(t){return R(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return R(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(R(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint($(t)))},mouseEventToContainerPoint:function(t){return Qo(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=Xo(t);if(e){if(e._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");U(e,"scroll",this._onScroll,this),this._containerId=y(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&B.any3d,G(t,"leaflet-container"+(B.touch?" leaflet-touch":"")+(B.retina?" leaflet-retina":"")+(B.ielt9?" leaflet-oldie":"")+(B.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=Sn(t,"position");e!=="absolute"&&e!=="relative"&&e!=="fixed"&&e!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Mt(this._mapPane,new H(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(G(t.markerPane,"leaflet-zoom-hide"),G(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,i){Mt(this._mapPane,new H(0,0));var a=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var c=this._zoom!==e;this._moveStart(c,i)._move(t,e)._moveEnd(c),this.fire("viewreset"),a&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,i,a){e===void 0&&(e=this._zoom);var c=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),a?i&&i.pinch&&this.fire("zoom",i):((c||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Kt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Mt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[y(this._container)]=this;var e=t?ot:U;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),B.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Kt(this._resizeRequest),this._resizeRequest=Zt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var i=[],a,c=e==="mouseout"||e==="mouseover",h=t.target||t.srcElement,v=!1;h;){if(a=this._targets[y(h)],a&&(e==="click"||e==="preclick")&&this._draggableMoved(a)){v=!0;break}if(a&&a.listens(e,!0)&&(c&&!eo(h,t)||(i.push(a),c))||h===this._container)break;h=h.parentNode}return!i.length&&!v&&!c&&this.listens(e,!0)&&(i=[this]),i},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(e))){var i=t.type;i==="mousedown"&&Xi(e),this._fireDOMEvent(t,i)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,i){if(t.type==="click"){var a=n({},t);a.type="preclick",this._fireDOMEvent(a,a.type,i)}var c=this._findEventTargets(t,e);if(i){for(var h=[],v=0;v<i.length;v++)i[v].listens(e,!0)&&h.push(i[v]);c=h.concat(c)}if(c.length){e==="contextmenu"&&It(t);var C=c[0],b={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var z=C.getLatLng&&(!C._radius||C._radius<=10);b.containerPoint=z?this.latLngToContainerPoint(C.getLatLng()):this.mouseEventToContainerPoint(t),b.layerPoint=this.containerPointToLayerPoint(b.containerPoint),b.latlng=z?C.getLatLng():this.layerPointToLatLng(b.layerPoint)}for(v=0;v<c.length;v++)if(c[v].fire(e,b,!0),b.originalEvent._stopped||c[v].options.bubblingMouseEvents===!1&&Pn(this._mouseEvents,e)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Ge(this._mapPane)||new H(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var i=t&&e!==void 0?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return i.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){var a=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(a)},_latLngBoundsToNewLayerBounds:function(t,e,i){var a=this._getNewPixelOrigin(i,e);return Wt([this.project(t.getSouthWest(),e)._subtract(a),this.project(t.getNorthWest(),e)._subtract(a),this.project(t.getSouthEast(),e)._subtract(a),this.project(t.getNorthEast(),e)._subtract(a)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var a=this.project(t,e),c=this.getSize().divideBy(2),h=new dt(a.subtract(c),a.add(c)),v=this._getBoundsOffset(h,i,e);return Math.abs(v.x)<=1&&Math.abs(v.y)<=1?t:this.unproject(a.add(v),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),a=new dt(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(a,e))},_getBoundsOffset:function(t,e,i){var a=Wt(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),c=a.min.subtract(t.min),h=a.max.subtract(t.max),v=this._rebound(c.x,-h.x),C=this._rebound(c.y,-h.y);return new H(v,C)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),a=B.any3d?this.options.zoomSnap:1;return a&&(t=Math.round(t/a)*a),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Pt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._trunc();return(e&&e.animate)!==!0&&!this.getSize().contains(i)?!1:(this.panBy(i,e),!0)},_createAnimProxy:function(){var t=this._proxy=K("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var i=Wi,a=this._proxy.style[i];Ue(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),a===this._proxy.style[i]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ut(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Ue(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||i.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var a=this.getZoomScale(e),c=this._getCenterOffset(t)._divideBy(1-1/a);return i.animate!==!0&&!this.getSize().contains(c)?!1:(Zt(function(){this._moveStart(!0,i.noMoveStart||!1)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,i,a){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,G(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:a}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Pt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Fl(t,e){return new X(t,e)}var ae=Me.extend({options:{position:"topright"},initialize:function(t){it(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),a=t._controlCorners[i];return G(e,"leaflet-control"),i.indexOf("bottom")!==-1?a.insertBefore(e,a.firstChild):a.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ut(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),In=function(t){return new ae(t)};X.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",i=this._controlContainer=K("div",e+"control-container",this._container);function a(c,h){var v=e+c+" "+e+h;t[c+h]=K("div",v,i)}a("top","left"),a("top","right"),a("bottom","left"),a("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ut(this._controlCorners[t]);ut(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var nr=ae.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,a){return i<a?-1:a<i?1:0}},initialize:function(t,e,i){it(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var a in t)this._addLayer(t[a],a);for(a in e)this._addLayer(e[a],a,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return ae.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(y(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){G(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(G(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Pt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Pt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=K("div",t),i=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Bn(e),to(e);var a=this._section=K("section",t+"-list");i&&(this._map.on("click",this.collapse,this),U(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var c=this._layersLink=K("a",t+"-toggle",e);c.href="#",c.title="Layers",c.setAttribute("role","button"),U(c,{keydown:function(h){h.keyCode===13&&this._expandSafely()},click:function(h){It(h),this._expandSafely()}},this),i||this.expand(),this._baseLayersList=K("div",t+"-base",a),this._separator=K("div",t+"-separator",a),this._overlaysList=K("div",t+"-overlays",a),e.appendChild(a)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&y(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(m(function(a,c){return this.options.sortFunction(a.layer,c.layer,a.name,c.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;qn(this._baseLayersList),qn(this._overlaysList),this._layerControlInputs=[];var t,e,i,a,c=0;for(i=0;i<this._layers.length;i++)a=this._layers[i],this._addItem(a),e=e||a.overlay,t=t||!a.overlay,c+=a.overlay?0:1;return this.options.hideSingleBase&&(t=t&&c>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(y(t.target)),i=e.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",a=document.createElement("div");return a.innerHTML=i,a.firstChild},_addItem:function(t){var e=document.createElement("label"),i=this._map.hasLayer(t.layer),a;t.overlay?(a=document.createElement("input"),a.type="checkbox",a.className="leaflet-control-layers-selector",a.defaultChecked=i):a=this._createRadioElement("leaflet-base-layers_"+y(this),i),this._layerControlInputs.push(a),a.layerId=y(t.layer),U(a,"click",this._onInputClick,this);var c=document.createElement("span");c.innerHTML=" "+t.name;var h=document.createElement("span");e.appendChild(h),h.appendChild(a),h.appendChild(c);var v=t.overlay?this._overlaysList:this._baseLayersList;return v.appendChild(e),this._checkDisabledLayers(),e},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,e,i,a=[],c=[];this._handlingClick=!0;for(var h=t.length-1;h>=0;h--)e=t[h],i=this._getLayer(e.layerId).layer,e.checked?a.push(i):e.checked||c.push(i);for(h=0;h<c.length;h++)this._map.hasLayer(c[h])&&this._map.removeLayer(c[h]);for(h=0;h<a.length;h++)this._map.hasLayer(a[h])||this._map.addLayer(a[h]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,e,i,a=this._map.getZoom(),c=t.length-1;c>=0;c--)e=t[c],i=this._getLayer(e.layerId).layer,e.disabled=i.options.minZoom!==void 0&&a<i.options.minZoom||i.options.maxZoom!==void 0&&a>i.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,U(t,"click",It),this.expand();var e=this;setTimeout(function(){ot(t,"click",It),e._preventClick=!1})}}),Vl=function(t,e,i){return new nr(t,e,i)},no=ae.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=K("div",e+" leaflet-bar"),a=this.options;return this._zoomInButton=this._createButton(a.zoomInText,a.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(a.zoomOutText,a.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,a,c){var h=K("a",i,a);return h.innerHTML=t,h.href="#",h.title=e,h.setAttribute("role","button"),h.setAttribute("aria-label",e),Bn(h),U(h,"click",qe),U(h,"click",c,this),U(h,"click",this._refocusOnMap,this),h},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";Pt(this._zoomInButton,e),Pt(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(G(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(G(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});X.mergeOptions({zoomControl:!0}),X.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new no,this.addControl(this.zoomControl))});var Rl=function(t){return new no(t)},ir=ae.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",i=K("div",e),a=this.options;return this._addScales(a,e+"-line",i),t.on(a.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=K("div",e,i)),t.imperial&&(this._iScale=K("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e=t*3.2808399,i,a,c;e>5280?(i=e/5280,a=this._getRoundNum(i),this._updateScale(this._iScale,a+" mi",a/i)):(c=this._getRoundNum(e),this._updateScale(this._iScale,c+" ft",c/e))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}}),Zl=function(t){return new ir(t)},Wl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',io=ae.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(B.inlineSvg?Wl+" ":"")+"Leaflet</a>"},initialize:function(t){it(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=K("div","leaflet-control-attribution"),Bn(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(' <span aria-hidden="true">|</span> ')}}});X.mergeOptions({attributionControl:!0}),X.addInitHook(function(){this.options.attributionControl&&new io().addTo(this)});var Hl=function(t){return new io(t)};ae.Layers=nr,ae.Zoom=no,ae.Scale=ir,ae.Attribution=io,In.layers=Vl,In.zoom=Rl,In.scale=Zl,In.attribution=Hl;var he=Me.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});he.addTo=function(t,e){return t.addHandler(e,this),this};var Ul={Events:qt},or=B.touch?"touchstart mousedown":"mousedown",Ie=zn.extend({options:{clickTolerance:3},initialize:function(t,e,i,a){it(this,a),this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(U(this._dragStartTarget,or,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ie._dragging===this&&this.finishDrag(!0),ot(this._dragStartTarget,or,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Hi(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){Ie._dragging===this&&this.finishDrag();return}if(!(Ie._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(Ie._dragging=this,this._preventOutline&&Xi(this._element),ji(),On(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t,i=Ko(this._element);this._startPoint=new H(e.clientX,e.clientY),this._startPos=Ge(this._element),this._parentScale=Ki(i);var a=t.type==="mousedown";U(document,a?"mousemove":"touchmove",this._onMove,this),U(document,a?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var e=t.touches&&t.touches.length===1?t.touches[0]:t,i=new H(e.clientX,e.clientY)._subtract(this._startPoint);!i.x&&!i.y||Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(i.x/=this._parentScale.x,i.y/=this._parentScale.y,It(t),this._moved||(this.fire("dragstart"),this._moved=!0,G(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),G(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Mt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Pt(document.body,"leaflet-dragging"),this._lastTarget&&(Pt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ot(document,"mousemove touchmove",this._onMove,this),ot(document,"mouseup touchend touchcancel",this._onUp,this),qi(),Tn();var e=this._moved&&this._moving;this._moving=!1,Ie._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function rr(t,e,i){var a,c=[1,4,2,8],h,v,C,b,z,O,I,j;for(h=0,O=t.length;h<O;h++)t[h]._code=$e(t[h],e);for(C=0;C<4;C++){for(I=c[C],a=[],h=0,O=t.length,v=O-1;h<O;v=h++)b=t[h],z=t[v],b._code&I?z._code&I||(j=Yn(z,b,I,e,i),j._code=$e(j,e),a.push(j)):(z._code&I&&(j=Yn(z,b,I,e,i),j._code=$e(j,e),a.push(j)),a.push(b));t=a}return t}function ar(t,e){var i,a,c,h,v,C,b,z,O;if(!t||t.length===0)throw new Error("latlngs not passed");Yt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var I=$([0,0]),j=zt(t),Rt=j.getNorthWest().distanceTo(j.getSouthWest())*j.getNorthEast().distanceTo(j.getNorthWest());Rt<1700&&(I=oo(t));var Lt=t.length,Qt=[];for(i=0;i<Lt;i++){var Ut=$(t[i]);Qt.push(e.project($([Ut.lat-I.lat,Ut.lng-I.lng])))}for(C=b=z=0,i=0,a=Lt-1;i<Lt;a=i++)c=Qt[i],h=Qt[a],v=c.y*h.x-h.y*c.x,b+=(c.x+h.x)*v,z+=(c.y+h.y)*v,C+=v*3;C===0?O=Qt[0]:O=[b/C,z/C];var rn=e.unproject(R(O));return $([rn.lat+I.lat,rn.lng+I.lng])}function oo(t){for(var e=0,i=0,a=0,c=0;c<t.length;c++){var h=$(t[c]);e+=h.lat,i+=h.lng,a++}return $([e/a,i/a])}var Gl={__proto__:null,clipPolygon:rr,polygonCenter:ar,centroid:oo};function lr(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=$l(t,i),t=ql(t,i),t}function sr(t,e,i){return Math.sqrt(Nn(t,e,i,!0))}function jl(t,e,i){return Nn(t,e,i)}function ql(t,e){var i=t.length,a=typeof Uint8Array<"u"?Uint8Array:Array,c=new a(i);c[0]=c[i-1]=1,ro(t,c,e,0,i-1);var h,v=[];for(h=0;h<i;h++)c[h]&&v.push(t[h]);return v}function ro(t,e,i,a,c){var h=0,v,C,b;for(C=a+1;C<=c-1;C++)b=Nn(t[C],t[a],t[c],!0),b>h&&(v=C,h=b);h>i&&(e[v]=1,ro(t,e,i,a,v),ro(t,e,i,v,c))}function $l(t,e){for(var i=[t[0]],a=1,c=0,h=t.length;a<h;a++)Xl(t[a],t[c])>e&&(i.push(t[a]),c=a);return c<h-1&&i.push(t[h-1]),i}var cr;function dr(t,e,i,a,c){var h=a?cr:$e(t,i),v=$e(e,i),C,b,z;for(cr=v;;){if(!(h|v))return[t,e];if(h&v)return!1;C=h||v,b=Yn(t,e,C,i,c),z=$e(b,i),C===h?(t=b,h=z):(e=b,v=z)}}function Yn(t,e,i,a,c){var h=e.x-t.x,v=e.y-t.y,C=a.min,b=a.max,z,O;return i&8?(z=t.x+h*(b.y-t.y)/v,O=b.y):i&4?(z=t.x+h*(C.y-t.y)/v,O=C.y):i&2?(z=b.x,O=t.y+v*(b.x-t.x)/h):i&1&&(z=C.x,O=t.y+v*(C.x-t.x)/h),new H(z,O,c)}function $e(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i}function Xl(t,e){var i=e.x-t.x,a=e.y-t.y;return i*i+a*a}function Nn(t,e,i,a){var c=e.x,h=e.y,v=i.x-c,C=i.y-h,b=v*v+C*C,z;return b>0&&(z=((t.x-c)*v+(t.y-h)*C)/b,z>1?(c=i.x,h=i.y):z>0&&(c+=v*z,h+=C*z)),v=t.x-c,C=t.y-h,a?v*v+C*C:new H(c,h)}function Yt(t){return!jt(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function ur(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Yt(t)}function pr(t,e){var i,a,c,h,v,C,b,z;if(!t||t.length===0)throw new Error("latlngs not passed");Yt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var O=$([0,0]),I=zt(t),j=I.getNorthWest().distanceTo(I.getSouthWest())*I.getNorthEast().distanceTo(I.getNorthWest());j<1700&&(O=oo(t));var Rt=t.length,Lt=[];for(i=0;i<Rt;i++){var Qt=$(t[i]);Lt.push(e.project($([Qt.lat-O.lat,Qt.lng-O.lng])))}for(i=0,a=0;i<Rt-1;i++)a+=Lt[i].distanceTo(Lt[i+1])/2;if(a===0)z=Lt[0];else for(i=0,h=0;i<Rt-1;i++)if(v=Lt[i],C=Lt[i+1],c=v.distanceTo(C),h+=c,h>a){b=(h-a)/c,z=[C.x-b*(C.x-v.x),C.y-b*(C.y-v.y)];break}var Ut=e.unproject(R(z));return $([Ut.lat+O.lat,Ut.lng+O.lng])}var Kl={__proto__:null,simplify:lr,pointToSegmentDistance:sr,closestPointOnSegment:jl,clipSegment:dr,_getEdgeIntersection:Yn,_getBitCode:$e,_sqClosestPointOnSegment:Nn,isFlat:Yt,_flat:ur,polylineCenter:pr},ao={project:function(t){return new H(t.lng,t.lat)},unproject:function(t){return new et(t.y,t.x)},bounds:new dt([-180,-90],[180,90])},lo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new dt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var e=Math.PI/180,i=this.R,a=t.lat*e,c=this.R_MINOR/i,h=Math.sqrt(1-c*c),v=h*Math.sin(a),C=Math.tan(Math.PI/4-a/2)/Math.pow((1-v)/(1+v),h/2);return a=-i*Math.log(Math.max(C,1e-10)),new H(t.lng*e*i,a)},unproject:function(t){for(var e=180/Math.PI,i=this.R,a=this.R_MINOR/i,c=Math.sqrt(1-a*a),h=Math.exp(-t.y/i),v=Math.PI/2-2*Math.atan(h),C=0,b=.1,z;C<15&&Math.abs(b)>1e-7;C++)z=c*Math.sin(v),z=Math.pow((1-z)/(1+z),c/2),b=Math.PI/2-2*Math.atan(h*z)-v,v+=b;return new et(v*e,t.x*e/i)}},Jl={__proto__:null,LonLat:ao,Mercator:lo,SphericalMercator:Bi},Yl=n({},Be,{code:"EPSG:3395",projection:lo,transformation:function(){var t=.5/(Math.PI*lo.R);return Mn(t,.5,-t,.5)}()}),mr=n({},Be,{code:"EPSG:4326",projection:ao,transformation:Mn(1/180,1,-1/180,.5)}),Ql=n({},we,{projection:ao,transformation:Mn(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,a=e.lat-t.lat;return Math.sqrt(i*i+a*a)},infinite:!0});we.Earth=Be,we.EPSG3395=Yl,we.EPSG3857=Ni,we.EPSG900913=rl,we.EPSG4326=mr,we.Simple=Ql;var le=zn.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[y(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[y(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var i=this.getEvents();e.on(i,this),this.once("remove",function(){e.off(i,this)},this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});X.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=y(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=y(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return y(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){t=t?jt(t)?t:[t]:[];for(var e=0,i=t.length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[y(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=y(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,i=this._getZoomSpan();for(var a in this._zoomBoundLayers){var c=this._zoomBoundLayers[a].options;t=c.minZoom===void 0?t:Math.min(t,c.minZoom),e=c.maxZoom===void 0?e:Math.max(e,c.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Qe=le.extend({initialize:function(t,e){it(this,e),this._layers={};var i,a;if(t)for(i=0,a=t.length;i<a;i++)this.addLayer(t[i])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){var e=typeof t=="number"?t:this.getLayerId(t);return e in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e=Array.prototype.slice.call(arguments,1),i,a;for(i in this._layers)a=this._layers[i],a[t]&&a[t].apply(a,e);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return y(t)}}),ts=function(t,e){return new Qe(t,e)},Ee=Qe.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Qe.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Qe.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new Ht;for(var e in this._layers){var i=this._layers[e];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),es=function(t,e){return new Ee(t,e)},tn=Me.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){it(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var a=this._createImg(i,e&&e.tagName==="IMG"?e:null);return this._setIconStyles(a,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),a},_setIconStyles:function(t,e){var i=this.options,a=i[e+"Size"];typeof a=="number"&&(a=[a,a]);var c=R(a),h=R(e==="shadow"&&i.shadowAnchor||i.iconAnchor||c&&c.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),h&&(t.style.marginLeft=-h.x+"px",t.style.marginTop=-h.y+"px"),c&&(t.style.width=c.x+"px",t.style.height=c.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return B.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function ns(t){return new tn(t)}var Dn=tn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof Dn.imagePath!="string"&&(Dn.imagePath=this._detectIconPath()),(this.options.imagePath||Dn.imagePath)+tn.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(i,a,c){var h=a.exec(i);return h&&h[c]};return t=e(t,/^url\((['"])?(.+)\1\)$/,2),t&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=K("div","leaflet-default-icon-path",document.body),e=Sn(t,"background-image")||Sn(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e),e)return e;var i=document.querySelector('link[href$="leaflet.css"]');return i?i.href.substring(0,i.href.length-11-1):""}}),_r=he.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Ie(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),G(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Pt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,i=e._map,a=this._marker.options.autoPanSpeed,c=this._marker.options.autoPanPadding,h=Ge(e._icon),v=i.getPixelBounds(),C=i.getPixelOrigin(),b=Wt(v.min._subtract(C).add(c),v.max._subtract(C).subtract(c));if(!b.contains(h)){var z=R((Math.max(b.max.x,h.x)-b.max.x)/(v.max.x-b.max.x)-(Math.min(b.min.x,h.x)-b.min.x)/(v.min.x-b.min.x),(Math.max(b.max.y,h.y)-b.max.y)/(v.max.y-b.max.y)-(Math.min(b.min.y,h.y)-b.min.y)/(v.min.y-b.min.y)).multiplyBy(a);i.panBy(z,{animate:!1}),this._draggable._newPos._add(z),this._draggable._startPos._add(z),Mt(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=Zt(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(Kt(this._panRequest),this._panRequest=Zt(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,i=e._shadow,a=Ge(e._icon),c=e._map.layerPointToLatLng(a);i&&Mt(i,a),e._latlng=c,t.latlng=c,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){Kt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Qn=le.extend({options:{icon:new Dn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){it(this,e),this._latlng=$(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=$(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),a=!1;i!==this._icon&&(this._icon&&this._removeIcon(),a=!0,t.title&&(i.title=t.title),i.tagName==="IMG"&&(i.alt=t.alt||"")),G(i,e),t.keyboard&&(i.tabIndex="0",i.setAttribute("role","button")),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&U(i,"focus",this._panOnFocus,this);var c=t.icon.createShadow(this._shadow),h=!1;c!==this._shadow&&(this._removeShadow(),h=!0),c&&(G(c,e),c.alt=""),this._shadow=c,t.opacity<1&&this._updateOpacity(),a&&this.getPane().appendChild(this._icon),this._initInteraction(),c&&h&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ot(this._icon,"focus",this._panOnFocus,this),ut(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ut(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Mt(this._icon,t),this._shadow&&Mt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(G(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),_r)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new _r(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Jt(this._icon,t),this._shadow&&Jt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,i=e.iconSize?R(e.iconSize):R(0,0),a=e.iconAnchor?R(e.iconAnchor):R(0,0);t.panInside(this._latlng,{paddingTopLeft:a,paddingBottomRight:i.subtract(a)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function is(t,e){return new Qn(t,e)}var Ne=le.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return it(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ti=Ne.extend({options:{fill:!0,radius:10},initialize:function(t,e){it(this,e),this._latlng=$(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=$(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Ne.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),a=[t+i,e+i];this._pxBounds=new dt(this._point.subtract(a),this._point.add(a))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function os(t,e){return new ti(t,e)}var so=ti.extend({initialize:function(t,e,i){if(typeof e=="number"&&(e=n({},i,{radius:e})),it(this,e),this._latlng=$(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new Ht(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Ne.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,a=i.options.crs;if(a.distance===Be.distance){var c=Math.PI/180,h=this._mRadius/Be.R/c,v=i.project([e+h,t]),C=i.project([e-h,t]),b=v.add(C).divideBy(2),z=i.unproject(b).lat,O=Math.acos((Math.cos(h*c)-Math.sin(e*c)*Math.sin(z*c))/(Math.cos(e*c)*Math.cos(z*c)))/c;(isNaN(O)||O===0)&&(O=h/Math.cos(Math.PI/180*e)),this._point=b.subtract(i.getPixelOrigin()),this._radius=isNaN(O)?0:b.x-i.project([z,t-O]).x,this._radiusY=b.y-v.y}else{var I=a.unproject(a.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(I).x}this._updateBounds()}});function rs(t,e,i){return new so(t,e,i)}var Se=Ne.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){it(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e=1/0,i=null,a=Nn,c,h,v=0,C=this._parts.length;v<C;v++)for(var b=this._parts[v],z=1,O=b.length;z<O;z++){c=b[z-1],h=b[z];var I=a(t,c,h,!0);I<e&&(e=I,i=a(t,c,h))}return i&&(i.distance=Math.sqrt(e)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return pr(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=$(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new Ht,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Yt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=Yt(t),a=0,c=t.length;a<c;a++)i?(e[a]=$(t[a]),this._bounds.extend(e[a])):e[a]=this._convertLatLngs(t[a]);return e},_project:function(){var t=new dt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new H(t,t);this._rawPxBounds&&(this._pxBounds=new dt([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,i){var a=t[0]instanceof et,c=t.length,h,v;if(a){for(v=[],h=0;h<c;h++)v[h]=this._map.latLngToLayerPoint(t[h]),i.extend(v[h]);e.push(v)}else for(h=0;h<c;h++)this._projectLatlngs(t[h],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var e=this._parts,i,a,c,h,v,C,b;for(i=0,c=0,h=this._rings.length;i<h;i++)for(b=this._rings[i],a=0,v=b.length;a<v-1;a++)C=dr(b[a],b[a+1],t,a,!0),C&&(e[c]=e[c]||[],e[c].push(C[0]),(C[1]!==b[a+1]||a===v-2)&&(e[c].push(C[1]),c++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,a=t.length;i<a;i++)t[i]=lr(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var i,a,c,h,v,C,b=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,h=this._parts.length;i<h;i++)for(C=this._parts[i],a=0,v=C.length,c=v-1;a<v;c=a++)if(!(!e&&a===0)&&sr(t,C[c],C[a])<=b)return!0;return!1}});function as(t,e){return new Se(t,e)}Se._flat=ur;var en=Se.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ar(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=Se.prototype._convertLatLngs.call(this,t),i=e.length;return i>=2&&e[0]instanceof et&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){Se.prototype._setLatLngs.call(this,t),Yt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Yt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new H(e,e);if(t=new dt(t.min.subtract(i),t.max.add(i)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var a=0,c=this._rings.length,h;a<c;a++)h=rr(this._rings[a],t,!0),h.length&&this._parts.push(h)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e=!1,i,a,c,h,v,C,b,z;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(h=0,b=this._parts.length;h<b;h++)for(i=this._parts[h],v=0,z=i.length,C=z-1;v<z;C=v++)a=i[v],c=i[C],a.y>t.y!=c.y>t.y&&t.x<(c.x-a.x)*(t.y-a.y)/(c.y-a.y)+a.x&&(e=!e);return e||Se.prototype._containsPoint.call(this,t,!0)}});function ls(t,e){return new en(t,e)}var Oe=Ee.extend({initialize:function(t,e){it(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e=jt(t)?t:t.features,i,a,c;if(e){for(i=0,a=e.length;i<a;i++)c=e[i],(c.geometries||c.geometry||c.features||c.coordinates)&&this.addData(c);return this}var h=this.options;if(h.filter&&!h.filter(t))return this;var v=ei(t,h);return v?(v.feature=oi(t),v.defaultOptions=v.options,this.resetStyle(v),h.onEachFeature&&h.onEachFeature(t,v),this.addLayer(v)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&(typeof e=="function"&&(e=e(t.feature)),t.setStyle(e))}});function ei(t,e){var i=t.type==="Feature"?t.geometry:t,a=i?i.coordinates:null,c=[],h=e&&e.pointToLayer,v=e&&e.coordsToLatLng||co,C,b,z,O;if(!a&&!i)return null;switch(i.type){case"Point":return C=v(a),hr(h,t,C,e);case"MultiPoint":for(z=0,O=a.length;z<O;z++)C=v(a[z]),c.push(hr(h,t,C,e));return new Ee(c);case"LineString":case"MultiLineString":return b=ni(a,i.type==="LineString"?0:1,v),new Se(b,e);case"Polygon":case"MultiPolygon":return b=ni(a,i.type==="Polygon"?1:2,v),new en(b,e);case"GeometryCollection":for(z=0,O=i.geometries.length;z<O;z++){var I=ei({geometry:i.geometries[z],type:"Feature",properties:t.properties},e);I&&c.push(I)}return new Ee(c);case"FeatureCollection":for(z=0,O=i.features.length;z<O;z++){var j=ei(i.features[z],e);j&&c.push(j)}return new Ee(c);default:throw new Error("Invalid GeoJSON object.")}}function hr(t,e,i,a){return t?t(e,i):new Qn(i,a&&a.markersInheritOptions&&a)}function co(t){return new et(t[1],t[0],t[2])}function ni(t,e,i){for(var a=[],c=0,h=t.length,v;c<h;c++)v=e?ni(t[c],e-1,i):(i||co)(t[c]),a.push(v);return a}function uo(t,e){return t=$(t),t.alt!==void 0?[Tt(t.lng,e),Tt(t.lat,e),Tt(t.alt,e)]:[Tt(t.lng,e),Tt(t.lat,e)]}function ii(t,e,i,a){for(var c=[],h=0,v=t.length;h<v;h++)c.push(e?ii(t[h],Yt(t[h])?0:e-1,i,a):uo(t[h],a));return!e&&i&&c.length>0&&c.push(c[0].slice()),c}function nn(t,e){return t.feature?n({},t.feature,{geometry:e}):oi(e)}function oi(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var po={toGeoJSON:function(t){return nn(this,{type:"Point",coordinates:uo(this.getLatLng(),t)})}};Qn.include(po),so.include(po),ti.include(po),Se.include({toGeoJSON:function(t){var e=!Yt(this._latlngs),i=ii(this._latlngs,e?1:0,!1,t);return nn(this,{type:(e?"Multi":"")+"LineString",coordinates:i})}}),en.include({toGeoJSON:function(t){var e=!Yt(this._latlngs),i=e&&!Yt(this._latlngs[0]),a=ii(this._latlngs,i?2:e?1:0,!0,t);return e||(a=[a]),nn(this,{type:(i?"Multi":"")+"Polygon",coordinates:a})}}),Qe.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(i){e.push(i.toGeoJSON(t).geometry.coordinates)}),nn(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(e==="MultiPoint")return this.toMultiPoint(t);var i=e==="GeometryCollection",a=[];return this.eachLayer(function(c){if(c.toGeoJSON){var h=c.toGeoJSON(t);if(i)a.push(h.geometry);else{var v=oi(h);v.type==="FeatureCollection"?a.push.apply(a,v.features):a.push(v)}}}),i?nn(this,{geometries:a,type:"GeometryCollection"}):{type:"FeatureCollection",features:a}}});function gr(t,e){return new Oe(t,e)}var ss=gr,ri=le.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,i){this._url=t,this._bounds=zt(e),it(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(G(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ut(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Je(this._image),this},bringToBack:function(){return this._map&&Ye(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=zt(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",e=this._image=t?this._url:K("img");if(G(e,"leaflet-image-layer"),this._zoomAnimated&&G(e,"leaflet-zoom-animated"),this.options.className&&G(e,this.options.className),e.onselectstart=V,e.onmousemove=V,e.onload=m(this.fire,this,"load"),e.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(e.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=e.src;return}e.src=this._url,e.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Ue(this._image,i,e)},_reset:function(){var t=this._image,e=new dt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();Mt(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){Jt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),cs=function(t,e,i){return new ri(t,e,i)},fr=ri.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",e=this._image=t?this._url:K("video");if(G(e,"leaflet-image-layer"),this._zoomAnimated&&G(e,"leaflet-zoom-animated"),this.options.className&&G(e,this.options.className),e.onselectstart=V,e.onmousemove=V,e.onloadeddata=m(this.fire,this,"load"),t){for(var i=e.getElementsByTagName("source"),a=[],c=0;c<i.length;c++)a.push(i[c].src);this._url=i.length>0?a:[e.src];return}jt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var h=0;h<this._url.length;h++){var v=K("source");v.src=this._url[h],e.appendChild(v)}}});function ds(t,e,i){return new fr(t,e,i)}var vr=ri.extend({_initImage:function(){var t=this._image=this._url;G(t,"leaflet-image-layer"),this._zoomAnimated&&G(t,"leaflet-zoom-animated"),this.options.className&&G(t,this.options.className),t.onselectstart=V,t.onmousemove=V}});function us(t,e,i){return new vr(t,e,i)}var ge=le.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof et||jt(t))?(this._latlng=$(t),it(this,e)):(it(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Jt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Jt(this._container,1),this.bringToFront(),this.options.interactive&&(G(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Jt(this._container,0),this._removeTimeout=setTimeout(m(ut,void 0,this._container),200)):ut(this._container),this.options.interactive&&(Pt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=$(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Je(this._container),this},bringToBack:function(){return this._map&&Ye(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof Ee){e=null;var i=this._source._layers;for(var a in i)if(i[a]._map){e=i[a];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else if(e.getBounds)t=e.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof e=="string")t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=R(this.options.offset),i=this._getAnchor();this._zoomAnimated?Mt(this._container,t.add(i)):e=e.add(t).add(i);var a=this._containerBottom=-e.y,c=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=a+"px",this._container.style.left=c+"px"}},_getAnchor:function(){return[0,0]}});X.include({_initOverlay:function(t,e,i,a){var c=e;return c instanceof t||(c=new t(a).setContent(e)),i&&c.setLatLng(i),c}}),le.include({_initOverlay:function(t,e,i,a){var c=i;return c instanceof t?(it(c,a),c._source=this):(c=e&&!a?e:new t(a,this),c.setContent(i)),c}});var ai=ge.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,ge.prototype.openOn.call(this,t)},onAdd:function(t){ge.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ne||this._source.on("preclick",je))},onRemove:function(t){ge.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ne||this._source.off("preclick",je))},getEvents:function(){var t=ge.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=K("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=K("div",t+"-content-wrapper",e);if(this._contentNode=K("div",t+"-content",i),Bn(e),to(this._contentNode),U(e,"contextmenu",je),this._tipContainer=K("div",t+"-tip-container",e),this._tip=K("div",t+"-tip",this._tipContainer),this.options.closeButton){var a=this._closeButton=K("a",t+"-close-button",e);a.setAttribute("role","button"),a.setAttribute("aria-label","Close popup"),a.href="#close",a.innerHTML='<span aria-hidden="true">&#215;</span>',U(a,"click",function(c){It(c),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var a=t.offsetHeight,c=this.options.maxHeight,h="leaflet-popup-scrolled";c&&a>c?(e.height=c+"px",G(t,h)):Pt(t,h),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();Mt(this._container,e.add(i))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,e=parseInt(Sn(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,a=this._containerWidth,c=new H(this._containerLeft,-i-this._containerBottom);c._add(Ge(this._container));var h=t.layerPointToContainerPoint(c),v=R(this.options.autoPanPadding),C=R(this.options.autoPanPaddingTopLeft||v),b=R(this.options.autoPanPaddingBottomRight||v),z=t.getSize(),O=0,I=0;h.x+a+b.x>z.x&&(O=h.x+a-z.x+b.x),h.x-O-C.x<0&&(O=h.x-C.x),h.y+i+b.y>z.y&&(I=h.y+i-z.y+b.y),h.y-I-C.y<0&&(I=h.y-C.y),(O||I)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([O,I]))}},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ps=function(t,e){return new ai(t,e)};X.mergeOptions({closePopupOnClick:!0}),X.include({openPopup:function(t,e,i){return this._initOverlay(ai,t,e,i).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),le.include({bindPopup:function(t,e){return this._popup=this._initOverlay(ai,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Ee||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){qe(t);var e=t.layer||t.target;if(this._popup._source===e&&!(e instanceof Ne)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=e,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var li=ge.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){ge.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){ge.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=ge.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=K("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,i,a=this._map,c=this._container,h=a.latLngToContainerPoint(a.getCenter()),v=a.layerPointToContainerPoint(t),C=this.options.direction,b=c.offsetWidth,z=c.offsetHeight,O=R(this.options.offset),I=this._getAnchor();C==="top"?(e=b/2,i=z):C==="bottom"?(e=b/2,i=0):C==="center"?(e=b/2,i=z/2):C==="right"?(e=0,i=z/2):C==="left"?(e=b,i=z/2):v.x<h.x?(C="right",e=0,i=z/2):(C="left",e=b+(O.x+I.x)*2,i=z/2),t=t.subtract(R(e,i,!0)).add(O).add(I),Pt(c,"leaflet-tooltip-right"),Pt(c,"leaflet-tooltip-left"),Pt(c,"leaflet-tooltip-top"),Pt(c,"leaflet-tooltip-bottom"),G(c,"leaflet-tooltip-"+C),Mt(c,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Jt(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ms=function(t,e){return new li(t,e)};X.include({openTooltip:function(t,e,i){return this._initOverlay(li,t,e,i).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),le.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(li,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,i.click=this._openTooltip,this._map?this._addFocusListeners():i.add=this._addFocusListeners),this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Ee||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&(U(e,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),U(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var e=this;this._map.once("moveend",function(){e._openOnceFlag=!1,e._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var e=t.latlng,i,a;this._tooltip.options.sticky&&t.originalEvent&&(i=this._map.mouseEventToContainerPoint(t.originalEvent),a=this._map.containerPointToLayerPoint(i),e=this._map.layerPointToLatLng(a)),this._tooltip.setLatLng(e)}});var Cr=tn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&t.tagName==="DIV"?t:document.createElement("div"),i=this.options;if(i.html instanceof Element?(qn(e),e.appendChild(i.html)):e.innerHTML=i.html!==!1?i.html:"",i.bgPos){var a=R(i.bgPos);e.style.backgroundPosition=-a.x+"px "+-a.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function _s(t){return new Cr(t)}tn.Default=Dn;var An=le.extend({options:{tileSize:256,opacity:1,updateWhenIdle:B.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){it(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ut(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Je(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ye(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=T(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof H?t:new H(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e=this.getPane().children,i=-t(-1/0,1/0),a=0,c=e.length,h;a<c;a++)h=e[a].style.zIndex,e[a]!==this._container&&h&&(i=t(i,+h));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!B.ielt9){Jt(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var a in this._tiles){var c=this._tiles[a];if(!(!c.current||!c.loaded)){var h=Math.min(1,(t-c.loaded)/200);Jt(c.el,h),h<1?e=!0:(c.active?i=!0:this._onOpaqueTile(c),c.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(Kt(this._fadeFrame),this._fadeFrame=Zt(this._updateOpacity,this))}},_onOpaqueTile:V,_initContainer:function(){this._container||(this._container=K("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t!==void 0){for(var i in this._levels)i=Number(i),this._levels[i].el.children.length||i===t?(this._levels[i].el.style.zIndex=e-Math.abs(t-i),this._onUpdateLevel(i)):(ut(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var a=this._levels[t],c=this._map;return a||(a=this._levels[t]={},a.el=K("div","leaflet-tile-container leaflet-zoom-animated",this._container),a.el.style.zIndex=e,a.origin=c.project(c.unproject(c.getPixelOrigin()),t).round(),a.zoom=t,this._setZoomTransform(a,c.getCenter(),c.getZoom()),V(a.el.offsetWidth),this._onCreateLevel(a)),this._level=a,a}},_onUpdateLevel:V,_onRemoveLevel:V,_onCreateLevel:V,_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var a=e.coords;this._retainParent(a.x,a.y,a.z,a.z-5)||this._retainChildren(a.x,a.y,a.z,a.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ut(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,i,a){var c=Math.floor(t/2),h=Math.floor(e/2),v=i-1,C=new H(+c,+h);C.z=+v;var b=this._tileCoordsToKey(C),z=this._tiles[b];return z&&z.active?(z.retain=!0,!0):(z&&z.loaded&&(z.retain=!0),v>a?this._retainParent(c,h,v,a):!1)},_retainChildren:function(t,e,i,a){for(var c=2*t;c<2*t+2;c++)for(var h=2*e;h<2*e+2;h++){var v=new H(c,h);v.z=i+1;var C=this._tileCoordsToKey(v),b=this._tiles[C];if(b&&b.active){b.retain=!0;continue}else b&&b.loaded&&(b.retain=!0);i+1<a&&this._retainChildren(c,h,i+1,a)}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return e.minNativeZoom!==void 0&&t<e.minNativeZoom?e.minNativeZoom:e.maxNativeZoom!==void 0&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,i,a){var c=Math.round(e);this.options.maxZoom!==void 0&&c>this.options.maxZoom||this.options.minZoom!==void 0&&c<this.options.minZoom?c=void 0:c=this._clampZoom(c);var h=this.options.updateWhenZooming&&c!==this._tileZoom;(!a||h)&&(this._tileZoom=c,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),c!==void 0&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var a=this._map.getZoomScale(i,t.zoom),c=t.origin.multiplyBy(a).subtract(this._map._getNewPixelOrigin(e,i)).round();B.any3d?Ue(t.el,c,a):Mt(t.el,c)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),a=this._tileZoom,c=this._map.getPixelWorldBounds(this._tileZoom);c&&(this._globalTileRange=this._pxBoundsToTileRange(c)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],a).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],a).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],a).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],a).y/i.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),a=e.getZoomScale(i,this._tileZoom),c=e.project(t,this._tileZoom).floor(),h=e.getSize().divideBy(a*2);return new dt(c.subtract(h),c.add(h))},_update:function(t){var e=this._map;if(e){var i=this._clampZoom(e.getZoom());if(t===void 0&&(t=e.getCenter()),this._tileZoom!==void 0){var a=this._getTiledPixelBounds(t),c=this._pxBoundsToTileRange(a),h=c.getCenter(),v=[],C=this.options.keepBuffer,b=new dt(c.getBottomLeft().subtract([C,-C]),c.getTopRight().add([C,-C]));if(!(isFinite(c.min.x)&&isFinite(c.min.y)&&isFinite(c.max.x)&&isFinite(c.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var z in this._tiles){var O=this._tiles[z].coords;(O.z!==this._tileZoom||!b.contains(new H(O.x,O.y)))&&(this._tiles[z].current=!1)}if(Math.abs(i-this._tileZoom)>1){this._setView(t,i);return}for(var I=c.min.y;I<=c.max.y;I++)for(var j=c.min.x;j<=c.max.x;j++){var Rt=new H(j,I);if(Rt.z=this._tileZoom,!!this._isValidTile(Rt)){var Lt=this._tiles[this._tileCoordsToKey(Rt)];Lt?Lt.current=!0:v.push(Rt)}}if(v.sort(function(Ut,rn){return Ut.distanceTo(h)-rn.distanceTo(h)}),v.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Qt=document.createDocumentFragment();for(j=0;j<v.length;j++)this._addTile(v[j],Qt);this._level.el.appendChild(Qt)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var a=this._tileCoordsToBounds(t);return zt(this.options.bounds).overlaps(a)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,i=this.getTileSize(),a=t.scaleBy(i),c=a.add(i),h=e.unproject(a,t.z),v=e.unproject(c,t.z);return[h,v]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),i=new Ht(e[0],e[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),i=new H(+e[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(ut(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){G(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=V,t.onmousemove=V,B.ielt9&&this.options.opacity<1&&Jt(t,this.options.opacity)},_addTile:function(t,e){var i=this._getTilePos(t),a=this._tileCoordsToKey(t),c=this.createTile(this._wrapCoords(t),m(this._tileReady,this,t));this._initTile(c),this.createTile.length<2&&Zt(m(this._tileReady,this,t,null,c)),Mt(c,i),this._tiles[a]={el:c,coords:t,current:!0},e.appendChild(c),this.fire("tileloadstart",{tile:c,coords:t})},_tileReady:function(t,e,i){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var a=this._tileCoordsToKey(t);i=this._tiles[a],i&&(i.loaded=+new Date,this._map._fadeAnimated?(Jt(i.el,0),Kt(this._fadeFrame),this._fadeFrame=Zt(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(G(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),B.ielt9||!this._map._fadeAnimated?Zt(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new H(this._wrapX?M(t.x,this._wrapX):t.x,this._wrapY?M(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new dt(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function hs(t){return new An(t)}var on=An.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,e=it(this,e),e.detectRetina&&B.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),typeof e.subdomains=="string"&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&e===void 0&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return U(i,"load",m(this._tileOnLoad,this,e,i)),U(i,"error",m(this._tileOnError,this,e,i)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(i.referrerPolicy=this.options.referrerPolicy),i.alt="",i.src=this.getTileUrl(t),i},getTileUrl:function(t){var e={r:B.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return Un(this._url,n(e,this.options))},_tileOnLoad:function(t,e){B.ielt9?setTimeout(m(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var a=this.options.errorTileUrl;a&&e.getAttribute("src")!==a&&(e.src=a),t(i,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,i=this.options.zoomReverse,a=this.options.zoomOffset;return i&&(t=e-t),t+a},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=V,e.onerror=V,!e.complete)){e.src=Xe;var i=this._tiles[t].coords;ut(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:i})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",Xe),An.prototype._removeTile.call(this,t)},_tileReady:function(t,e,i){if(!(!this._map||i&&i.getAttribute("src")===Xe))return An.prototype._tileReady.call(this,t,e,i)}});function yr(t,e){return new on(t,e)}var br=on.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=n({},this.defaultWmsParams);for(var a in e)a in this.options||(i[a]=e[a]);e=it(this,e);var c=e.detectRetina&&B.retina?2:1,h=this.getTileSize();i.width=h.x*c,i.height=h.y*c,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,on.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),i=this._crs,a=Wt(i.project(e[0]),i.project(e[1])),c=a.min,h=a.max,v=(this._wmsVersion>=1.3&&this._crs===mr?[c.y,c.x,h.y,h.x]:[c.x,c.y,h.x,h.y]).join(","),C=on.prototype.getTileUrl.call(this,t);return C+Hn(this.wmsParams,C,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+v},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});function gs(t,e){return new br(t,e)}on.WMS=br,yr.wms=gs;var Te=le.extend({options:{padding:.1},initialize:function(t){it(this,t),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),G(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),a=this._map.getSize().multiplyBy(.5+this.options.padding),c=this._map.project(this._center,e),h=a.multiplyBy(-i).add(c).subtract(this._map._getNewPixelOrigin(t,e));B.any3d?Ue(this._container,h,i):Mt(this._container,h)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new dt(i,i.add(e.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),xr=Te.extend({options:{tolerance:0},getEvents:function(){var t=Te.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Te.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");U(t,"mousemove",this._onMouseMove,this),U(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),U(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){Kt(this._redrawRequest),delete this._ctx,ut(this._container),ot(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var e in this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Te.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),a=B.retina?2:1;Mt(e,t.min),e.width=a*i.x,e.height=a*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",B.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Te.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[y(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,i=e.next,a=e.prev;i?i.prev=a:this._drawLast=a,a?a.next=i:this._drawFirst=i,delete t._order,delete this._layers[y(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var e=t.options.dashArray.split(/[, ]+/),i=[],a,c;for(c=0;c<e.length;c++){if(a=Number(e[c]),isNaN(a))return;i.push(a)}t.options._dashArray=i}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||Zt(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new dt,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var i=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var a=this._drawFirst;a;a=a.next)t=a.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,a,c,h,v=t._parts,C=v.length,b=this._ctx;if(C){for(b.beginPath(),i=0;i<C;i++){for(a=0,c=v[i].length;a<c;a++)h=v[i][a],b[a?"lineTo":"moveTo"](h.x,h.y);e&&b.closePath()}this._fillStroke(b,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var e=t._point,i=this._ctx,a=Math.max(Math.round(t._radius),1),c=(Math.max(Math.round(t._radiusY),1)||a)/a;c!==1&&(i.save(),i.scale(1,c)),i.beginPath(),i.arc(e.x,e.y/c,a,0,Math.PI*2,!1),c!==1&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&i.weight!==0&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var e=this._map.mouseEventToLayerPoint(t),i,a,c=this._drawFirst;c;c=c.next)i=c.layer,i.options.interactive&&i._containsPoint(e)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(i))&&(a=i);this._fireEvent(a?[a]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(Pt(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var i,a,c=this._drawFirst;c;c=c.next)i=c.layer,i.options.interactive&&i._containsPoint(e)&&(a=i);a!==this._hoveredLayer&&(this._handleMouseOut(t),a&&(G(this._container,"leaflet-interactive"),this._fireEvent([a],t,"mouseover"),this._hoveredLayer=a)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var i=e.next,a=e.prev;if(i)i.prev=a;else return;a?a.next=i:i&&(this._drawFirst=i),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t)}},_bringToBack:function(t){var e=t._order;if(e){var i=e.next,a=e.prev;if(a)a.next=i;else return;i?i.prev=a:a&&(this._drawLast=a),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t)}}});function Pr(t){return B.canvas?new xr(t):null}var Fn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),fs={_initContainer:function(){this._container=K("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Te.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Fn("shape");G(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Fn("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[y(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;ut(e),t.removeInteractiveTarget(e),delete this._layers[y(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,a=t.options,c=t._container;c.stroked=!!a.stroke,c.filled=!!a.fill,a.stroke?(e||(e=t._stroke=Fn("stroke")),c.appendChild(e),e.weight=a.weight+"px",e.color=a.color,e.opacity=a.opacity,a.dashArray?e.dashStyle=jt(a.dashArray)?a.dashArray.join(" "):a.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=a.lineCap.replace("butt","flat"),e.joinstyle=a.lineJoin):e&&(c.removeChild(e),t._stroke=null),a.fill?(i||(i=t._fill=Fn("fill")),c.appendChild(i),i.color=a.fillColor||a.color,i.opacity=a.fillOpacity):i&&(c.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),a=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+a+" 0,"+65535*360)},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){Je(t._container)},_bringToBack:function(t){Ye(t._container)}},si=B.vml?Fn:wo,Vn=Te.extend({_initContainer:function(){this._container=si("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=si("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ut(this._container),ot(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Te.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;(!this._svgSize||!this._svgSize.equals(e))&&(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),Mt(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=si("path");t.options.className&&G(e,t.options.className),t.options.interactive&&G(e,"leaflet-interactive"),this._updateStyle(t),this._layers[y(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ut(t._path),t.removeInteractiveTarget(t._path),delete this._layers[y(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,Eo(t._parts,e))},_updateCircle:function(t){var e=t._point,i=Math.max(Math.round(t._radius),1),a=Math.max(Math.round(t._radiusY),1)||i,c="a"+i+","+a+" 0 1,0 ",h=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+c+i*2+",0 "+c+-i*2+",0 ";this._setPath(t,h)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){Je(t._path)},_bringToBack:function(t){Ye(t._path)}});B.vml&&Vn.include(fs);function kr(t){return B.svg||B.vml?new Vn(t):null}X.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var e=this._paneRenderers[t];return e===void 0&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Pr(t)||kr(t)}});var zr=en.extend({initialize:function(t,e){en.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=zt(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function vs(t,e){return new zr(t,e)}Vn.create=si,Vn.pointsToPath=Eo,Oe.geometryToLayer=ei,Oe.coordsToLatLng=co,Oe.coordsToLatLngs=ni,Oe.latLngToCoords=uo,Oe.latLngsToCoords=ii,Oe.getFeature=nn,Oe.asFeature=oi,X.mergeOptions({boxZoom:!0});var Mr=he.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){U(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ot(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ut(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),On(),ji(),this._startPoint=this._map.mouseEventToContainerPoint(t),U(document,{contextmenu:qe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=K("div","leaflet-zoom-box",this._container),G(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new dt(this._point,this._startPoint),i=e.getSize();Mt(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(ut(this._box),Pt(this._container,"leaflet-crosshair")),Tn(),qi(),ot(document,{contextmenu:qe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var e=new Ht(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});X.addInitHook("addHandler","boxZoom",Mr),X.mergeOptions({doubleClickZoom:!0});var wr=he.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),a=e.options.zoomDelta,c=t.originalEvent.shiftKey?i-a:i+a;e.options.doubleClickZoom==="center"?e.setZoom(c):e.setZoomAround(t.containerPoint,c)}});X.addInitHook("addHandler","doubleClickZoom",wr),X.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Er=he.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Ie(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}G(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Pt(this._map._container,"leaflet-grab"),Pt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=zt(this._map.options.maxBounds);this._offsetLimit=Wt(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,a=this._draggable._newPos.x,c=(a-e+i)%t+e-i,h=(a+e+i)%t-e-i,v=Math.abs(c+i)<Math.abs(h+i)?c:h;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=v},_onDragEnd:function(t){var e=this._map,i=e.options,a=!i.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),a)e.fire("moveend");else{this._prunePositions(+new Date);var c=this._lastPos.subtract(this._positions[0]),h=(this._lastTime-this._times[0])/1e3,v=i.easeLinearity,C=c.multiplyBy(v/h),b=C.distanceTo([0,0]),z=Math.min(i.inertiaMaxSpeed,b),O=C.multiplyBy(z/b),I=z/(i.inertiaDeceleration*v),j=O.multiplyBy(-I/2).round();!j.x&&!j.y?e.fire("moveend"):(j=e._limitOffset(j,e.options.maxBounds),Zt(function(){e.panBy(j,{duration:I,easeLinearity:v,noMoveStart:!0,animate:!0})}))}}});X.addInitHook("addHandler","dragging",Er),X.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Sr=he.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),U(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ot(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,i=t.scrollTop||e.scrollTop,a=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(a,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e=this._panKeys={},i=this.keyCodes,a,c;for(a=0,c=i.left.length;a<c;a++)e[i.left[a]]=[-1*t,0];for(a=0,c=i.right.length;a<c;a++)e[i.right[a]]=[t,0];for(a=0,c=i.down.length;a<c;a++)e[i.down[a]]=[0,t];for(a=0,c=i.up.length;a<c;a++)e[i.up[a]]=[0,-1*t]},_setZoomDelta:function(t){var e=this._zoomKeys={},i=this.keyCodes,a,c;for(a=0,c=i.zoomIn.length;a<c;a++)e[i.zoomIn[a]]=t;for(a=0,c=i.zoomOut.length;a<c;a++)e[i.zoomOut[a]]=-t},_addHooks:function(){U(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ot(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=t.keyCode,i=this._map,a;if(e in this._panKeys){if(!i._panAnim||!i._panAnim._inProgress)if(a=this._panKeys[e],t.shiftKey&&(a=R(a).multiplyBy(3)),i.options.maxBounds&&(a=i._limitOffset(R(a),i.options.maxBounds)),i.options.worldCopyJump){var c=i.wrapLatLng(i.unproject(i.project(i.getCenter()).add(a)));i.panTo(c)}else i.panBy(a)}else if(e in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e]);else if(e===27&&i._popup&&i._popup.options.closeOnEscapeKey)i.closePopup();else return;qe(t)}}});X.addInitHook("addHandler","keyboard",Sr),X.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Or=he.extend({addHooks:function(){U(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ot(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=tr(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var a=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),a),qe(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var a=this._delta/(this._map.options.wheelPxPerZoomLevel*4),c=4*Math.log(2/(1+Math.exp(-Math.abs(a))))/Math.LN2,h=i?Math.ceil(c/i)*i:c,v=t._limitZoom(e+(this._delta>0?h:-h))-e;this._delta=0,this._startTime=null,v&&(t.options.scrollWheelZoom==="center"?t.setZoom(e+v):t.setZoomAround(this._lastMousePos,e+v))}});X.addInitHook("addHandler","scrollWheelZoom",Or);var Cs=600;X.mergeOptions({tapHold:B.touchNative&&B.safari&&B.mobile,tapTolerance:15});var Tr=he.extend({addHooks:function(){U(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ot(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var e=t.touches[0];this._startPos=this._newPos=new H(e.clientX,e.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(U(document,"touchend",It),U(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))},this),Cs),U(document,"touchend touchcancel contextmenu",this._cancel,this),U(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){ot(document,"touchend",It),ot(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),ot(document,"touchend touchcancel contextmenu",this._cancel,this),ot(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new H(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var i=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});i._simulated=!0,e.target.dispatchEvent(i)}});X.addInitHook("addHandler","tapHold",Tr),X.mergeOptions({touchZoom:B.touch,bounceAtZoomLimits:!0});var Lr=he.extend({addHooks:function(){G(this._map._container,"leaflet-touch-zoom"),U(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Pt(this._map._container,"leaflet-touch-zoom"),ot(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(!(!t.touches||t.touches.length!==2||e._animatingZoom||this._zooming)){var i=e.mouseEventToContainerPoint(t.touches[0]),a=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),e.options.touchZoom!=="center"&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(a)._divideBy(2))),this._startDist=i.distanceTo(a),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),U(document,"touchmove",this._onTouchMove,this),U(document,"touchend touchcancel",this._onTouchEnd,this),It(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),a=e.mouseEventToContainerPoint(t.touches[1]),c=i.distanceTo(a)/this._startDist;if(this._zoom=e.getScaleZoom(c,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&c<1||this._zoom>e.getMaxZoom()&&c>1)&&(this._zoom=e._limitZoom(this._zoom)),e.options.touchZoom==="center"){if(this._center=this._startLatLng,c===1)return}else{var h=i._add(a)._divideBy(2)._subtract(this._centerPoint);if(c===1&&h.x===0&&h.y===0)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(h),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),Kt(this._animRequest);var v=m(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Zt(v,this,!0),It(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Kt(this._animRequest),ot(document,"touchmove",this._onTouchMove,this),ot(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});X.addInitHook("addHandler","touchZoom",Lr),X.BoxZoom=Mr,X.DoubleClickZoom=wr,X.Drag=Er,X.Keyboard=Sr,X.ScrollWheelZoom=Or,X.TapHold=Tr,X.TouchZoom=Lr,o.Bounds=dt,o.Browser=B,o.CRS=we,o.Canvas=xr,o.Circle=so,o.CircleMarker=ti,o.Class=Me,o.Control=ae,o.DivIcon=Cr,o.DivOverlay=ge,o.DomEvent=Al,o.DomUtil=Nl,o.Draggable=Ie,o.Evented=zn,o.FeatureGroup=Ee,o.GeoJSON=Oe,o.GridLayer=An,o.Handler=he,o.Icon=tn,o.ImageOverlay=ri,o.LatLng=et,o.LatLngBounds=Ht,o.Layer=le,o.LayerGroup=Qe,o.LineUtil=Kl,o.Map=X,o.Marker=Qn,o.Mixin=Ul,o.Path=Ne,o.Point=H,o.PolyUtil=Gl,o.Polygon=en,o.Polyline=Se,o.Popup=ai,o.PosAnimation=er,o.Projection=Jl,o.Rectangle=zr,o.Renderer=Te,o.SVG=Vn,o.SVGOverlay=vr,o.TileLayer=on,o.Tooltip=li,o.Transformation=Ii,o.Util=il,o.VideoOverlay=fr,o.bind=m,o.bounds=Wt,o.canvas=Pr,o.circle=rs,o.circleMarker=os,o.control=In,o.divIcon=_s,o.extend=n,o.featureGroup=es,o.geoJSON=gr,o.geoJson=ss,o.gridLayer=hs,o.icon=ns,o.imageOverlay=cs,o.latLng=$,o.latLngBounds=zt,o.layerGroup=ts,o.map=Fl,o.marker=is,o.point=R,o.polygon=ls,o.polyline=as,o.popup=ps,o.rectangle=vs,o.setOptions=it,o.stamp=y,o.svg=kr,o.svgOverlay=us,o.tileLayer=yr,o.tooltip=ms,o.transformation=Mn,o.version=r,o.videoOverlay=ds;var ys=window.L;o.noConflict=function(){return window.L=ys,this},window.L=o})});var Aa={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"],["table"]]},Fa=new Fr("config",{providedIn:"root",factory:()=>({modules:Aa})});var Va=(()=>{class o{static forRoot(n){return{ngModule:o,providers:[{provide:Fa,useValue:n}]}}static{this.\u0275fac=function(l){return new(l||o)}}static{this.\u0275mod=sn({type:o})}static{this.\u0275inj=an({})}}return o})();var Bs=()=>({padding:"0"});function Is(o,r){o&1&&(u(0,"div",25),P(1,"i",26),u(2,"span"),g(3,"Danh s\xE1ch s\u1EA3n ph\u1EA9m"),p()())}function Ns(o,r){if(o&1){let n=Z();u(0,"button",27),k("click",function(){w(n);let m=f();return E(m.createProduct())}),P(1,"i",28),g(2,"Th\xEAm s\u1EA3n ph\u1EA9m "),p()}}function Ds(o,r){o&1&&P(0,"i",29)}function As(o,r){o&1&&(u(0,"nz-tag",44),g(1,"D\u1EF1 \xE1n"),p()),o&2&&d("nzColor","blue")}function Fs(o,r){o&1&&(u(0,"nz-tag",44),g(1,"Mua b\xE1n"),p()),o&2&&d("nzColor","green")}function Vs(o,r){o&1&&(u(0,"nz-tag",44),g(1,"Cho thu\xEA"),p()),o&2&&d("nzColor","orange")}function Rs(o,r){if(o&1&&(Q(0),u(1,"div"),g(2),p(),u(3,"div"),g(4),p(),u(5,"div"),g(6),p(),tt()),o&2){let n=f().$implicit;s(2),F("Lo\u1EA1i d\u1EF1 \xE1n: ",n.product_detail.project_type==="luxury_apartment"?"C\u0103n h\u1ED9 cao c\u1EA5p":n.product_detail.project_type==="urban_area"?"Khu \u0111\xF4 th\u1ECB":n.product_detail.project_type==="resort"?"Khu ngh\u1EC9 d\u01B0\u1EE1ng":n.product_detail.project_type==="complex"?"Khu ph\u1EE9c h\u1EE3p":"N/A",""),s(2),F("Tr\u1EA1ng th\xE1i: ",n.product_detail.project_status==="selling"?"\u0110ang m\u1EDF b\xE1n":n.product_detail.project_status==="coming_soon"?"S\u1EAFp m\u1EDF b\xE1n":n.product_detail.project_status==="delivered"?"\u0110\xE3 b\xE0n giao":n.product_detail.project_status==="completed"?"\u0110\xE3 ho\xE0n th\xE0nh":"N/A",""),s(2),F("Ch\u1EE7 \u0111\u1EA7u t\u01B0: ",n.product_detail.investor||"N/A","")}}function Zs(o,r){if(o&1&&(u(0,"div"),g(1),p()),o&2){let n=f(2).$implicit;s(),F("",n.product_detail.bedroom," ph\xF2ng ng\u1EE7")}}function Ws(o,r){if(o&1&&(u(0,"div"),g(1),p()),o&2){let n=f(2).$implicit;s(),F("",n.product_detail.bathroom," ph\xF2ng t\u1EAFm")}}function Hs(o,r){if(o&1&&(u(0,"div"),g(1),p()),o&2){let n=f(2).$implicit,l=f();s(),F("Gi\xE1 \u0111i\u1EC7n: ",l.formatPrice(n.product_detail.eletric_price),"/kwh")}}function Us(o,r){if(o&1&&(u(0,"div"),g(1),p()),o&2){let n=f(2).$implicit,l=f();s(),F("Gi\xE1 n\u01B0\u1EDBc: ",l.formatPrice(n.product_detail.water_price),"/m\xB3")}}function Gs(o,r){if(o&1&&(u(0,"div"),g(1),p()),o&2){let n=f(2).$implicit,l=f();s(),F("Gi\xE1 internet: ",l.formatPrice(n.product_detail.internet_price),"/th\xE1ng")}}function js(o,r){if(o&1&&(Q(0),x(1,Zs,2,1,"div",35)(2,Ws,2,1,"div",35)(3,Hs,2,1,"div",35)(4,Us,2,1,"div",35)(5,Gs,2,1,"div",35),tt()),o&2){let n=f().$implicit;s(),d("ngIf",n.product_detail.bedroom),s(),d("ngIf",n.product_detail.bathroom),s(),d("ngIf",n.product_detail.eletric_price),s(),d("ngIf",n.product_detail.water_price),s(),d("ngIf",n.product_detail.internet_price)}}function qs(o,r){if(o&1&&(u(0,"div"),g(1),p()),o&2){let n=f(2).$implicit;s(),F("",n.product_detail.bedroom," ph\xF2ng ng\u1EE7")}}function $s(o,r){if(o&1&&(u(0,"div"),g(1),p()),o&2){let n=f(2).$implicit;s(),F("",n.product_detail.bathroom," ph\xF2ng t\u1EAFm")}}function Xs(o,r){if(o&1&&(Q(0),x(1,qs,2,1,"div",35)(2,$s,2,1,"div",35),tt()),o&2){let n=f().$implicit;s(),d("ngIf",n.product_detail.bedroom),s(),d("ngIf",n.product_detail.bathroom)}}function Ks(o,r){if(o&1){let n=Z();u(0,"tr")(1,"td"),g(2),p(),u(3,"td"),P(4,"nz-avatar",30),p(),u(5,"td",31),g(6),p(),u(7,"td",32),g(8),p(),u(9,"td"),x(10,As,2,1,"nz-tag",33)(11,Fs,2,1,"nz-tag",33)(12,Vs,2,1,"nz-tag",33),p(),u(13,"td")(14,"div",34)(15,"div"),g(16),p(),x(17,Rs,7,3,"ng-container",35)(18,js,6,5,"ng-container",35)(19,Xs,3,2,"ng-container",35),p()(),u(20,"td"),g(21),p(),u(22,"td",36)(23,"a",37),k("click",function(){let m=w(n).$implicit,_=f();return E(_.viewProduct(m))}),P(24,"i",38),p(),P(25,"nz-divider",39),u(26,"a",40),k("click",function(){let m=w(n).$implicit,_=f();return E(_.editProduct(m.id))}),P(27,"i",41),p(),P(28,"nz-divider",39),u(29,"a",42),k("click",function(){let m=w(n).$implicit,_=f();return E(_.confirmDelete(m.id))}),P(30,"i",43),p()()()}if(o&2){let n,l=r.$implicit,m=r.index,_=f();s(2),S(m+1),s(2),d("nzSize",64)("nzShape","square")("nzSrc","https://lh3.googleusercontent.com/d/"+((n=l==null||l.images==null||l.images[0]==null?null:l.images[0].drive_id)!==null&&n!==void 0?n:""))("nzAlt",l.name),s(2),S(l.name),s(2),S(l.address_detail.address),s(2),d("ngIf",l.category_id===7),s(),d("ngIf",l.product_detail.type_product==="sale"),s(),d("ngIf",l.product_detail.type_product==="rent"),s(4),F("Di\u1EC7n t\xEDch: ",l.product_detail.area,"m\xB2"),s(),d("ngIf",l.category_id===7),s(),d("ngIf",l.product_detail.type_product==="rent"),s(),d("ngIf",l.product_detail.type_product==="sale"),s(2),S(_.formatPrice(l.product_detail.price))}}function Js(o,r){if(o&1&&(u(0,"div",45)(1,"span"),g(2),p()()),o&2){let n=f();s(2),S(n.selectedProduct==null?null:n.selectedProduct.name)}}function Ys(o,r){if(o&1&&(u(0,"div",64),P(1,"img",65),p()),o&2){let n,l,m=f(2);s(),d("src","https://lh3.googleusercontent.com/d/"+((n=m.selectedProduct==null||m.selectedProduct.images==null||m.selectedProduct.images[0]==null?null:m.selectedProduct.images[0].drive_id)!==null&&n!==void 0?n:""),J)("alt",(l=m.selectedProduct==null?null:m.selectedProduct.name)!==null&&l!==void 0?l:"")}}function Qs(o,r){o&1&&(u(0,"nz-tag",44),g(1,"D\u1EF1 \xE1n"),p()),o&2&&d("nzColor","blue")}function tc(o,r){o&1&&(u(0,"nz-tag",44),g(1,"Mua b\xE1n"),p()),o&2&&d("nzColor","green")}function ec(o,r){o&1&&(u(0,"nz-tag",44),g(1,"Cho thu\xEA"),p()),o&2&&d("nzColor","orange")}function nc(o,r){if(o&1&&(u(0,"span"),g(1),p()),o&2){let n=f(2);s(),F(" - ",n.formatPrice((n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.price_to)||0),"")}}function ic(o,r){if(o&1&&(u(0,"nz-descriptions-item",69),g(1),p()),o&2){let n=f(3);s(),F(" ",n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.bedroom," ")}}function oc(o,r){if(o&1&&(u(0,"nz-descriptions-item",70),g(1),p()),o&2){let n=f(3);s(),F(" ",n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.bathroom," ")}}function rc(o,r){if(o&1&&(u(0,"div",66)(1,"h3"),g(2,"Th\xF4ng tin ph\xF2ng"),p(),u(3,"nz-descriptions",49),x(4,ic,2,1,"nz-descriptions-item",67)(5,oc,2,1,"nz-descriptions-item",68),p()()),o&2){let n=f(2);s(3),d("nzColumn",2),s(),d("ngIf",n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.bedroom),s(),d("ngIf",n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.bathroom)}}function ac(o,r){if(o&1&&(u(0,"div",71)(1,"h3"),g(2,"Th\xF4ng tin d\u1EF1 \xE1n"),p(),u(3,"nz-descriptions",49)(4,"nz-descriptions-item",72),g(5),p(),u(6,"nz-descriptions-item",73),g(7),p(),u(8,"nz-descriptions-item",74),g(9),p()()()),o&2){let n,l,m,_=f(2);s(3),d("nzColumn",2),s(2),F(" ",(n=_.selectedProduct==null||_.selectedProduct.product_detail==null?null:_.selectedProduct.product_detail.investor)!==null&&n!==void 0?n:"N/A"," "),s(2),F(" ",(l=_.selectedProduct==null||_.selectedProduct.product_detail==null?null:_.selectedProduct.product_detail.project_type)!==null&&l!==void 0?l:"N/A"," "),s(),d("nzSpan",2),s(),F(" ",(m=_.selectedProduct==null||_.selectedProduct.product_detail==null?null:_.selectedProduct.product_detail.project_status)!==null&&m!==void 0?m:"N/A"," ")}}function lc(o,r){if(o&1&&(u(0,"nz-descriptions-item",79),g(1),p()),o&2){let n=f(3);s(),F(" ",n.formatPrice((n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.eletric_price)||0),"/th\xE1ng ")}}function sc(o,r){if(o&1&&(u(0,"nz-descriptions-item",80),g(1),p()),o&2){let n=f(3);s(),F(" ",n.formatPrice((n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.water_price)||0),"/th\xE1ng ")}}function cc(o,r){if(o&1&&(u(0,"nz-descriptions-item",81),g(1),p()),o&2){let n=f(3);s(),F(" ",n.formatPrice((n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.internet_price)||0),"/th\xE1ng ")}}function dc(o,r){if(o&1&&(u(0,"div",75)(1,"h3"),g(2,"Chi ph\xED ti\u1EC7n \xEDch"),p(),u(3,"nz-descriptions",49),x(4,lc,2,1,"nz-descriptions-item",76)(5,sc,2,1,"nz-descriptions-item",77)(6,cc,2,1,"nz-descriptions-item",78),p()()),o&2){let n=f(2);s(3),d("nzColumn",3),s(),d("ngIf",n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.eletric_price),s(),d("ngIf",n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.water_price),s(),d("ngIf",n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.internet_price)}}function uc(o,r){if(o&1&&(u(0,"nz-descriptions-item",85),g(1),p()),o&2){let n=f(3);d("nzSpan",2),s(),F(" ",n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.utilities," ")}}function pc(o,r){if(o&1&&(u(0,"nz-descriptions-item",86),g(1),p()),o&2){let n=f(3);d("nzSpan",2),s(),F(" ",n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.interiol," ")}}function mc(o,r){if(o&1&&(u(0,"div",82)(1,"h3"),g(2,"Ti\u1EC7n \xEDch & N\u1ED9i th\u1EA5t"),p(),u(3,"nz-descriptions",49),x(4,uc,2,2,"nz-descriptions-item",83)(5,pc,2,2,"nz-descriptions-item",84),p()()),o&2){let n=f(2);s(3),d("nzColumn",2),s(),d("ngIf",n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.utilities),s(),d("ngIf",n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.interiol)}}function _c(o,r){if(o&1&&(u(0,"nz-tag",44),g(1),p()),o&2){let n=r.$implicit;d("nzColor",n.color),s(),F(" ",n.name," ")}}function hc(o,r){if(o&1&&(u(0,"div",87)(1,"h3"),g(2,"Tags"),p(),x(3,_c,2,2,"nz-tag",88),p()),o&2){let n=f(2);s(3),d("ngForOf",n.selectedProduct==null?null:n.selectedProduct.tag)}}function gc(o,r){if(o&1&&(u(0,"div",46),x(1,Ys,2,2,"div",47),u(2,"div",48)(3,"nz-descriptions",49)(4,"nz-descriptions-item",50),g(5),p(),u(6,"nz-descriptions-item",51),g(7),p(),u(8,"nz-descriptions-item",52),g(9),p(),u(10,"nz-descriptions-item",53),g(11),p(),u(12,"nz-descriptions-item",54),g(13),p(),u(14,"nz-descriptions-item",55),x(15,Qs,2,1,"nz-tag",33)(16,tc,2,1,"nz-tag",33)(17,ec,2,1,"nz-tag",33),p(),u(18,"nz-descriptions-item",56),g(19),x(20,nc,2,1,"span",35),p()(),x(21,rc,6,3,"div",57)(22,ac,10,5,"div",58)(23,dc,7,4,"div",59)(24,mc,6,3,"div",60)(25,hc,4,1,"div",61),u(26,"div",62)(27,"h3"),g(28,"M\xF4 t\u1EA3 chi ti\u1EBFt"),p(),P(29,"div",63),p()()()),o&2){let n,l,m,_,y,T,M=f();s(),d("ngIf",M.selectedProduct==null||M.selectedProduct.images==null||M.selectedProduct.images[0]==null?null:M.selectedProduct.images[0].drive_id),s(2),d("nzColumn",2),s(),d("nzSpan",2),s(),F(" ",(n=M.selectedProduct==null||M.selectedProduct.address_detail==null?null:M.selectedProduct.address_detail.address)!==null&&n!==void 0?n:"N/A"," "),s(2),F(" ",(l=M.selectedProduct==null||M.selectedProduct.address_detail==null?null:M.selectedProduct.address_detail.ward)!==null&&l!==void 0?l:"N/A"," "),s(2),F(" ",(m=M.selectedProduct==null||M.selectedProduct.address_detail==null?null:M.selectedProduct.address_detail.district)!==null&&m!==void 0?m:"N/A"," "),s(2),F(" ",(_=M.selectedProduct==null||M.selectedProduct.address_detail==null?null:M.selectedProduct.address_detail.province)!==null&&_!==void 0?_:"N/A"," "),s(2),F(" ",(y=M.selectedProduct==null||M.selectedProduct.product_detail==null?null:M.selectedProduct.product_detail.area)!==null&&y!==void 0?y:0,"m\xB2 "),s(2),d("ngIf",(M.selectedProduct==null?null:M.selectedProduct.category_id)===7),s(),d("ngIf",(M.selectedProduct==null||M.selectedProduct.product_detail==null?null:M.selectedProduct.product_detail.type_product)==="sell"),s(),d("ngIf",(M.selectedProduct==null||M.selectedProduct.product_detail==null?null:M.selectedProduct.product_detail.type_product)==="rent"),s(),d("nzSpan",2),s(),F(" ",M.formatPrice((M.selectedProduct==null||M.selectedProduct.product_detail==null?null:M.selectedProduct.product_detail.price)||0)," "),s(),d("ngIf",M.selectedProduct==null||M.selectedProduct.product_detail==null?null:M.selectedProduct.product_detail.price_to),s(),d("ngIf",(M.selectedProduct==null||M.selectedProduct.product_detail==null?null:M.selectedProduct.product_detail.bedroom)||(M.selectedProduct==null||M.selectedProduct.product_detail==null?null:M.selectedProduct.product_detail.bathroom)),s(),d("ngIf",(M.selectedProduct==null?null:M.selectedProduct.category_id)===7),s(),d("ngIf",(M.selectedProduct==null||M.selectedProduct.product_detail==null?null:M.selectedProduct.product_detail.type_product)==="rent"),s(),d("ngIf",(M.selectedProduct==null||M.selectedProduct.product_detail==null?null:M.selectedProduct.product_detail.utilities)||(M.selectedProduct==null||M.selectedProduct.product_detail==null?null:M.selectedProduct.product_detail.interiol)),s(),d("ngIf",M.selectedProduct==null||M.selectedProduct.tag==null?null:M.selectedProduct.tag.length),s(4),d("innerHTML",(T=M.selectedProduct==null||M.selectedProduct.product_detail==null?null:M.selectedProduct.product_detail.content)!==null&&T!==void 0?T:"",ln)}}function fc(o,r){if(o&1){let n=Z();u(0,"button",89),k("click",function(){w(n);let m=f();return E(m.handleCancel())}),g(1,"\u0110\xF3ng"),p()}}var Pi=class o{constructor(r,n,l,m){this.productService=r;this.router=n;this.message=l;this.modal=m}products=[];filteredProducts=[];loading=!1;isVisible=!1;selectedProduct=null;searchValue="";selectedCategory="all";selectedType="all";ngOnInit(){this.loadProducts()}loadProducts(){this.loading=!0,this.productService.getAllProducts().subscribe({next:r=>{this.products=r.data.reverse(),this.applyFilters(),this.loading=!1},error:r=>{this.message.error("C\xF3 l\u1ED7i x\u1EA3y ra khi t\u1EA3i danh s\xE1ch s\u1EA3n ph\u1EA9m"),this.loading=!1}})}applyFilters(){let r=[...this.products];this.searchValue&&(r=r.filter(n=>n.name.toLowerCase().includes(this.searchValue.toLowerCase()))),this.selectedCategory!=="all"&&(this.selectedCategory==="project"?r=r.filter(n=>n.category_id===7):r=r.filter(n=>n.category_id!==7)),this.selectedType!=="all"&&(r=r.filter(n=>n.product_detail.type_product===this.selectedType)),this.filteredProducts=r}onSearch(){this.applyFilters()}onCategoryChange(){this.applyFilters()}onTypeChange(){this.applyFilters()}createProduct(){this.router.navigate(["/products/create"])}editProduct(r){this.router.navigate([`/products/${r}/edit`])}viewProduct(r){this.selectedProduct=r,this.isVisible=!0}confirmDelete(r){this.modal.confirm({nzTitle:"X\xE1c nh\u1EADn x\xF3a",nzContent:"B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n x\xF3a s\u1EA3n ph\u1EA9m n\xE0y?",nzOkText:"X\xF3a",nzOkType:"primary",nzOkDanger:!0,nzOnOk:()=>this.deleteProduct(r),nzCancelText:"H\u1EE7y"})}deleteProduct(r){this.loading=!0,this.productService.deleteProduct(r).subscribe({next:n=>{this.message.success("X\xF3a s\u1EA3n ph\u1EA9m th\xE0nh c\xF4ng"),this.loadProducts()},error:n=>{this.message.error("C\xF3 l\u1ED7i x\u1EA3y ra khi x\xF3a s\u1EA3n ph\u1EA9m"),this.loading=!1}})}handleCancel(){this.isVisible=!1,this.selectedProduct=null}formatPrice(r){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(r)}static \u0275fac=function(n){return new(n||o)(pt(Ve),pt(_i),pt(Re),pt(Ma))};static \u0275cmp=Y({type:o,selectors:[["app-list-product"]],standalone:!1,decls:50,vars:19,consts:[["cardTitle",""],["extraTemplate",""],["suffixIconSearch",""],["basicTable",""],["modalTitle",""],["modalContent",""],["modalFooter",""],[1,"list-product-container"],[3,"nzTitle","nzExtra"],[1,"filters-container"],[1,"search-box"],[3,"nzSuffix"],["type","text","nz-input","","placeholder","T\xECm ki\u1EBFm theo t\xEAn s\u1EA3n ph\u1EA9m",3,"ngModelChange","ngModel"],[1,"filter-box"],[1,"filter-select",3,"ngModelChange","ngModel"],["nzValue","all","nzLabel","T\u1EA5t c\u1EA3 danh m\u1EE5c"],["nzValue","project","nzLabel","D\u1EF1 \xE1n"],["nzValue","property","nzLabel","B\u1EA5t \u0111\u1ED9ng s\u1EA3n"],["nzValue","all","nzLabel","T\u1EA5t c\u1EA3 lo\u1EA1i h\xECnh"],["nzValue","sale","nzLabel","Mua b\xE1n"],["nzValue","rent","nzLabel","Cho thu\xEA"],[3,"nzData","nzLoading","nzShowSizeChanger","nzShowPagination"],[3,"nzWidth"],[4,"ngFor","ngForOf"],["nzWidth","1000",3,"nzVisibleChange","nzOnCancel","nzVisible","nzTitle","nzContent","nzFooter","nzBodyStyle"],[1,"card-title"],["nz-icon","","nzType","shop","nzTheme","outline"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","plus"],["nz-icon","","nzType","search"],[3,"nzSize","nzShape","nzSrc","nzAlt"],[1,"name-cell"],[1,"address-cell"],[3,"nzColor",4,"ngIf"],[1,"product-info-cell"],[4,"ngIf"],[1,"action-buttons"],["nz-button","","nzType","link","nz-tooltip","","nzTooltipTitle","Xem chi ti\u1EBFt",3,"click"],["nz-icon","","nzType","eye"],["nzType","vertical"],["nz-button","","nzType","link","nz-tooltip","","nzTooltipTitle","Ch\u1EC9nh s\u1EEDa",3,"click"],["nz-icon","","nzType","edit"],["nz-button","","nzType","link","nzDanger","","nz-tooltip","","nzTooltipTitle","X\xF3a",3,"click"],["nz-icon","","nzType","delete"],[3,"nzColor"],[1,"modal-title"],[1,"product-info"],["class","product-cover",4,"ngIf"],[1,"product-meta"],["nzBordered","",3,"nzColumn"],["nzTitle","\u0110\u1ECBa ch\u1EC9",3,"nzSpan"],["nzTitle","Ph\u01B0\u1EDDng/X\xE3"],["nzTitle","Qu\u1EADn/Huy\u1EC7n"],["nzTitle","T\u1EC9nh/Th\xE0nh ph\u1ED1"],["nzTitle","Di\u1EC7n t\xEDch"],["nzTitle","Lo\u1EA1i h\xECnh"],["nzTitle","Gi\xE1",3,"nzSpan"],["class","room-info mt-4",4,"ngIf"],["class","project-info mt-4",4,"ngIf"],["class","utility-prices mt-4",4,"ngIf"],["class","amenities mt-4",4,"ngIf"],["class","tags mt-4",4,"ngIf"],[1,"content","mt-4"],[1,"content-box",3,"innerHTML"],[1,"product-cover"],[3,"src","alt"],[1,"room-info","mt-4"],["nzTitle","S\u1ED1 ph\xF2ng ng\u1EE7",4,"ngIf"],["nzTitle","S\u1ED1 ph\xF2ng t\u1EAFm",4,"ngIf"],["nzTitle","S\u1ED1 ph\xF2ng ng\u1EE7"],["nzTitle","S\u1ED1 ph\xF2ng t\u1EAFm"],[1,"project-info","mt-4"],["nzTitle","Ch\u1EE7 \u0111\u1EA7u t\u01B0"],["nzTitle","Lo\u1EA1i d\u1EF1 \xE1n"],["nzTitle","Tr\u1EA1ng th\xE1i d\u1EF1 \xE1n",3,"nzSpan"],[1,"utility-prices","mt-4"],["nzTitle","Gi\xE1 \u0111i\u1EC7n",4,"ngIf"],["nzTitle","Gi\xE1 n\u01B0\u1EDBc",4,"ngIf"],["nzTitle","Gi\xE1 internet",4,"ngIf"],["nzTitle","Gi\xE1 \u0111i\u1EC7n"],["nzTitle","Gi\xE1 n\u01B0\u1EDBc"],["nzTitle","Gi\xE1 internet"],[1,"amenities","mt-4"],["nzTitle","Ti\u1EC7n \xEDch",3,"nzSpan",4,"ngIf"],["nzTitle","N\u1ED9i th\u1EA5t",3,"nzSpan",4,"ngIf"],["nzTitle","Ti\u1EC7n \xEDch",3,"nzSpan"],["nzTitle","N\u1ED9i th\u1EA5t",3,"nzSpan"],[1,"tags","mt-4"],[3,"nzColor",4,"ngFor","ngForOf"],["nz-button","","nzType","default",3,"click"]],template:function(n,l){if(n&1){let m=Z();u(0,"div",7)(1,"nz-card",8),x(2,Is,4,0,"ng-template",null,0,Bt)(4,Ns,3,0,"ng-template",null,1,Bt),u(6,"div",9)(7,"div",10)(8,"nz-input-group",11)(9,"input",12),A("ngModelChange",function(y){return w(m),D(l.searchValue,y)||(l.searchValue=y),E(y)}),k("ngModelChange",function(){return w(m),E(l.onSearch())}),p()(),x(10,Ds,1,0,"ng-template",null,2,Bt),p(),u(12,"div",13)(13,"nz-select",14),A("ngModelChange",function(y){return w(m),D(l.selectedCategory,y)||(l.selectedCategory=y),E(y)}),k("ngModelChange",function(){return w(m),E(l.onCategoryChange())}),P(14,"nz-option",15)(15,"nz-option",16)(16,"nz-option",17),p(),u(17,"nz-select",14),A("ngModelChange",function(y){return w(m),D(l.selectedType,y)||(l.selectedType=y),E(y)}),k("ngModelChange",function(){return w(m),E(l.onTypeChange())}),P(18,"nz-option",18)(19,"nz-option",19)(20,"nz-option",20),p()()(),u(21,"nz-table",21,3)(23,"thead")(24,"tr")(25,"th"),g(26,"STT"),p(),u(27,"th"),g(28,"H\xECnh \u1EA3nh"),p(),u(29,"th",22),g(30,"T\xEAn s\u1EA3n ph\u1EA9m"),p(),u(31,"th",22),g(32,"\u0110\u1ECBa ch\u1EC9"),p(),u(33,"th"),g(34,"Lo\u1EA1i h\xECnh"),p(),u(35,"th"),g(36,"Th\xF4ng tin"),p(),u(37,"th"),g(38,"Gi\xE1"),p(),u(39,"th"),g(40,"Thao t\xE1c"),p()()(),u(41,"tbody"),x(42,Ks,31,15,"tr",23),p()()()(),u(43,"nz-modal",24),A("nzVisibleChange",function(y){return w(m),D(l.isVisible,y)||(l.isVisible=y),E(y)}),k("nzOnCancel",function(){return w(m),E(l.handleCancel())}),x(44,Js,3,1,"ng-template",null,4,Bt)(46,gc,30,20,"ng-template",null,5,Bt)(48,fc,2,0,"ng-template",null,6,Bt),p()}if(n&2){let m=Ot(3),_=Ot(5),y=Ot(11),T=Ot(22),M=Ot(45),V=Ot(47),Tt=Ot(49);s(),d("nzTitle",m)("nzExtra",_),s(7),d("nzSuffix",y),s(),N("ngModel",l.searchValue),s(4),N("ngModel",l.selectedCategory),s(4),N("ngModel",l.selectedType),s(4),d("nzData",l.filteredProducts)("nzLoading",l.loading)("nzShowSizeChanger",!0)("nzShowPagination",!0),s(8),d("nzWidth","250px"),s(2),d("nzWidth","300px"),s(11),d("ngForOf",T.data),s(),N("nzVisible",l.isVisible),d("nzTitle",M)("nzContent",V)("nzFooter",Tt)("nzBodyStyle",_t(18,Bs))}},dependencies:[rt,Et,ht,at,lt,st,aa,ft,gi,hi,gt,ct,St,ne,ga,ma,_a,va,ha,fa,bi,ve,Ce,Ca,dn,Ia,Ba],styles:[".list-product-container[_ngcontent-%COMP%]{padding:24px}.list-product-container[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.list-product-container[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#1890ff}.list-product-container[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.list-product-container[_ngcontent-%COMP%]     .ant-card .ant-card-head{border-bottom:2px solid #f0f0f0}.list-product-container[_ngcontent-%COMP%]     .ant-card .ant-card-extra button i{margin-right:8px}.list-product-container[_ngcontent-%COMP%]     .ant-card .ant-table .ant-table-thead>tr>th{background:#fafafa;font-weight:500}.list-product-container[_ngcontent-%COMP%]     .ant-card .ant-table .ant-table-tbody>tr>td{vertical-align:middle}.product-info[_ngcontent-%COMP%]   .product-cover[_ngcontent-%COMP%]{height:400px;overflow:hidden;position:relative;margin-bottom:24px}.product-info[_ngcontent-%COMP%]   .product-cover[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:center;transition:transform .3s ease}.product-info[_ngcontent-%COMP%]   .product-cover[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.product-info[_ngcontent-%COMP%]   .product-meta[_ngcontent-%COMP%]{padding:0 24px 24px}.product-info[_ngcontent-%COMP%]   .product-meta[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:16px;font-size:18px;font-weight:500}.product-info[_ngcontent-%COMP%]   .product-meta[_ngcontent-%COMP%]   .mt-4[_ngcontent-%COMP%]{margin-top:24px}.product-info[_ngcontent-%COMP%]   .product-meta[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]{padding:16px;background-color:#fafafa;border-radius:4px;min-height:200px;max-height:500px;overflow-y:auto}.product-info[_ngcontent-%COMP%]   .product-meta[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:4px;margin:8px 0}.product-info[_ngcontent-%COMP%]   .product-meta[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:16px;line-height:1.6}.product-info[_ngcontent-%COMP%]   .product-meta[_ngcontent-%COMP%]   nz-tag[_ngcontent-%COMP%]{margin:4px}.product-info-cell[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:4px;font-size:14px;color:#000000d9}.product-info-cell[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{margin-bottom:0}.filters-container[_ngcontent-%COMP%]{margin-bottom:16px;display:flex;gap:16px;align-items:center;flex-wrap:wrap}.filters-container[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{flex:1;min-width:300px}.filters-container[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .ant-input-affix-wrapper[_ngcontent-%COMP%]{width:100%}.filters-container[_ngcontent-%COMP%]   .filter-box[_ngcontent-%COMP%]{display:flex;gap:16px}.filters-container[_ngcontent-%COMP%]   .filter-box[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]{min-width:180px}"]})};var We=Os(Wa());var Dt=[];for(let o=0;o<256;++o)Dt.push((o+256).toString(16).slice(1));function Ha(o,r=0){return(Dt[o[r+0]]+Dt[o[r+1]]+Dt[o[r+2]]+Dt[o[r+3]]+"-"+Dt[o[r+4]]+Dt[o[r+5]]+"-"+Dt[o[r+6]]+Dt[o[r+7]]+"-"+Dt[o[r+8]]+Dt[o[r+9]]+"-"+Dt[o[r+10]]+Dt[o[r+11]]+Dt[o[r+12]]+Dt[o[r+13]]+Dt[o[r+14]]+Dt[o[r+15]]).toLowerCase()}var Co,vc=new Uint8Array(16);function yo(){if(!Co){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Co=crypto.getRandomValues.bind(crypto)}return Co(vc)}var Cc=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),bo={randomUUID:Cc};function yc(o,r,n){if(bo.randomUUID&&!r&&!o)return bo.randomUUID();o=o||{};let l=o.random??o.rng?.()??yo();if(l.length<16)throw new Error("Random bytes length must be >= 16");if(l[6]=l[6]&15|64,l[8]=l[8]&63|128,r){if(n=n||0,n<0||n+16>r.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let m=0;m<16;++m)r[n+m]=l[m];return r}return Ha(l)}var Ze=yc;function bc(o,r){if(o&1&&P(0,"img",20),o&2){let n=f().$implicit,l=f();d("src",n.url,J)("alt",l.getAltText(n.title))}}function xc(o,r){o&1&&(u(0,"div",21),P(1,"i",22),u(2,"span"),g(3,"Ch\u01B0a c\xF3 h\xECnh \u1EA3nh"),p()())}function Pc(o,r){if(o&1){let n=Z();u(0,"div",5)(1,"nz-card")(2,"div",6),x(3,bc,1,2,"img",7)(4,xc,4,0,"div",8),p(),u(5,"form",9)(6,"nz-form-item")(7,"nz-form-label"),g(8,"H\xECnh \u1EA3nh"),p(),u(9,"nz-form-control")(10,"nz-upload",10)(11,"button",11),P(12,"i",12),g(13," T\u1EA3i \u1EA3nh l\xEAn "),p()(),u(14,"span",13),g(15,"ho\u1EB7c"),p()()(),u(16,"nz-form-item")(17,"nz-form-label"),g(18,"URL H\xECnh \u1EA3nh"),p(),u(19,"nz-form-control")(20,"input",14),A("ngModelChange",function(m){let _=w(n).$implicit;return D(_.url,m)||(_.url=m),E(m)}),k("ngModelChange",function(){w(n);let m=f();return E(m.emitChange())}),p()()(),u(21,"nz-form-item")(22,"nz-form-label"),g(23,"Ti\xEAu \u0111\u1EC1"),p(),u(24,"nz-form-control")(25,"input",15),A("ngModelChange",function(m){let _=w(n).$implicit;return D(_.title,m)||(_.title=m),E(m)}),k("ngModelChange",function(){w(n);let m=f();return E(m.emitChange())}),p()()(),u(26,"nz-form-item")(27,"nz-form-label"),g(28,"M\xF4 t\u1EA3"),p(),u(29,"nz-form-control")(30,"textarea",16),A("ngModelChange",function(m){let _=w(n).$implicit;return D(_.description,m)||(_.description=m),E(m)}),k("ngModelChange",function(){w(n);let m=f();return E(m.emitChange())}),p()()()(),u(31,"div",17)(32,"button",18),k("click",function(){let m=w(n).index,_=f();return E(_.removeImage(m))}),P(33,"i",19),g(34," X\xF3a "),p()()()()}if(o&2){let n=r.$implicit,l=r.index,m=f();s(3),d("ngIf",n.url),s(),d("ngIf",!n.url),s(6),d("nzShowUploadList",!1)("nzBeforeUpload",m.getBeforeUpload(l))("nzAccept","image/*"),s(10),N("ngModel",n.url),s(5),N("ngModel",n.title),s(5),N("ngModel",n.description)}}var pn=class o{constructor(r,n){this.productService=r;this.message=n}block;blockChange=new kt;loading=!1;ngOnInit(){this.block.images||(this.block.images=[])}addImage(){let r={url:"",title:"",description:""};this.block.images.push(r),this.emitChange()}removeImage(r){this.block.images.splice(r,1),this.emitChange()}getBeforeUpload(r){return n=>this.beforeUpload(n,r)}getAltText(r){return r||"Slide content"}beforeUpload=(r,n)=>r.type?.indexOf("image/")===0?(r.size??0)/1024/1024<2?(this.uploadImage(r,n),!1):(this.message.error("H\xECnh \u1EA3nh ph\u1EA3i nh\u1ECF h\u01A1n 2MB!"),!1):(this.message.error("Ch\u1EC9 c\xF3 th\u1EC3 t\u1EA3i l\xEAn file h\xECnh \u1EA3nh!"),!1);uploadImage(r,n){let l=new FileReader;l.onload=m=>{this.block.images[n].url=m.target.result,this.emitChange(),this.message.success("\u1EA2nh \u0111\xE3 \u0111\u01B0\u1EE3c t\u1EA3i l\xEAn th\xE0nh c\xF4ng")},l.readAsDataURL(r)}emitChange(){this.blockChange.emit(q({},this.block))}static \u0275fac=function(n){return new(n||o)(pt(Ve),pt(Re))};static \u0275cmp=Y({type:o,selectors:[["app-slider-block"]],inputs:{block:"block"},outputs:{blockChange:"blockChange"},standalone:!1,decls:6,vars:1,consts:[[1,"slider-block"],[1,"images-list"],["class","image-item",4,"ngFor","ngForOf"],["nz-button","","nzType","dashed",1,"add-image-btn",3,"click"],["nz-icon","","nzType","plus"],[1,"image-item"],[1,"image-preview"],[3,"src","alt",4,"ngIf"],["class","no-image",4,"ngIf"],["nz-form",""],[3,"nzShowUploadList","nzBeforeUpload","nzAccept"],["nz-button","","nzType","default"],["nz-icon","","nzType","upload"],[2,"margin-left","8px","color","#8c8c8c"],["nz-input","","name","url","placeholder","Nh\u1EADp URL h\xECnh \u1EA3nh",3,"ngModelChange","ngModel"],["nz-input","","name","title","placeholder","Nh\u1EADp ti\xEAu \u0111\u1EC1",3,"ngModelChange","ngModel"],["nz-input","","name","description","placeholder","Nh\u1EADp m\xF4 t\u1EA3",3,"ngModelChange","ngModel"],[1,"image-actions"],["nz-button","","nzType","text","nzDanger","",3,"click"],["nz-icon","","nzType","delete"],[3,"src","alt"],[1,"no-image"],["nz-icon","","nzType","picture","nzTheme","outline"]],template:function(n,l){n&1&&(u(0,"div",0)(1,"div",1),x(2,Pc,35,8,"div",2),p(),u(3,"button",3),k("click",function(){return l.addImage()}),P(4,"i",4),g(5," Th\xEAm h\xECnh \u1EA3nh "),p()()),n&2&&(s(2),d("ngForOf",l.block.images))},dependencies:[rt,Et,Ft,ht,at,At,lt,Gt,st,ft,gt,ct,St,ne,Ct,vt,Vt,yt,xt,bt,un],styles:[".slider-block[_ngcontent-%COMP%]   .images-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:16px;margin-bottom:16px}.slider-block[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{height:200px;display:flex;align-items:center;justify-content:center;background-color:#f5f5f5;margin-bottom:16px;border-radius:4px;overflow:hidden}.slider-block[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}.slider-block[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;color:#bfbfbf}.slider-block[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;margin-bottom:8px}.slider-block[_ngcontent-%COMP%]   .image-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:16px}.slider-block[_ngcontent-%COMP%]   .add-image-btn[_ngcontent-%COMP%]{width:100%}.slider-block[_ngcontent-%COMP%]   nz-upload[_ngcontent-%COMP%]{display:inline-block}.slider-block[_ngcontent-%COMP%]   nz-upload[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}"]})};var mn=class o{block;blockChange=new kt;contentSubject=new te;titleSubject=new te;subscription=new ui;editorConfig={height:400,menubar:!0,plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","help","wordcount"],toolbar:"undo redo | blocks | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help",content_style:'body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif; font-size: 14px; line-height: 1.5; }'};constructor(){this.subscription.add(this.contentSubject.pipe(se(500),ce()).subscribe(r=>{this.block.content=r,this.emitChange()})),this.subscription.add(this.titleSubject.pipe(se(300),ce()).subscribe(r=>{this.block.title=r,this.emitChange()}))}ngOnInit(){}ngOnDestroy(){this.subscription.unsubscribe()}onContentChange(r){this.contentSubject.next(r)}onTitleChange(r){this.titleSubject.next(r)}emitChange(){this.blockChange.emit(q({},this.block))}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=Y({type:o,selectors:[["app-paragraph-block"]],inputs:{block:"block"},outputs:{blockChange:"blockChange"},standalone:!1,decls:12,vars:3,consts:[[1,"paragraph-block"],["nz-form",""],["nz-input","","name","title","placeholder","Nh\u1EADp ti\xEAu \u0111\u1EC1",3,"ngModelChange","ngModel"],["name","content",3,"ngModelChange","ngModel","init"]],template:function(n,l){n&1&&(u(0,"div",0)(1,"form",1)(2,"nz-form-item")(3,"nz-form-label"),g(4,"Ti\xEAu \u0111\u1EC1"),p(),u(5,"nz-form-control")(6,"input",2),k("ngModelChange",function(_){return l.onTitleChange(_)}),p()()(),u(7,"nz-form-item")(8,"nz-form-label"),g(9,"N\u1ED9i dung"),p(),u(10,"nz-form-control")(11,"editor",3),k("ngModelChange",function(_){return l.onContentChange(_)}),p()()()()()),n&2&&(s(6),d("ngModel",l.block.title),s(5),d("ngModel",l.block.content)("init",l.editorConfig))},dependencies:[Ft,ht,at,At,lt,Gt,ft,Ct,vt,Vt,yt,xt,bt,xi],styles:[".paragraph-block[_ngcontent-%COMP%]   .quill-editor[_ngcontent-%COMP%]     .ql-toolbar{border-top-left-radius:4px;border-top-right-radius:4px}.paragraph-block[_ngcontent-%COMP%]   .quill-editor[_ngcontent-%COMP%]     .ql-container{border-bottom-left-radius:4px;border-bottom-right-radius:4px}.paragraph-block[_ngcontent-%COMP%]   .quill-editor[_ngcontent-%COMP%]     .ql-editor{min-height:200px;font-size:14px;line-height:1.5}.paragraph-block[_ngcontent-%COMP%]   editor[_ngcontent-%COMP%]{display:block;margin-bottom:16px}"]})};var zc=()=>({minRows:2,maxRows:4});function Mc(o,r){if(o&1&&(u(0,"label",8),g(1),p()),o&2){let n=r.$implicit;d("nzValue",n.value),s(),S(n.label)}}function wc(o,r){if(o&1){let n=Z();u(0,"nz-form-item")(1,"nz-form-label"),g(2,"Icon"),p(),u(3,"nz-form-control")(4,"input",16),A("ngModelChange",function(m){w(n);let _=f().$implicit;return D(_.icon,m)||(_.icon=m),E(m)}),p()()()}if(o&2){let n=f().$implicit;s(4),N("ngModel",n.icon)}}function Ec(o,r){if(o&1){let n=Z();u(0,"div",9)(1,"nz-card")(2,"form",1)(3,"nz-form-item")(4,"nz-form-label"),g(5,"Ti\xEAu \u0111\u1EC1"),p(),u(6,"nz-form-control")(7,"input",10),A("ngModelChange",function(m){let _=w(n).$implicit;return D(_.title,m)||(_.title=m),E(m)}),p()()(),u(8,"nz-form-item")(9,"nz-form-label"),g(10,"M\xF4 t\u1EA3"),p(),u(11,"nz-form-control")(12,"textarea",11),A("ngModelChange",function(m){let _=w(n).$implicit;return D(_.description,m)||(_.description=m),E(m)}),p()()(),x(13,wc,5,1,"nz-form-item",12),u(14,"div",13)(15,"button",14),k("click",function(){let m=w(n).index,_=f();return E(_.removeItem(m))}),P(16,"i",15),g(17," X\xF3a "),p()()()()()}if(o&2){let n=r.$implicit,l=f();s(7),N("ngModel",n.title),s(5),N("ngModel",n.description),d("nzAutosize",_t(4,zc)),s(),d("ngIf",l.block.style==="icon")}}var _n=class o{block;blockChange=new kt;listStyles=[{label:"D\u1EA5u ch\u1EA5m",value:"bullet"},{label:"S\u1ED1 th\u1EE9 t\u1EF1",value:"number"},{label:"Icon",value:"icon"}];constructor(){}ngOnInit(){}addItem(){this.block.items.push({title:"",description:"",icon:""}),this.emitChange()}removeItem(r){this.block.items.splice(r,1),this.emitChange()}onStyleChange(r){this.block.style=r,this.emitChange()}emitChange(){this.blockChange.emit(q({},this.block))}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=Y({type:o,selectors:[["app-list-block"]],inputs:{block:"block"},outputs:{blockChange:"blockChange"},standalone:!1,decls:13,vars:3,consts:[[1,"list-block"],["nz-form",""],["name","style",3,"ngModelChange","ngModel"],["nz-radio","",3,"nzValue",4,"ngFor","ngForOf"],[1,"list-items"],["class","list-item",4,"ngFor","ngForOf"],["nz-button","","nzType","dashed",1,"add-item-btn",3,"click"],["nz-icon","","nzType","plus"],["nz-radio","",3,"nzValue"],[1,"list-item"],["nz-input","","name","title","placeholder","Nh\u1EADp ti\xEAu \u0111\u1EC1",3,"ngModelChange","ngModel"],["nz-input","","name","description","placeholder","Nh\u1EADp m\xF4 t\u1EA3",3,"ngModelChange","ngModel","nzAutosize"],[4,"ngIf"],[1,"item-actions"],["nz-button","","nzType","text","nzDanger","",3,"click"],["nz-icon","","nzType","delete"],["nz-input","","name","icon","placeholder","Nh\u1EADp t\xEAn icon",3,"ngModelChange","ngModel"]],template:function(n,l){n&1&&(u(0,"div",0)(1,"form",1)(2,"nz-form-item")(3,"nz-form-label"),g(4,"Ki\u1EC3u danh s\xE1ch"),p(),u(5,"nz-form-control")(6,"nz-radio-group",2),A("ngModelChange",function(_){return D(l.block.style,_)||(l.block.style=_),_}),k("ngModelChange",function(_){return l.onStyleChange(_)}),x(7,Mc,2,2,"label",3),p()()(),u(8,"div",4),x(9,Ec,18,5,"div",5),p(),u(10,"button",6),k("click",function(){return l.addItem()}),P(11,"i",7),g(12," Th\xEAm m\u1EE5c "),p()()()),n&2&&(s(6),N("ngModel",l.block.style),s(),d("ngForOf",l.listStyles),s(2),d("ngForOf",l.block.items))},dependencies:[rt,Et,Ft,ht,at,At,lt,Gt,st,ft,fe,gt,ct,St,ne,Ct,vt,Vt,yt,xt,bt,oe,ie],styles:[".list-block[_ngcontent-%COMP%]   nz-radio-group[_ngcontent-%COMP%]{margin-bottom:16px;display:block}.list-block[_ngcontent-%COMP%]   .list-items[_ngcontent-%COMP%]{margin:16px 0;display:flex;flex-direction:column;gap:16px}.list-block[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   nz-card[_ngcontent-%COMP%]{margin-bottom:0}.list-block[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:16px}.list-block[_ngcontent-%COMP%]   .add-item-btn[_ngcontent-%COMP%]{width:100%}"]})};function Sc(o,r){if(o&1&&(u(0,"label",8),g(1),p()),o&2){let n=r.$implicit;d("nzValue",n.value),s(),S(n.label)}}function Oc(o,r){if(o&1&&(u(0,"label",8),g(1),p()),o&2){let n=r.$implicit;d("nzValue",n.value),s(),S(n.label)}}function Tc(o,r){if(o&1&&P(0,"img",20),o&2){let n=f().$implicit;d("src",n.image,J)("alt",n.title)}}function Lc(o,r){o&1&&(u(0,"div",21),P(1,"i",22),u(2,"span"),g(3,"Ch\u01B0a c\xF3 h\xECnh \u1EA3nh"),p()())}function Bc(o,r){if(o&1){let n=Z();u(0,"div",9)(1,"nz-card")(2,"div",10),x(3,Tc,1,2,"img",11)(4,Lc,4,0,"div",12),p(),u(5,"form",13)(6,"nz-form-item")(7,"nz-form-label"),g(8,"URL H\xECnh \u1EA3nh"),p(),u(9,"nz-form-control")(10,"input",14),A("ngModelChange",function(m){let _=w(n).$implicit;return D(_.image,m)||(_.image=m),E(m)}),k("ngModelChange",function(){w(n);let m=f();return E(m.emitChange())}),p()()(),u(11,"nz-form-item")(12,"nz-form-label"),g(13,"Ti\xEAu \u0111\u1EC1"),p(),u(14,"nz-form-control")(15,"input",15),A("ngModelChange",function(m){let _=w(n).$implicit;return D(_.title,m)||(_.title=m),E(m)}),k("ngModelChange",function(){w(n);let m=f();return E(m.emitChange())}),p()()(),u(16,"nz-form-item")(17,"nz-form-label"),g(18,"M\xF4 t\u1EA3"),p(),u(19,"nz-form-control")(20,"textarea",16),A("ngModelChange",function(m){let _=w(n).$implicit;return D(_.description,m)||(_.description=m),E(m)}),k("ngModelChange",function(){w(n);let m=f();return E(m.emitChange())}),p()()()(),u(21,"div",17)(22,"button",18),k("click",function(){let m=w(n).index,_=f();return E(_.removeItem(m))}),P(23,"i",19),g(24," X\xF3a "),p()()()()}if(o&2){let n=r.$implicit;s(3),d("ngIf",n.image),s(),d("ngIf",!n.image),s(6),N("ngModel",n.image),s(5),N("ngModel",n.title),s(5),N("ngModel",n.description)}}var hn=class o{block;blockChange=new kt;layouts=[{label:"L\u01B0\u1EDBi",value:"grid"},{label:"Carousel",value:"carousel"}];columns=[{label:"2 c\u1ED9t",value:2},{label:"3 c\u1ED9t",value:3},{label:"4 c\u1ED9t",value:4}];constructor(){}ngOnInit(){}addItem(){this.block.items.push({image:"",title:"",description:""}),this.emitChange()}removeItem(r){this.block.items.splice(r,1),this.emitChange()}onLayoutChange(r){this.block.layout=r,this.emitChange()}onColumnsChange(r){this.block.columns=r,this.emitChange()}emitChange(){this.blockChange.emit(q({},this.block))}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=Y({type:o,selectors:[["app-image-list-block"]],inputs:{block:"block"},outputs:{blockChange:"blockChange"},standalone:!1,decls:11,vars:9,consts:[[1,"image-list-block"],[1,"block-settings"],[3,"ngModelChange","ngModel"],["nz-radio","",3,"nzValue",4,"ngFor","ngForOf"],[1,"image-items"],["class","image-item",4,"ngFor","ngForOf"],["nz-button","","nzType","dashed",1,"add-item-btn",3,"click"],["nz-icon","","nzType","plus"],["nz-radio","",3,"nzValue"],[1,"image-item"],[1,"image-preview"],[3,"src","alt",4,"ngIf"],["class","no-image",4,"ngIf"],["nz-form",""],["nz-input","","name","image","placeholder","Nh\u1EADp URL h\xECnh \u1EA3nh",3,"ngModelChange","ngModel"],["nz-input","","name","title","placeholder","Nh\u1EADp ti\xEAu \u0111\u1EC1",3,"ngModelChange","ngModel"],["nz-input","","name","description","placeholder","Nh\u1EADp m\xF4 t\u1EA3",3,"ngModelChange","ngModel"],[1,"item-actions"],["nz-button","","nzType","text","nzDanger","",3,"click"],["nz-icon","","nzType","delete"],[3,"src","alt"],[1,"no-image"],["nz-icon","","nzType","picture","nzTheme","outline"]],template:function(n,l){n&1&&(u(0,"div",0)(1,"div",1)(2,"nz-radio-group",2),A("ngModelChange",function(_){return D(l.block.layout,_)||(l.block.layout=_),_}),k("ngModelChange",function(_){return l.onLayoutChange(_)}),x(3,Sc,2,2,"label",3),p(),u(4,"nz-radio-group",2),A("ngModelChange",function(_){return D(l.block.columns,_)||(l.block.columns=_),_}),k("ngModelChange",function(_){return l.onColumnsChange(_)}),x(5,Oc,2,2,"label",3),p()(),u(6,"div",4),x(7,Bc,25,5,"div",5),p(),u(8,"button",6),k("click",function(){return l.addItem()}),P(9,"i",7),g(10," Th\xEAm h\xECnh \u1EA3nh "),p()()),n&2&&(s(2),N("ngModel",l.block.layout),s(),d("ngForOf",l.layouts),s(),N("ngModel",l.block.columns),s(),d("ngForOf",l.columns),s(),W("--columns",l.block.columns),$t("grid-layout",l.block.layout==="grid"),s(),d("ngForOf",l.block.items))},dependencies:[rt,Et,Ft,ht,at,At,lt,Gt,st,ft,gt,ct,St,ne,Ct,vt,Vt,yt,xt,bt,oe,ie],styles:[".image-list-block[_ngcontent-%COMP%]   .block-settings[_ngcontent-%COMP%]{display:flex;gap:24px;margin-bottom:16px}.image-list-block[_ngcontent-%COMP%]   .block-settings[_ngcontent-%COMP%]   nz-radio-group[_ngcontent-%COMP%]{display:block}.image-list-block[_ngcontent-%COMP%]   .image-items[_ngcontent-%COMP%]{display:grid;gap:16px;margin-bottom:16px}.image-list-block[_ngcontent-%COMP%]   .image-items.grid-layout[_ngcontent-%COMP%]{grid-template-columns:repeat(var(--columns),1fr)}.image-list-block[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{height:200px;display:flex;align-items:center;justify-content:center;background-color:#f5f5f5;margin-bottom:16px;border-radius:4px;overflow:hidden}.image-list-block[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}.image-list-block[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;color:#bfbfbf}.image-list-block[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;margin-bottom:8px}.image-list-block[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:16px}.image-list-block[_ngcontent-%COMP%]   .add-item-btn[_ngcontent-%COMP%]{width:100%}"]})};var gn=class o{constructor(r){this.sanitizer=r}transform(r,n){switch(n){case"html":return this.sanitizer.bypassSecurityTrustHtml(r);case"style":return this.sanitizer.bypassSecurityTrustStyle(r);case"script":return this.sanitizer.bypassSecurityTrustScript(r);case"url":return this.sanitizer.bypassSecurityTrustUrl(r);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(r);default:return this.sanitizer.bypassSecurityTrustHtml(r)}}static \u0275fac=function(n){return new(n||o)(pt(jr,16))};static \u0275pipe=Vr({name:"safe",type:o,pure:!0,standalone:!1})};var Ic=()=>({minRows:2,maxRows:6});function Nc(o,r){if(o&1&&P(0,"video",16),o&2){let n=f(2);d("src",n.block.url,J)("poster",n.block.poster,J)("controls",n.block.controls)("autoplay",n.block.autoplay)}}function Dc(o,r){if(o&1&&(P(0,"iframe",17),Ae(1,"safe")),o&2){let n=f(2);d("src",Fe(1,1,n.block.url,"resourceUrl"),De)}}function Ac(o,r){if(o&1&&(P(0,"iframe",18),Ae(1,"safe")),o&2){let n=f(2);d("src",Fe(1,1,n.block.url,"resourceUrl"),De)}}function Fc(o,r){if(o&1&&(u(0,"div",11)(1,"div",12),x(2,Nc,1,4,"video",13)(3,Dc,2,4,"iframe",14)(4,Ac,2,4,"iframe",15),p()()),o&2){let n=f();s(2),d("ngIf",!n.block.url.includes("youtube.com")&&!n.block.url.includes("vimeo.com")),s(),d("ngIf",n.block.url.includes("youtube.com")),s(),d("ngIf",n.block.url.includes("vimeo.com"))}}var fn=class o{block;blockChange=new kt;urlSubject=new te;titleSubject=new te;descriptionSubject=new te;subscription=new ui;constructor(){this.subscription.add(this.urlSubject.pipe(se(500),ce()).subscribe(r=>{this.block.url=r,this.emitChange()})),this.subscription.add(this.titleSubject.pipe(se(300),ce()).subscribe(r=>{this.block.title=r,this.emitChange()})),this.subscription.add(this.descriptionSubject.pipe(se(300),ce()).subscribe(r=>{this.block.description=r,this.emitChange()}))}ngOnInit(){this.block.controls||(this.block.controls=!0)}ngOnDestroy(){this.subscription.unsubscribe()}onUrlChange(r){this.urlSubject.next(r)}onTitleChange(r){this.titleSubject.next(r)}onDescriptionChange(r){this.descriptionSubject.next(r)}onAutoplayChange(r){this.block.autoplay=r,this.emitChange()}onControlsChange(r){this.block.controls=r,this.emitChange()}onPosterChange(r){this.block.poster=r,this.emitChange()}emitChange(){this.blockChange.emit(q({},this.block))}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=Y({type:o,selectors:[["app-video-block"]],inputs:{block:"block"},outputs:{blockChange:"blockChange"},standalone:!1,decls:34,vars:12,consts:[[1,"video-block"],["nz-form",""],["nz-input","","name","url","placeholder","Nh\u1EADp URL video (YouTube, Vimeo, ho\u1EB7c URL tr\u1EF1c ti\u1EBFp)",3,"ngModelChange","ngModel"],["nz-input","","name","title","placeholder","Nh\u1EADp ti\xEAu \u0111\u1EC1",3,"ngModelChange","ngModel"],["nz-input","","name","description","placeholder","Nh\u1EADp m\xF4 t\u1EA3",3,"ngModelChange","ngModel","nzAutosize"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nz-checkbox","","name","autoplay",3,"ngModelChange","ngModel"],["nz-checkbox","","name","controls",3,"ngModelChange","ngModel"],["nz-input","","name","poster","placeholder","Nh\u1EADp URL \u1EA3nh poster",3,"ngModelChange","ngModel"],["class","video-preview",4,"ngIf"],[1,"video-preview"],[1,"video-container"],["class","video-player",3,"src","poster","controls","autoplay",4,"ngIf"],["frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","","class","video-player",3,"src",4,"ngIf"],["frameborder","0","allow","autoplay; fullscreen; picture-in-picture","allowfullscreen","","class","video-player",3,"src",4,"ngIf"],[1,"video-player",3,"src","poster","controls","autoplay"],["frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",1,"video-player",3,"src"],["frameborder","0","allow","autoplay; fullscreen; picture-in-picture","allowfullscreen","",1,"video-player",3,"src"]],template:function(n,l){n&1&&(u(0,"div",0)(1,"form",1)(2,"nz-form-item")(3,"nz-form-label"),g(4,"URL Video"),p(),u(5,"nz-form-control")(6,"input",2),k("ngModelChange",function(_){return l.onUrlChange(_)}),p()()(),u(7,"nz-form-item")(8,"nz-form-label"),g(9,"Ti\xEAu \u0111\u1EC1"),p(),u(10,"nz-form-control")(11,"input",3),k("ngModelChange",function(_){return l.onTitleChange(_)}),p()()(),u(12,"nz-form-item")(13,"nz-form-label"),g(14,"M\xF4 t\u1EA3"),p(),u(15,"nz-form-control")(16,"textarea",4),k("ngModelChange",function(_){return l.onDescriptionChange(_)}),p()()(),u(17,"div",5)(18,"div",6)(19,"nz-form-item")(20,"nz-form-control")(21,"label",7),k("ngModelChange",function(_){return l.onAutoplayChange(_)}),g(22," T\u1EF1 \u0111\u1ED9ng ph\xE1t "),p()()()(),u(23,"div",6)(24,"nz-form-item")(25,"nz-form-control")(26,"label",8),k("ngModelChange",function(_){return l.onControlsChange(_)}),g(27," Hi\u1EC3n th\u1ECB \u0111i\u1EC1u khi\u1EC3n "),p()()()()(),u(28,"nz-form-item")(29,"nz-form-label"),g(30,"\u1EA2nh poster"),p(),u(31,"nz-form-control")(32,"input",9),k("ngModelChange",function(_){return l.onPosterChange(_)}),p()()()(),x(33,Fc,5,3,"div",10),p()),n&2&&(s(6),d("ngModel",l.block.url),s(5),d("ngModel",l.block.title),s(5),d("ngModel",l.block.description)("nzAutosize",_t(11,Ic)),s(),d("nzGutter",24),s(),d("nzSpan",12),s(3),d("ngModel",l.block.autoplay),s(2),d("nzSpan",12),s(3),d("ngModel",l.block.controls),s(6),d("ngModel",l.block.poster),s(),d("ngIf",l.block.url))},dependencies:[Et,Ft,ht,at,At,lt,Gt,ft,fe,Ct,vt,Vt,yt,xt,bt,cn,gn],styles:[".video-block[_ngcontent-%COMP%]   .video-preview[_ngcontent-%COMP%]{margin-top:16px;border-radius:4px;overflow:hidden;background-color:#f5f5f5}.video-block[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%]{position:relative;width:100%;padding-bottom:56.25%;height:0;overflow:hidden}.video-block[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}"]})};var Vc=()=>({minRows:2,maxRows:4});function Rc(o,r){if(o&1&&(u(0,"label",9),g(1),p()),o&2){let n=r.$implicit;d("nzValue",n.value),s(),S(n.label)}}function Zc(o,r){if(o&1&&(u(0,"label",9),g(1),p()),o&2){let n=r.$implicit;d("nzValue",n.value),s(),S(n.label)}}function Wc(o,r){if(o&1&&P(0,"img",22),o&2){let n=f().$implicit;d("src",n.url,J)("alt",n.title)}}function Hc(o,r){o&1&&(u(0,"div",23),P(1,"i",24),u(2,"span"),g(3,"Ch\u01B0a c\xF3 h\xECnh \u1EA3nh"),p()())}function Uc(o,r){if(o&1){let n=Z();u(0,"div",10)(1,"nz-card")(2,"div",11),x(3,Wc,1,2,"img",12)(4,Hc,4,0,"div",13),p(),u(5,"form",14)(6,"nz-form-item")(7,"nz-form-label"),g(8,"URL H\xECnh \u1EA3nh"),p(),u(9,"nz-form-control")(10,"input",15),A("ngModelChange",function(m){let _=w(n).$implicit;return D(_.url,m)||(_.url=m),E(m)}),k("ngModelChange",function(m){let _=w(n).index,y=f();return E(y.onImageChange(_,"url",m))}),p()()(),u(11,"nz-form-item")(12,"nz-form-label"),g(13,"URL Thumbnail"),p(),u(14,"nz-form-control")(15,"input",16),A("ngModelChange",function(m){let _=w(n).$implicit;return D(_.thumbnail,m)||(_.thumbnail=m),E(m)}),k("ngModelChange",function(m){let _=w(n).index,y=f();return E(y.onImageChange(_,"thumbnail",m))}),p()()(),u(16,"nz-form-item")(17,"nz-form-label"),g(18,"Ti\xEAu \u0111\u1EC1"),p(),u(19,"nz-form-control")(20,"input",17),A("ngModelChange",function(m){let _=w(n).$implicit;return D(_.title,m)||(_.title=m),E(m)}),k("ngModelChange",function(m){let _=w(n).index,y=f();return E(y.onImageChange(_,"title",m))}),p()()(),u(21,"nz-form-item")(22,"nz-form-label"),g(23,"M\xF4 t\u1EA3"),p(),u(24,"nz-form-control")(25,"textarea",18),A("ngModelChange",function(m){let _=w(n).$implicit;return D(_.description,m)||(_.description=m),E(m)}),k("ngModelChange",function(m){let _=w(n).index,y=f();return E(y.onImageChange(_,"description",m))}),p()()()(),u(26,"div",19)(27,"button",20),k("click",function(){let m=w(n).index,_=f();return E(_.removeImage(m))}),P(28,"i",21),g(29," X\xF3a "),p()()()()}if(o&2){let n=r.$implicit;s(3),d("ngIf",n.url),s(),d("ngIf",!n.url),s(6),N("ngModel",n.url),s(5),N("ngModel",n.thumbnail),s(5),N("ngModel",n.title),s(5),N("ngModel",n.description),d("nzAutosize",_t(7,Vc))}}var vn=class o{block;blockChange=new kt;layouts=[{label:"L\u01B0\u1EDBi",value:"grid"},{label:"Masonry",value:"masonry"}];columns=[{label:"2 c\u1ED9t",value:2},{label:"3 c\u1ED9t",value:3},{label:"4 c\u1ED9t",value:4}];constructor(){}ngOnInit(){this.block.images||(this.block.images=[]),this.block.spacing||(this.block.spacing=16)}addImage(){this.block.images.push({url:"",thumbnail:"",title:"",description:""}),this.emitChange()}removeImage(r){this.block.images.splice(r,1),this.emitChange()}onLayoutChange(r){this.block.layout=r,this.emitChange()}onColumnsChange(r){this.block.columns=r,this.emitChange()}onSpacingChange(r){this.block.spacing=r,this.emitChange()}onImageChange(r,n,l){this.block.images[r]=mt(q({},this.block.images[r]),{[n]:l}),this.emitChange()}emitChange(){this.blockChange.emit(q({},this.block))}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=Y({type:o,selectors:[["app-gallery-block"]],inputs:{block:"block"},outputs:{blockChange:"blockChange"},standalone:!1,decls:24,vars:15,consts:[[1,"gallery-block"],[1,"block-settings"],[3,"ngModelChange","ngModel"],["nz-radio","",3,"nzValue",4,"ngFor","ngForOf"],[3,"ngModelChange","ngModel","nzMin","nzMax","nzStep"],[1,"gallery-items"],["class","gallery-item",4,"ngFor","ngForOf"],["nz-button","","nzType","dashed",1,"add-image-btn",3,"click"],["nz-icon","","nzType","plus"],["nz-radio","",3,"nzValue"],[1,"gallery-item"],[1,"image-preview"],[3,"src","alt",4,"ngIf"],["class","no-image",4,"ngIf"],["nz-form",""],["nz-input","","name","url","placeholder","Nh\u1EADp URL h\xECnh \u1EA3nh",3,"ngModelChange","ngModel"],["nz-input","","name","thumbnail","placeholder","Nh\u1EADp URL thumbnail",3,"ngModelChange","ngModel"],["nz-input","","name","title","placeholder","Nh\u1EADp ti\xEAu \u0111\u1EC1",3,"ngModelChange","ngModel"],["nz-input","","name","description","placeholder","Nh\u1EADp m\xF4 t\u1EA3",3,"ngModelChange","ngModel","nzAutosize"],[1,"image-actions"],["nz-button","","nzType","text","nzDanger","",3,"click"],["nz-icon","","nzType","delete"],[3,"src","alt"],[1,"no-image"],["nz-icon","","nzType","picture","nzTheme","outline"]],template:function(n,l){n&1&&(u(0,"div",0)(1,"div",1)(2,"nz-form-item")(3,"nz-form-label"),g(4,"Ki\u1EC3u hi\u1EC3n th\u1ECB"),p(),u(5,"nz-form-control")(6,"nz-radio-group",2),A("ngModelChange",function(_){return D(l.block.layout,_)||(l.block.layout=_),_}),k("ngModelChange",function(_){return l.onLayoutChange(_)}),x(7,Rc,2,2,"label",3),p()()(),u(8,"nz-form-item")(9,"nz-form-label"),g(10,"S\u1ED1 c\u1ED9t"),p(),u(11,"nz-form-control")(12,"nz-radio-group",2),A("ngModelChange",function(_){return D(l.block.columns,_)||(l.block.columns=_),_}),k("ngModelChange",function(_){return l.onColumnsChange(_)}),x(13,Zc,2,2,"label",3),p()()(),u(14,"nz-form-item")(15,"nz-form-label"),g(16,"Kho\u1EA3ng c\xE1ch (px)"),p(),u(17,"nz-form-control")(18,"nz-input-number",4),A("ngModelChange",function(_){return D(l.block.spacing,_)||(l.block.spacing=_),_}),k("ngModelChange",function(_){return l.onSpacingChange(_)}),p()()()(),u(19,"div",5),x(20,Uc,30,8,"div",6),p(),u(21,"button",7),k("click",function(){return l.addImage()}),P(22,"i",8),g(23," Th\xEAm h\xECnh \u1EA3nh "),p()()),n&2&&(s(6),N("ngModel",l.block.layout),s(),d("ngForOf",l.layouts),s(5),N("ngModel",l.block.columns),s(),d("ngForOf",l.columns),s(5),N("ngModel",l.block.spacing),d("nzMin",0)("nzMax",48)("nzStep",4),s(),ee(l.block.layout+"-layout"),W("--columns",l.block.columns)("--spacing",l.block.spacing+"px"),s(),d("ngForOf",l.block.images))},dependencies:[rt,Et,Ft,ht,at,At,lt,Gt,st,ft,fe,gt,ct,St,ne,Ct,vt,Vt,yt,xt,bt,oe,ie,ye],styles:[".gallery-block[_ngcontent-%COMP%]   .block-settings[_ngcontent-%COMP%]{display:flex;gap:24px;margin-bottom:16px;flex-wrap:wrap}.gallery-block[_ngcontent-%COMP%]   .block-settings[_ngcontent-%COMP%]   nz-radio-group[_ngcontent-%COMP%]{display:block}.gallery-block[_ngcontent-%COMP%]   .gallery-items[_ngcontent-%COMP%]{margin-bottom:16px;gap:var(--spacing)}.gallery-block[_ngcontent-%COMP%]   .gallery-items.grid-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(var(--columns),1fr)}.gallery-block[_ngcontent-%COMP%]   .gallery-items.masonry-layout[_ngcontent-%COMP%]{column-count:var(--columns);column-gap:var(--spacing)}.gallery-block[_ngcontent-%COMP%]   .gallery-items.masonry-layout[_ngcontent-%COMP%]   .gallery-item[_ngcontent-%COMP%]{break-inside:avoid;margin-bottom:var(--spacing)}.gallery-block[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{height:200px;display:flex;align-items:center;justify-content:center;background-color:#f5f5f5;margin-bottom:16px;border-radius:4px;overflow:hidden}.gallery-block[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}.gallery-block[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;color:#bfbfbf}.gallery-block[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;margin-bottom:8px}.gallery-block[_ngcontent-%COMP%]   .image-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:16px}.gallery-block[_ngcontent-%COMP%]   .add-image-btn[_ngcontent-%COMP%]{width:100%}"]})};var Gc=()=>[];function jc(o,r){if(o&1&&(u(0,"h1"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px")("text-align",n.alignment),s(),S(n.content)}}function qc(o,r){if(o&1&&(u(0,"h2"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px")("text-align",n.alignment),s(),S(n.content)}}function $c(o,r){if(o&1&&(u(0,"h3"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px")("text-align",n.alignment),s(),S(n.content)}}function Xc(o,r){if(o&1&&(u(0,"h4"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px")("text-align",n.alignment),s(),S(n.content)}}function Kc(o,r){if(o&1&&(u(0,"h5"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px")("text-align",n.alignment),s(),S(n.content)}}function Jc(o,r){if(o&1&&(u(0,"h6"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px")("text-align",n.alignment),s(),S(n.content)}}function Yc(o,r){if(o&1&&(u(0,"div",16),Q(1,17),x(2,jc,2,7,"h1",18)(3,qc,2,7,"h2",18)(4,$c,2,7,"h3",18)(5,Xc,2,7,"h4",18)(6,Kc,2,7,"h5",18)(7,Jc,2,7,"h6",18),tt(),p()),o&2){let n=f().$implicit;s(),d("ngSwitch",n.level),s(),d("ngSwitchCase","h1"),s(),d("ngSwitchCase","h2"),s(),d("ngSwitchCase","h3"),s(),d("ngSwitchCase","h4"),s(),d("ngSwitchCase","h5"),s(),d("ngSwitchCase","h6")}}function Qc(o,r){if(o&1&&(u(0,"div",19)(1,"a",20),g(2),p()()),o&2){let n=f().$implicit;W("text-align",n.alignment),s(),d("href",n.url,J)("target",n.target)("nzType",n.style)("nzSize",n.size)("nzBlock",n.fullWidth),s(),F(" ",n.text," ")}}function td(o,r){if(o&1&&(u(0,"h3"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.title)}}function ed(o,r){if(o&1&&(u(0,"p"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.description)}}function nd(o,r){if(o&1&&(u(0,"div",27),x(1,td,2,1,"h3",28)(2,ed,2,1,"p",28),p()),o&2){let n=f().$implicit;s(),d("ngIf",n.title),s(),d("ngIf",n.description)}}function id(o,r){if(o&1&&(u(0,"div",24),P(1,"img",25),x(2,nd,3,2,"div",26),p()),o&2){let n=r.$implicit;s(),d("src",n.url,J)("alt",n.title),s(),d("ngIf",n.title||n.description)}}function od(o,r){if(o&1&&(u(0,"div",21)(1,"nz-carousel",22),x(2,id,3,3,"div",23),p()()),o&2){let n=f().$implicit;s(),d("nzAutoPlay",!0),s(),d("ngForOf",n.images)}}function rd(o,r){if(o&1&&(u(0,"h2"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.title)}}function ad(o,r){if(o&1&&(u(0,"div",29),x(1,rd,2,1,"h2",28),P(2,"div",30),p()),o&2){let n=f().$implicit;s(),d("ngIf",n.title),s(),d("innerHTML",n.content,ln)}}function ld(o,r){if(o&1&&P(0,"i",34),o&2){let n=f().$implicit;d("nzType",n.icon)}}function sd(o,r){if(o&1&&(u(0,"p"),g(1),p()),o&2){let n=f().$implicit;s(),S(n.description)}}function cd(o,r){if(o&1&&(u(0,"li"),x(1,ld,1,1,"i",32),u(2,"div",33)(3,"h4"),g(4),p(),x(5,sd,2,1,"p",28),p()()),o&2){let n=r.$implicit,l=f(2).$implicit;s(),d("ngIf",l.style==="icon"&&n.icon),s(3),S(n.title),s(),d("ngIf",n.description)}}function dd(o,r){if(o&1&&(u(0,"div",31)(1,"ul"),x(2,cd,6,3,"li",2),p()()),o&2){let n=f().$implicit;s(),ee(n.style),s(),d("ngForOf",n.items)}}function ud(o,r){if(o&1&&(u(0,"h4"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.title)}}function pd(o,r){if(o&1&&(u(0,"p"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.description)}}function md(o,r){if(o&1&&(u(0,"div",27),x(1,ud,2,1,"h4",28)(2,pd,2,1,"p",28),p()),o&2){let n=f().$implicit;s(),d("ngIf",n.title),s(),d("ngIf",n.description)}}function _d(o,r){if(o&1&&(u(0,"div",38),P(1,"img",25),x(2,md,3,2,"div",26),p()),o&2){let n=r.$implicit;s(),d("src",n.image,J)("alt",n.title),s(),d("ngIf",n.title||n.description)}}function hd(o,r){if(o&1&&(u(0,"div",35)(1,"div",36),x(2,_d,3,3,"div",37),p()()),o&2){let n=f().$implicit;s(),W("--columns",n.columns),$t("carousel",n.layout==="carousel"),s(),d("ngForOf",n.items)}}function gd(o,r){if(o&1&&(u(0,"h3"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.title)}}function fd(o,r){if(o&1&&(u(0,"p"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.description)}}function vd(o,r){if(o&1&&P(0,"video",43),o&2){let n=f(2).$implicit;d("src",n.url,J)("poster",n.poster,J)("controls",n.controls)("autoplay",n.autoplay)}}function Cd(o,r){if(o&1&&(P(0,"iframe",44),Ae(1,"safe")),o&2){let n=f(2).$implicit;d("src",Fe(1,1,n.url,"resourceUrl"),De)}}function yd(o,r){if(o&1&&(P(0,"iframe",44),Ae(1,"safe")),o&2){let n=f(2).$implicit;d("src",Fe(1,1,n.url,"resourceUrl"),De)}}function bd(o,r){if(o&1&&(u(0,"div",39),x(1,gd,2,1,"h3",28)(2,fd,2,1,"p",28),u(3,"div",40),x(4,vd,1,4,"video",41)(5,Cd,2,4,"iframe",42)(6,yd,2,4,"iframe",42),p()()),o&2){let n=f().$implicit;s(),d("ngIf",n.title),s(),d("ngIf",n.description),s(2),d("ngIf",!n.url.includes("youtube.com")&&!n.url.includes("vimeo.com")),s(),d("ngIf",n.url.includes("youtube.com")),s(),d("ngIf",n.url.includes("vimeo.com"))}}function xd(o,r){if(o&1&&(u(0,"h4"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.title)}}function Pd(o,r){if(o&1&&(u(0,"p"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.description)}}function kd(o,r){if(o&1&&(u(0,"div",27),x(1,xd,2,1,"h4",28)(2,Pd,2,1,"p",28),p()),o&2){let n=f().$implicit;s(),d("ngIf",n.title),s(),d("ngIf",n.description)}}function zd(o,r){if(o&1&&(u(0,"div",48),P(1,"img",25),x(2,kd,3,2,"div",26),p()),o&2){let n=r.$implicit;s(),d("src",n.url,J)("alt",n.title),s(),d("ngIf",n.title||n.description)}}function Md(o,r){if(o&1&&(u(0,"div",45)(1,"div",46),x(2,zd,3,3,"div",47),p()()),o&2){let n=f().$implicit;s(),ee(n.layout+"-layout"),W("--columns",n.columns)("--spacing",n.spacing+"px"),s(),d("ngForOf",n.images)}}function wd(o,r){if(o&1&&(Q(0),x(1,Yc,8,7,"div",11)(2,Qc,3,8,"div",12)(3,od,3,2,"div",4)(4,ad,3,2,"div",5)(5,dd,3,3,"div",6)(6,hd,3,5,"div",7)(7,bd,7,5,"div",8)(8,Md,3,7,"div",9),tt()),o&2){let n=r.$implicit,l=f(4);s(),d("ngIf",l.isHeadingBlock(n)),s(),d("ngIf",l.isButtonBlock(n)),s(),d("ngIf",l.isSliderBlock(n)),s(),d("ngIf",l.isParagraphBlock(n)),s(),d("ngIf",l.isListBlock(n)),s(),d("ngIf",l.isImageListBlock(n)),s(),d("ngIf",l.isVideoBlock(n)),s(),d("ngIf",l.isGalleryBlock(n))}}function Ed(o,r){if(o&1&&(Q(0),u(1,"div",15),x(2,wd,9,8,"ng-container",2),p(),tt()),o&2){let n=r.index,l=f(2).$implicit,m=f();s(2),d("ngForOf",m.getColumnBlocks(l,n))}}function Sd(o,r){if(o&1&&(u(0,"div",13)(1,"div",14),x(2,Ed,3,1,"ng-container",2),p()()),o&2){let n=f().$implicit;s(),W("--columns",n.columns)("--gap",n.columnGap+"px"),s(),d("ngForOf",_t(5,Gc).constructor(n.columns))}}function Od(o,r){if(o&1&&(u(0,"h3"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.title)}}function Td(o,r){if(o&1&&(u(0,"p"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.description)}}function Ld(o,r){if(o&1&&(u(0,"div",27),x(1,Od,2,1,"h3",28)(2,Td,2,1,"p",28),p()),o&2){let n=f().$implicit;s(),d("ngIf",n.title),s(),d("ngIf",n.description)}}function Bd(o,r){if(o&1&&(u(0,"div",24),P(1,"img",25),x(2,Ld,3,2,"div",26),p()),o&2){let n=r.$implicit;s(),d("src",n.url,J)("alt",n.title),s(),d("ngIf",n.title||n.description)}}function Id(o,r){if(o&1&&(u(0,"div",21)(1,"nz-carousel",22),x(2,Bd,3,3,"div",23),p()()),o&2){let n=f().$implicit;s(),d("nzAutoPlay",!0),s(),d("ngForOf",n.images)}}function Nd(o,r){if(o&1&&(u(0,"h2"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.title)}}function Dd(o,r){if(o&1&&(u(0,"div",29),x(1,Nd,2,1,"h2",28),P(2,"div",30),p()),o&2){let n=f().$implicit;s(),d("ngIf",n.title),s(),d("innerHTML",n.content,ln)}}function Ad(o,r){if(o&1&&P(0,"i",34),o&2){let n=f().$implicit;d("nzType",n.icon)}}function Fd(o,r){if(o&1&&(u(0,"p"),g(1),p()),o&2){let n=f().$implicit;s(),S(n.description)}}function Vd(o,r){if(o&1&&(u(0,"li"),x(1,Ad,1,1,"i",32),u(2,"div",33)(3,"h4"),g(4),p(),x(5,Fd,2,1,"p",28),p()()),o&2){let n=r.$implicit,l=f(2).$implicit;s(),d("ngIf",l.style==="icon"&&n.icon),s(3),S(n.title),s(),d("ngIf",n.description)}}function Rd(o,r){if(o&1&&(u(0,"div",31)(1,"ul"),x(2,Vd,6,3,"li",2),p()()),o&2){let n=f().$implicit;s(),ee(n.style),s(),d("ngForOf",n.items)}}function Zd(o,r){if(o&1&&(u(0,"h4"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.title)}}function Wd(o,r){if(o&1&&(u(0,"p"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.description)}}function Hd(o,r){if(o&1&&(u(0,"div",27),x(1,Zd,2,1,"h4",28)(2,Wd,2,1,"p",28),p()),o&2){let n=f().$implicit;s(),d("ngIf",n.title),s(),d("ngIf",n.description)}}function Ud(o,r){if(o&1&&(u(0,"div",38),P(1,"img",25),x(2,Hd,3,2,"div",26),p()),o&2){let n=r.$implicit;s(),d("src",n.image,J)("alt",n.title),s(),d("ngIf",n.title||n.description)}}function Gd(o,r){if(o&1&&(u(0,"div",35)(1,"div",36),x(2,Ud,3,3,"div",37),p()()),o&2){let n=f().$implicit;s(),W("--columns",n.columns),$t("carousel",n.layout==="carousel"),s(),d("ngForOf",n.items)}}function jd(o,r){if(o&1&&(u(0,"h3"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.title)}}function qd(o,r){if(o&1&&(u(0,"p"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.description)}}function $d(o,r){if(o&1&&P(0,"video",43),o&2){let n=f(2).$implicit;d("src",n.url,J)("poster",n.poster,J)("controls",n.controls)("autoplay",n.autoplay)}}function Xd(o,r){if(o&1&&(P(0,"iframe",44),Ae(1,"safe")),o&2){let n=f(2).$implicit;d("src",Fe(1,1,n.url,"resourceUrl"),De)}}function Kd(o,r){if(o&1&&(P(0,"iframe",44),Ae(1,"safe")),o&2){let n=f(2).$implicit;d("src",Fe(1,1,n.url,"resourceUrl"),De)}}function Jd(o,r){if(o&1&&(u(0,"div",39),x(1,jd,2,1,"h3",28)(2,qd,2,1,"p",28),u(3,"div",40),x(4,$d,1,4,"video",41)(5,Xd,2,4,"iframe",42)(6,Kd,2,4,"iframe",42),p()()),o&2){let n=f().$implicit;s(),d("ngIf",n.title),s(),d("ngIf",n.description),s(2),d("ngIf",!n.url.includes("youtube.com")&&!n.url.includes("vimeo.com")),s(),d("ngIf",n.url.includes("youtube.com")),s(),d("ngIf",n.url.includes("vimeo.com"))}}function Yd(o,r){if(o&1&&(u(0,"h4"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.title)}}function Qd(o,r){if(o&1&&(u(0,"p"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.description)}}function tu(o,r){if(o&1&&(u(0,"div",27),x(1,Yd,2,1,"h4",28)(2,Qd,2,1,"p",28),p()),o&2){let n=f().$implicit;s(),d("ngIf",n.title),s(),d("ngIf",n.description)}}function eu(o,r){if(o&1&&(u(0,"div",48),P(1,"img",25),x(2,tu,3,2,"div",26),p()),o&2){let n=r.$implicit;s(),d("src",n.url,J)("alt",n.title),s(),d("ngIf",n.title||n.description)}}function nu(o,r){if(o&1&&(u(0,"div",45)(1,"div",46),x(2,eu,3,3,"div",47),p()()),o&2){let n=f().$implicit;s(),ee(n.layout+"-layout"),W("--columns",n.columns)("--spacing",n.spacing+"px"),s(),d("ngForOf",n.images)}}function iu(o,r){if(o&1&&(u(0,"h2"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.title||"Ti\xEAu \u0111\u1EC1 m\u1EABu")}}function ou(o,r){if(o&1&&(u(0,"h3"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.title||"Ti\xEAu \u0111\u1EC1 m\u1EABu")}}function ru(o,r){if(o&1&&(u(0,"h4"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.title||"Ti\xEAu \u0111\u1EC1 m\u1EABu")}}function au(o,r){if(o&1&&(u(0,"h5"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.title||"Ti\xEAu \u0111\u1EC1 m\u1EABu")}}function lu(o,r){if(o&1&&(u(0,"h6"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.title||"Ti\xEAu \u0111\u1EC1 m\u1EABu")}}function su(o,r){if(o&1){let n=Z();u(0,"div",49)(1,"div",50)(2,"div",51)(3,"img",52),k("error",function(m){w(n);let _=f(2);return E(_.onImageError(m))}),p()(),u(4,"div",53),Q(5,17),x(6,iu,2,1,"h2",54)(7,ou,2,1,"h3",54)(8,ru,2,1,"h4",54)(9,au,2,1,"h5",54)(10,lu,2,1,"h6",54),tt(),u(11,"p"),g(12),p()()()()}if(o&2){let n=f().$implicit;s(),ee("layout-"+n.layout),W("background-color",n.backgroundColor||"#ffffff")("color",n.textColor||"#000000")("padding",n.padding||0,"px"),s(),$t("rounded",n.imageRounded)("shadow",n.imageShadow),s(),W("width",n.image==null?null:n.image.width,"px")("height",n.image==null?null:n.image.height,"px"),d("src",(n.image==null?null:n.image.url)||"assets/images/placeholder.png",J)("alt",(n.image==null?null:n.image.alt)||"Preview image"),s(),W("margin-left",n.layout==="right"?n.spacing||16:null,"px")("margin-right",n.layout==="left"?n.spacing||16:null,"px")("margin-top",n.layout==="bottom"?n.spacing||16:null,"px")("margin-bottom",n.layout==="top"?n.spacing||16:null,"px"),s(),d("ngSwitch",n.titleTag||"h2"),s(),d("ngSwitchCase","h2"),s(),d("ngSwitchCase","h3"),s(),d("ngSwitchCase","h4"),s(),d("ngSwitchCase","h5"),s(),d("ngSwitchCase","h6"),s(2),S(n.description||"Nh\u1EADp m\xF4 t\u1EA3 cho block n\xE0y...")}}function cu(o,r){if(o&1&&(u(0,"h1"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px")("text-align",n.alignment),s(),S(n.content)}}function du(o,r){if(o&1&&(u(0,"h2"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px")("text-align",n.alignment),s(),S(n.content)}}function uu(o,r){if(o&1&&(u(0,"h3"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px")("text-align",n.alignment),s(),S(n.content)}}function pu(o,r){if(o&1&&(u(0,"h4"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px")("text-align",n.alignment),s(),S(n.content)}}function mu(o,r){if(o&1&&(u(0,"h5"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px")("text-align",n.alignment),s(),S(n.content)}}function _u(o,r){if(o&1&&(u(0,"h6"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px")("text-align",n.alignment),s(),S(n.content)}}function hu(o,r){if(o&1&&(u(0,"div",16),Q(1,17),x(2,cu,2,7,"h1",18)(3,du,2,7,"h2",18)(4,uu,2,7,"h3",18)(5,pu,2,7,"h4",18)(6,mu,2,7,"h5",18)(7,_u,2,7,"h6",18),tt(),p()),o&2){let n=f().$implicit;s(),d("ngSwitch",n.level),s(),d("ngSwitchCase","h1"),s(),d("ngSwitchCase","h2"),s(),d("ngSwitchCase","h3"),s(),d("ngSwitchCase","h4"),s(),d("ngSwitchCase","h5"),s(),d("ngSwitchCase","h6")}}function gu(o,r){if(o&1&&(u(0,"div",19)(1,"a",20),g(2),p()()),o&2){let n=f().$implicit;W("text-align",n.alignment),s(),d("href",n.url,J)("target",n.target)("nzType",n.style)("nzSize",n.size)("nzBlock",n.fullWidth),s(),F(" ",n.text," ")}}function fu(o,r){if(o&1&&(Q(0),x(1,Sd,3,6,"div",3)(2,Id,3,2,"div",4)(3,Dd,3,2,"div",5)(4,Rd,3,3,"div",6)(5,Gd,3,5,"div",7)(6,Jd,7,5,"div",8)(7,nu,3,7,"div",9)(8,su,13,33,"div",10)(9,hu,8,7,"div",11)(10,gu,3,8,"div",12),tt()),o&2){let n=r.$implicit,l=f();s(),d("ngIf",l.isLayoutSection(n)),s(),d("ngIf",l.isSliderBlock(n)),s(),d("ngIf",l.isParagraphBlock(n)),s(),d("ngIf",l.isListBlock(n)),s(),d("ngIf",l.isImageListBlock(n)),s(),d("ngIf",l.isVideoBlock(n)),s(),d("ngIf",l.isGalleryBlock(n)),s(),d("ngIf",l.isImageBoxBlock(n)),s(),d("ngIf",l.isHeadingBlock(n)),s(),d("ngIf",l.isButtonBlock(n))}}var wi=class o{content;onImageError(r){let n=r.target;n&&(n.src="assets/images/placeholder.png")}isHeadingBlock(r){return"type"in r&&r.type==="heading"}isButtonBlock(r){return"type"in r&&r.type==="button"}isSliderBlock(r){return"type"in r&&r.type==="slider"}isParagraphBlock(r){return"type"in r&&r.type==="paragraph"}isListBlock(r){return"type"in r&&r.type==="list"}isImageListBlock(r){return"type"in r&&r.type==="image-list"}isVideoBlock(r){return"type"in r&&r.type==="video"}isGalleryBlock(r){return"type"in r&&r.type==="gallery"}isLayoutSection(r){return!("type"in r)&&"columns"in r}isImageBoxBlock(r){return"type"in r&&r.type==="image-box"}getLayoutBlocks(r){return r.blocks.sort((n,l)=>{if(n.columnIndex!==l.columnIndex)return n.columnIndex-l.columnIndex;let m=n.block.order||0,_=l.block.order||0;return m!==_?m-_:(n.block.id||"").localeCompare(l.block.id||"")}).map(n=>n.block)}getColumnBlocks(r,n){return r.blocks.filter(l=>l.columnIndex===n).sort((l,m)=>{let _=l.block.order||0,y=m.block.order||0;return _!==y?_-y:(l.block.id||"").localeCompare(m.block.id||"")}).map(l=>l.block)}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=Y({type:o,selectors:[["app-page-preview"]],inputs:{content:"content"},standalone:!1,decls:3,vars:1,consts:[[1,"page-preview"],[1,"preview-content"],[4,"ngFor","ngForOf"],["class","preview-block layout-section",4,"ngIf"],["class","preview-block slider-block",4,"ngIf"],["class","preview-block paragraph-block",4,"ngIf"],["class","preview-block list-block",4,"ngIf"],["class","preview-block image-list-block",4,"ngIf"],["class","preview-block video-block",4,"ngIf"],["class","preview-block gallery-block",4,"ngIf"],["class","preview-block image-box-block",4,"ngIf"],["class","preview-block heading-block",4,"ngIf"],["class","preview-block button-block",3,"textAlign",4,"ngIf"],[1,"preview-block","layout-section"],[1,"layout-grid"],[1,"layout-column"],[1,"preview-block","heading-block"],[3,"ngSwitch"],[3,"color","fontSize","textAlign",4,"ngSwitchCase"],[1,"preview-block","button-block"],["nz-button","",3,"href","target","nzType","nzSize","nzBlock"],[1,"preview-block","slider-block"],[3,"nzAutoPlay"],["nz-carousel-content","",4,"ngFor","ngForOf"],["nz-carousel-content",""],[3,"src","alt"],["class","caption",4,"ngIf"],[1,"caption"],[4,"ngIf"],[1,"preview-block","paragraph-block"],[1,"content",3,"innerHTML"],[1,"preview-block","list-block"],["nz-icon","",3,"nzType",4,"ngIf"],[1,"item-content"],["nz-icon","",3,"nzType"],[1,"preview-block","image-list-block"],[1,"image-grid"],["class","image-item",4,"ngFor","ngForOf"],[1,"image-item"],[1,"preview-block","video-block"],[1,"video-container"],[3,"src","poster","controls","autoplay",4,"ngIf"],["frameborder","0","allowfullscreen","",3,"src",4,"ngIf"],[3,"src","poster","controls","autoplay"],["frameborder","0","allowfullscreen","",3,"src"],[1,"preview-block","gallery-block"],[1,"gallery-grid"],["class","gallery-item",4,"ngFor","ngForOf"],[1,"gallery-item"],[1,"preview-block","image-box-block"],[1,"image-box"],[1,"image-wrapper"],[3,"error","src","alt"],[1,"content"],[4,"ngSwitchCase"]],template:function(n,l){n&1&&(u(0,"div",0)(1,"div",1),x(2,fu,11,10,"ng-container",2),p()()),n&2&&(s(2),d("ngForOf",l.content.blocks))},dependencies:[rt,Et,pi,mi,st,gt,ct,Oa,Sa,gn],styles:['@charset "UTF-8";.page-preview[_ngcontent-%COMP%]{width:100%;overflow-x:hidden}.page-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:24px;width:100%}.page-preview[_ngcontent-%COMP%]   .preview-block[_ngcontent-%COMP%]{margin-bottom:48px;width:100%}.page-preview[_ngcontent-%COMP%]   .preview-block[_ngcontent-%COMP%]:last-child{margin-bottom:0}.page-preview[_ngcontent-%COMP%]   .layout-section[_ngcontent-%COMP%]   .layout-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(var(--columns),minmax(0,1fr));gap:var(--gap);width:100%}@media (max-width: 768px){.page-preview[_ngcontent-%COMP%]   .layout-section[_ngcontent-%COMP%]   .layout-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.page-preview[_ngcontent-%COMP%]   .layout-section[_ngcontent-%COMP%]   .layout-grid[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{min-width:0;width:100%;overflow-wrap:break-word;word-wrap:break-word;hyphens:auto}.page-preview[_ngcontent-%COMP%]   .heading-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .heading-block[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .heading-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .heading-block[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .heading-block[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .heading-block[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0;line-height:1.2;overflow-wrap:break-word;word-wrap:break-word;hyphens:auto}.page-preview[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   [nz-button].ant-btn-block[_ngcontent-%COMP%]{display:block;width:100%}.page-preview[_ngcontent-%COMP%]   .slider-block[_ngcontent-%COMP%]{width:100%}.page-preview[_ngcontent-%COMP%]   .slider-block[_ngcontent-%COMP%]   nz-carousel[_ngcontent-%COMP%]{width:100%;height:400px}.page-preview[_ngcontent-%COMP%]   .slider-block[_ngcontent-%COMP%]   nz-carousel[_ngcontent-%COMP%]     .slick-list{height:100%}.page-preview[_ngcontent-%COMP%]   .slider-block[_ngcontent-%COMP%]   nz-carousel[_ngcontent-%COMP%]     .slick-track{height:100%}.page-preview[_ngcontent-%COMP%]   .slider-block[_ngcontent-%COMP%]   nz-carousel[_ngcontent-%COMP%]     .slick-slide{height:100%}.page-preview[_ngcontent-%COMP%]   .slider-block[_ngcontent-%COMP%]   nz-carousel[_ngcontent-%COMP%]     .slick-slide>div{height:100%}.page-preview[_ngcontent-%COMP%]   .slider-block[_ngcontent-%COMP%]   nz-carousel[_ngcontent-%COMP%]     [nz-carousel-content]{height:100%;position:relative;overflow:hidden}.page-preview[_ngcontent-%COMP%]   .slider-block[_ngcontent-%COMP%]   nz-carousel[_ngcontent-%COMP%]     [nz-carousel-content] img{width:100%;height:100%;object-fit:cover;display:block}.page-preview[_ngcontent-%COMP%]   .slider-block[_ngcontent-%COMP%]   nz-carousel[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;padding:20px;background:linear-gradient(to top,rgba(0,0,0,.8),transparent);color:#fff;z-index:1}.page-preview[_ngcontent-%COMP%]   .slider-block[_ngcontent-%COMP%]   nz-carousel[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:24px;color:#fff}.page-preview[_ngcontent-%COMP%]   .slider-block[_ngcontent-%COMP%]   nz-carousel[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#ffffffe6}@media (max-width: 768px){.page-preview[_ngcontent-%COMP%]   .slider-block[_ngcontent-%COMP%]   nz-carousel[_ngcontent-%COMP%]{height:250px}}.page-preview[_ngcontent-%COMP%]   .paragraph-block[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:16px;font-size:28px}.page-preview[_ngcontent-%COMP%]   .paragraph-block[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px;line-height:1.6}.page-preview[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.page-preview[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   ul.bullet[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;padding-left:24px}.page-preview[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   ul.bullet[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2022";position:absolute;left:0}.page-preview[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   ul.number[_ngcontent-%COMP%]{counter-reset:item}.page-preview[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   ul.number[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{counter-increment:item;position:relative;padding-left:32px}.page-preview[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   ul.number[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:counter(item) ".";position:absolute;left:0;font-weight:700}.page-preview[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   ul.icon[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.page-preview[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   ul.icon[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:12px;font-size:20px}.page-preview[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:16px}.page-preview[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.page-preview[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:18px}.page-preview[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666}.page-preview[_ngcontent-%COMP%]   .image-list-block[_ngcontent-%COMP%]   .image-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(var(--columns),1fr);gap:24px}.page-preview[_ngcontent-%COMP%]   .image-list-block[_ngcontent-%COMP%]   .image-grid.carousel[_ngcontent-%COMP%]{display:flex;overflow-x:auto;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch;padding-bottom:16px}.page-preview[_ngcontent-%COMP%]   .image-list-block[_ngcontent-%COMP%]   .image-grid.carousel[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]{flex:0 0 calc((100% - (var(--columns) - 1) * 24px) / var(--columns));scroll-snap-align:start}.page-preview[_ngcontent-%COMP%]   .image-list-block[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]{position:relative;border-radius:8px;overflow:hidden}.page-preview[_ngcontent-%COMP%]   .image-list-block[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.page-preview[_ngcontent-%COMP%]   .image-list-block[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;padding:16px;background:linear-gradient(to top,rgba(0,0,0,.8),transparent);color:#fff}.page-preview[_ngcontent-%COMP%]   .image-list-block[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;font-size:16px}.page-preview[_ngcontent-%COMP%]   .image-list-block[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.page-preview[_ngcontent-%COMP%]   .video-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:24px}.page-preview[_ngcontent-%COMP%]   .video-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 16px;color:#666}.page-preview[_ngcontent-%COMP%]   .video-block[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%]{position:relative;width:100%;padding-bottom:56.25%;height:0;overflow:hidden}.page-preview[_ngcontent-%COMP%]   .video-block[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .video-block[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}.page-preview[_ngcontent-%COMP%]   .gallery-block[_ngcontent-%COMP%]   .gallery-grid.grid-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(var(--columns),1fr);gap:var(--spacing)}@media (max-width: 768px){.page-preview[_ngcontent-%COMP%]   .gallery-block[_ngcontent-%COMP%]   .gallery-grid.grid-layout[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}}.page-preview[_ngcontent-%COMP%]   .gallery-block[_ngcontent-%COMP%]   .gallery-grid.masonry-layout[_ngcontent-%COMP%]{column-count:var(--columns);column-gap:var(--spacing)}.page-preview[_ngcontent-%COMP%]   .gallery-block[_ngcontent-%COMP%]   .gallery-grid.masonry-layout[_ngcontent-%COMP%]   .gallery-item[_ngcontent-%COMP%]{break-inside:avoid;margin-bottom:var(--spacing)}.page-preview[_ngcontent-%COMP%]   .gallery-block[_ngcontent-%COMP%]   .gallery-item[_ngcontent-%COMP%]{position:relative;border-radius:8px;overflow:hidden}.page-preview[_ngcontent-%COMP%]   .gallery-block[_ngcontent-%COMP%]   .gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.page-preview[_ngcontent-%COMP%]   .gallery-block[_ngcontent-%COMP%]   .gallery-item[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;padding:16px;background:linear-gradient(to top,rgba(0,0,0,.8),transparent);color:#fff}.page-preview[_ngcontent-%COMP%]   .gallery-block[_ngcontent-%COMP%]   .gallery-item[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;font-size:16px}.page-preview[_ngcontent-%COMP%]   .gallery-block[_ngcontent-%COMP%]   .gallery-item[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]{display:flex;border-radius:8px;overflow:hidden}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-left[_ngcontent-%COMP%]{flex-direction:row}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-right[_ngcontent-%COMP%]{flex-direction:row-reverse}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-top[_ngcontent-%COMP%]{flex-direction:column}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-bottom[_ngcontent-%COMP%]{flex-direction:column-reverse}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-overlay[_ngcontent-%COMP%]{position:relative}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-overlay[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;padding:20px;background:linear-gradient(to top,rgba(0,0,0,.8),transparent);color:#fff}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-overlay[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-overlay[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-overlay[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-overlay[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-overlay[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#fff;margin-bottom:8px}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-overlay[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffe6;margin:0}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{flex:0 0 50%}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .image-wrapper.rounded[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:8px}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .image-wrapper.shadow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{box-shadow:0 4px 12px #00000026}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0 0 12px}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;line-height:1.6}@media (max-width: 768px){.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-left[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-right[_ngcontent-%COMP%]{flex-direction:column}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{flex:0 0 auto}}']})};function Cu(o,r){if(o&1&&P(0,"nz-option",8),o&2){let n=r.$implicit;d("nzValue",n.value)("nzLabel",n.label)}}function yu(o,r){if(o&1&&(u(0,"label",9),P(1,"i",10),p()),o&2){let n=r.$implicit;d("nzValue",n.value),s(),d("nzType",n.icon)}}var Cn=class o{block;blockChange=new kt;levelOptions=[{label:"H1",value:"h1"},{label:"H2",value:"h2"},{label:"H3",value:"h3"},{label:"H4",value:"h4"},{label:"H5",value:"h5"},{label:"H6",value:"h6"}];alignmentOptions=[{label:"Tr\xE1i",value:"left",icon:"align-left"},{label:"Gi\u1EEFa",value:"center",icon:"align-center"},{label:"Ph\u1EA3i",value:"right",icon:"align-right"}];onContentChange(r){this.block.content=r,this.blockChange.emit(this.block)}onLevelChange(r){this.block.level=r,this.blockChange.emit(this.block)}onAlignmentChange(r){this.block.alignment=r,this.blockChange.emit(this.block)}onColorChange(r){this.block.color=r,this.blockChange.emit(this.block)}onFontSizeChange(r){this.block.fontSize=r,this.blockChange.emit(this.block)}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=Y({type:o,selectors:[["app-heading-block"]],inputs:{block:"block"},outputs:{blockChange:"blockChange"},standalone:!1,decls:27,vars:10,consts:[[1,"heading-block"],["nz-input","","placeholder","Nh\u1EADp n\u1ED9i dung ti\xEAu \u0111\u1EC1",3,"ngModelChange","ngModel"],[1,"block-settings"],[3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nz-radio","",3,"nzValue",4,"ngFor","ngForOf"],["nz-input","","type","color",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel","nzMin","nzMax","nzStep"],[3,"nzValue","nzLabel"],["nz-radio","",3,"nzValue"],["nz-icon","",3,"nzType"]],template:function(n,l){n&1&&(u(0,"div",0)(1,"nz-form-item")(2,"nz-form-control")(3,"input",1),A("ngModelChange",function(_){return D(l.block.content,_)||(l.block.content=_),_}),k("ngModelChange",function(_){return l.onContentChange(_)}),p()()(),u(4,"div",2)(5,"nz-form-item")(6,"nz-form-label"),g(7,"C\u1EA5p \u0111\u1ED9"),p(),u(8,"nz-form-control")(9,"nz-select",3),A("ngModelChange",function(_){return D(l.block.level,_)||(l.block.level=_),_}),k("ngModelChange",function(_){return l.onLevelChange(_)}),x(10,Cu,1,2,"nz-option",4),p()()(),u(11,"nz-form-item")(12,"nz-form-label"),g(13,"C\u0103n ch\u1EC9nh"),p(),u(14,"nz-form-control")(15,"nz-radio-group",3),A("ngModelChange",function(_){return D(l.block.alignment,_)||(l.block.alignment=_),_}),k("ngModelChange",function(_){return l.onAlignmentChange(_)}),x(16,yu,2,2,"label",5),p()()(),u(17,"nz-form-item")(18,"nz-form-label"),g(19,"M\xE0u s\u1EAFc"),p(),u(20,"nz-form-control")(21,"input",6),A("ngModelChange",function(_){return D(l.block.color,_)||(l.block.color=_),_}),k("ngModelChange",function(_){return l.onColorChange(_)}),p()()(),u(22,"nz-form-item")(23,"nz-form-label"),g(24,"C\u1EE1 ch\u1EEF (px)"),p(),u(25,"nz-form-control")(26,"nz-input-number",7),A("ngModelChange",function(_){return D(l.block.fontSize,_)||(l.block.fontSize=_),_}),k("ngModelChange",function(_){return l.onFontSizeChange(_)}),p()()()()()),n&2&&(s(3),N("ngModel",l.block.content),s(6),N("ngModel",l.block.level),s(),d("ngForOf",l.levelOptions),s(5),N("ngModel",l.block.alignment),s(),d("ngForOf",l.alignmentOptions),s(5),N("ngModel",l.block.color),s(5),N("ngModel",l.block.fontSize),d("nzMin",12)("nzMax",72)("nzStep",1))},dependencies:[rt,ht,at,lt,st,ft,ct,Ct,vt,yt,xt,bt,ve,Ce,oe,ie,ye],styles:[".heading-block[_ngcontent-%COMP%]   .block-settings[_ngcontent-%COMP%]{margin-top:16px;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.heading-block[_ngcontent-%COMP%]   nz-form-item[_ngcontent-%COMP%]{margin-bottom:0}.heading-block[_ngcontent-%COMP%]   nz-radio-group[_ngcontent-%COMP%]{display:flex;gap:8px}.heading-block[_ngcontent-%COMP%]   [nz-radio][_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border:1px solid #d9d9d9;border-radius:4px;margin-right:0}.heading-block[_ngcontent-%COMP%]   [nz-radio].ant-radio-wrapper-checked[_ngcontent-%COMP%]{background-color:#1890ff;border-color:#1890ff;color:#fff}.heading-block[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%]{width:100%;height:32px;padding:2px}"]})};function bu(o,r){if(o&1&&P(0,"nz-option",12),o&2){let n=r.$implicit;d("nzValue",n.value)("nzLabel",n.label)}}function xu(o,r){if(o&1&&P(0,"nz-option",12),o&2){let n=r.$implicit;d("nzValue",n.value)("nzLabel",n.label)}}function Pu(o,r){if(o&1&&(u(0,"label",13),P(1,"i",14),p()),o&2){let n=r.$implicit;d("nzValue",n.value),s(),d("nzType",n.icon)}}var yn=class o{block;blockChange=new kt;styleOptions=[{label:"Primary",value:"primary"},{label:"Default",value:"default"},{label:"Dashed",value:"dashed"},{label:"Link",value:"link"},{label:"Text",value:"text"}];sizeOptions=[{label:"Nh\u1ECF",value:"small"},{label:"L\u1EDBn",value:"large"}];alignmentOptions=[{label:"Tr\xE1i",value:"left",icon:"align-left"},{label:"Gi\u1EEFa",value:"center",icon:"align-center"},{label:"Ph\u1EA3i",value:"right",icon:"align-right"}];onTextChange(r){this.block.text=r,this.blockChange.emit(this.block)}onUrlChange(r){this.block.url=r,this.blockChange.emit(this.block)}onTargetChange(r){this.block.target=r,this.blockChange.emit(this.block)}onStyleChange(r){this.block.style=r,this.blockChange.emit(this.block)}onSizeChange(r){this.block.size=r,this.blockChange.emit(this.block)}onFullWidthChange(r){this.block.fullWidth=r,this.blockChange.emit(this.block)}onAlignmentChange(r){this.block.alignment=r,this.blockChange.emit(this.block)}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=Y({type:o,selectors:[["app-button-block"]],inputs:{block:"block"},outputs:{blockChange:"blockChange"},standalone:!1,decls:46,vars:18,consts:[[1,"button-block"],[1,"button-preview"],["nz-button","",3,"nzType","nzSize","nzBlock"],[1,"block-settings"],["nz-input","","placeholder","Nh\u1EADp n\u1ED9i dung n\xFAt",3,"ngModelChange","ngModel"],["nz-input","","placeholder","Nh\u1EADp \u0111\u01B0\u1EDDng d\u1EABn",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["nz-radio","","value","_self"],["nz-radio","","value","_blank"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nz-radio","",3,"nzValue",4,"ngFor","ngForOf"],["nz-checkbox","",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel"],["nz-radio","",3,"nzValue"],["nz-icon","",3,"nzType"]],template:function(n,l){n&1&&(u(0,"div",0)(1,"div",1)(2,"button",2),g(3),p()(),u(4,"div",3)(5,"nz-form-item")(6,"nz-form-label"),g(7,"N\u1ED9i dung"),p(),u(8,"nz-form-control")(9,"input",4),A("ngModelChange",function(_){return D(l.block.text,_)||(l.block.text=_),_}),k("ngModelChange",function(_){return l.onTextChange(_)}),p()()(),u(10,"nz-form-item")(11,"nz-form-label"),g(12,"\u0110\u01B0\u1EDDng d\u1EABn"),p(),u(13,"nz-form-control")(14,"input",5),A("ngModelChange",function(_){return D(l.block.url,_)||(l.block.url=_),_}),k("ngModelChange",function(_){return l.onUrlChange(_)}),p()()(),u(15,"nz-form-item")(16,"nz-form-label"),g(17,"M\u1EDF trong"),p(),u(18,"nz-form-control")(19,"nz-radio-group",6),A("ngModelChange",function(_){return D(l.block.target,_)||(l.block.target=_),_}),k("ngModelChange",function(_){return l.onTargetChange(_)}),u(20,"label",7),g(21,"C\u1EEDa s\u1ED5 hi\u1EC7n t\u1EA1i"),p(),u(22,"label",8),g(23,"C\u1EEDa s\u1ED5 m\u1EDBi"),p()()()(),u(24,"nz-form-item")(25,"nz-form-label"),g(26,"Ki\u1EC3u n\xFAt"),p(),u(27,"nz-form-control")(28,"nz-select",6),A("ngModelChange",function(_){return D(l.block.style,_)||(l.block.style=_),_}),k("ngModelChange",function(_){return l.onStyleChange(_)}),x(29,bu,1,2,"nz-option",9),p()()(),u(30,"nz-form-item")(31,"nz-form-label"),g(32,"K\xEDch th\u01B0\u1EDBc"),p(),u(33,"nz-form-control")(34,"nz-select",6),A("ngModelChange",function(_){return D(l.block.size,_)||(l.block.size=_),_}),k("ngModelChange",function(_){return l.onSizeChange(_)}),x(35,xu,1,2,"nz-option",9),p()()(),u(36,"nz-form-item")(37,"nz-form-label"),g(38,"C\u0103n ch\u1EC9nh"),p(),u(39,"nz-form-control")(40,"nz-radio-group",6),A("ngModelChange",function(_){return D(l.block.alignment,_)||(l.block.alignment=_),_}),k("ngModelChange",function(_){return l.onAlignmentChange(_)}),x(41,Pu,2,2,"label",10),p()()(),u(42,"nz-form-item")(43,"nz-form-control")(44,"label",11),A("ngModelChange",function(_){return D(l.block.fullWidth,_)||(l.block.fullWidth=_),_}),k("ngModelChange",function(_){return l.onFullWidthChange(_)}),g(45," Chi\u1EC1u r\u1ED9ng 100% "),p()()()()()),n&2&&(s(),W("text-align",l.block.alignment),$t("full-width",l.block.fullWidth),s(),d("nzType",l.block.style)("nzSize",l.block.size)("nzBlock",l.block.fullWidth),s(),F(" ",l.block.text," "),s(6),N("ngModel",l.block.text),s(5),N("ngModel",l.block.url),s(5),N("ngModel",l.block.target),s(9),N("ngModel",l.block.style),s(),d("ngForOf",l.styleOptions),s(5),N("ngModel",l.block.size),s(),d("ngForOf",l.sizeOptions),s(5),N("ngModel",l.block.alignment),s(),d("ngForOf",l.alignmentOptions),s(3),N("ngModel",l.block.fullWidth))},dependencies:[rt,ht,at,lt,st,ft,gt,ct,St,Ct,vt,yt,xt,bt,ve,Ce,cn,oe,ie],styles:[".button-block[_ngcontent-%COMP%]   .button-preview[_ngcontent-%COMP%]{margin-bottom:16px;padding:16px;background-color:#f5f5f5;border-radius:4px}.button-block[_ngcontent-%COMP%]   .block-settings[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.button-block[_ngcontent-%COMP%]   nz-form-item[_ngcontent-%COMP%]{margin-bottom:0}.button-block[_ngcontent-%COMP%]   nz-radio-group[_ngcontent-%COMP%]{display:flex;gap:8px}.button-block[_ngcontent-%COMP%]   [nz-radio].ant-radio-wrapper[_ngcontent-%COMP%]{margin-right:0}.button-block[_ngcontent-%COMP%]   [nz-radio][nzValue][_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border:1px solid #d9d9d9;border-radius:4px}.button-block[_ngcontent-%COMP%]   [nz-radio][nzValue].ant-radio-wrapper-checked[_ngcontent-%COMP%]{background-color:#1890ff;border-color:#1890ff;color:#fff}"]})};var ku=()=>({minRows:2,maxRows:6});function zu(o,r){if(o&1&&P(0,"nz-option",23),o&2){let n=r.$implicit;d("nzValue",n.value)("nzLabel",n.label)}}function Mu(o,r){if(o&1&&P(0,"nz-option",23),o&2){let n=r.$implicit;d("nzValue",n.value)("nzLabel",n.label)}}var bn=class o{constructor(r,n){this.productService=r;this.message=n;this.updateSubject.pipe(se(500),ce((l,m)=>JSON.stringify(l)===JSON.stringify(m)),Dr(this.destroy$)).subscribe(l=>{this.blockChange.emit(q(q({},this.block),l))})}block;blockChange=new kt;destroy$=new te;updateSubject=new te;layoutOptions=[{label:"\u1EA2nh b\xEAn tr\xE1i",value:"left"},{label:"\u1EA2nh b\xEAn ph\u1EA3i",value:"right"},{label:"\u1EA2nh b\xEAn tr\xEAn",value:"top"},{label:"\u1EA2nh b\xEAn d\u01B0\u1EDBi",value:"bottom"},{label:"Ch\u1ED3ng l\xEAn nhau",value:"overlay"}];titleTagOptions=[{label:"H2",value:"h2"},{label:"H3",value:"h3"},{label:"H4",value:"h4"},{label:"H5",value:"h5"},{label:"H6",value:"h6"}];ngOnInit(){this.block.image||(this.block.image={url:"",alt:""}),this.block.layout||(this.block.layout="left"),this.block.titleTag||(this.block.titleTag="h2"),this.block.imageRounded===void 0&&(this.block.imageRounded=!1),this.block.imageShadow===void 0&&(this.block.imageShadow=!1),this.block.padding||(this.block.padding=24),this.block.spacing||(this.block.spacing=16),this.block.title||(this.block.title=""),this.block.description||(this.block.description=""),this.blockChange.emit(this.block)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onImageUrlChange(r){this.updateBlock({image:mt(q({},this.block.image),{url:r})})}onImageAltChange(r){this.updateBlock({image:mt(q({},this.block.image),{alt:r})})}onImageWidthChange(r){this.updateBlock({image:mt(q({},this.block.image),{width:r})})}onImageHeightChange(r){this.updateBlock({image:mt(q({},this.block.image),{height:r})})}onTitleChange(r){this.updateBlock({title:r})}onDescriptionChange(r){this.updateBlock({description:r})}onLayoutChange(r){this.blockChange.emit(mt(q({},this.block),{layout:r}))}onTitleTagChange(r){this.blockChange.emit(mt(q({},this.block),{titleTag:r}))}onImageRoundedChange(r){this.blockChange.emit(mt(q({},this.block),{imageRounded:r}))}onImageShadowChange(r){this.blockChange.emit(mt(q({},this.block),{imageShadow:r}))}onBackgroundColorChange(r){this.updateBlock({backgroundColor:r})}onTextColorChange(r){this.updateBlock({textColor:r})}onPaddingChange(r){this.updateBlock({padding:r})}onSpacingChange(r){this.updateBlock({spacing:r})}onImageError(r){let n=r.target;n&&(n.src="assets/images/placeholder.png")}beforeUpload=r=>["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(r.type)?r.size/1024/1024<2?(this.uploadImage(r),!1):(this.message.error("\u1EA2nh ph\u1EA3i nh\u1ECF h\u01A1n 2MB!"),!1):(this.message.error("Ch\u1EC9 h\u1ED7 tr\u1EE3 file \u1EA3nh (JPG, PNG, GIF, WebP)!"),!1);uploadImage(r){let n=new FileReader;n.onload=l=>{let m=l.target?.result;this.updateBlock({image:mt(q({},this.block.image),{url:m})}),this.message.success("T\u1EA3i \u1EA3nh l\xEAn th\xE0nh c\xF4ng!")},n.onerror=()=>{this.message.error("L\u1ED7i khi t\u1EA3i \u1EA3nh!")},n.readAsDataURL(r)}getBeforeUpload(){return this.beforeUpload}getAltText(){return this.block.image?.alt||"Uploaded image"}updateBlock(r){this.updateSubject.next(r)}static \u0275fac=function(n){return new(n||o)(pt(Ve),pt(Re))};static \u0275cmp=Y({type:o,selectors:[["app-image-box-block"]],inputs:{block:"block"},outputs:{blockChange:"blockChange"},standalone:!1,decls:78,vars:31,consts:[[1,"image-box-block"],["nz-form",""],[1,"image-upload-container"],[1,"upload-button",3,"nzBeforeUpload","nzShowUploadList","nzAccept"],["nz-button","","nzType","default","nzSize","small"],["nz-icon","","nzType","upload"],[1,"or-divider"],["nz-input","","name","imageUrl","placeholder","Nh\u1EADp URL \u1EA3nh",3,"ngModelChange","ngModel"],["nz-input","","name","imageAlt","placeholder","Nh\u1EADp alt text",3,"ngModelChange","ngModel"],[1,"size-inputs"],[3,"ngModelChange","ngModel","nzPlaceHolder","nzMin"],[1,"separator"],["nz-input","","name","title","placeholder","Nh\u1EADp ti\xEAu \u0111\u1EC1 (\u0111\u1EC3 tr\u1ED1ng n\u1EBFu ch\u1EC9 hi\u1EC3n th\u1ECB \u1EA3nh)",3,"ngModelChange","ngModel"],["nz-input","","name","description","placeholder","Nh\u1EADp m\xF4 t\u1EA3 (\u0111\u1EC3 tr\u1ED1ng n\u1EBFu ch\u1EC9 hi\u1EC3n th\u1ECB \u1EA3nh)",3,"ngModelChange","ngModel","nzAutosize"],["name","layout",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["name","titleTag",3,"ngModelChange","ngModel"],[1,"effects"],["nz-checkbox","","name","imageRounded",3,"ngModelChange","ngModel"],["nz-checkbox","","name","imageShadow",3,"ngModelChange","ngModel"],["name","backgroundColor",3,"ngModelChange","ngModel"],["name","textColor",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel","nzMin","nzMax","nzStep"],[3,"nzValue","nzLabel"]],template:function(n,l){n&1&&(u(0,"div",0)(1,"form",1)(2,"nz-form-item")(3,"nz-form-label"),g(4,"URL \u1EA3nh"),p(),u(5,"nz-form-control")(6,"div",2)(7,"nz-upload",3)(8,"button",4),P(9,"span",5),g(10," T\u1EA3i l\xEAn \u1EA3nh "),p()(),u(11,"span",6),g(12,"ho\u1EB7c"),p(),u(13,"input",7),k("ngModelChange",function(_){return l.onImageUrlChange(_)}),p()()()(),u(14,"nz-form-item")(15,"nz-form-label"),g(16,"Alt text"),p(),u(17,"nz-form-control")(18,"input",8),k("ngModelChange",function(_){return l.onImageAltChange(_)}),p()()(),u(19,"div",9)(20,"nz-form-item")(21,"nz-form-label"),g(22,"K\xEDch th\u01B0\u1EDBc \u1EA3nh"),p(),u(23,"nz-form-control")(24,"nz-input-number",10),k("ngModelChange",function(_){return l.onImageWidthChange(_)}),p(),u(25,"span",11),g(26,"x"),p(),u(27,"nz-input-number",10),k("ngModelChange",function(_){return l.onImageHeightChange(_)}),p()()()(),u(28,"nz-form-item")(29,"nz-form-label"),g(30,"Ti\xEAu \u0111\u1EC1 (t\xF9y ch\u1ECDn)"),p(),u(31,"nz-form-control")(32,"input",12),k("ngModelChange",function(_){return l.onTitleChange(_)}),p()()(),u(33,"nz-form-item")(34,"nz-form-label"),g(35,"M\xF4 t\u1EA3 (t\xF9y ch\u1ECDn)"),p(),u(36,"nz-form-control")(37,"textarea",13),k("ngModelChange",function(_){return l.onDescriptionChange(_)}),p()()(),u(38,"nz-form-item")(39,"nz-form-label"),g(40,"B\u1ED1 c\u1EE5c"),p(),u(41,"nz-form-control")(42,"nz-select",14),k("ngModelChange",function(_){return l.onLayoutChange(_)}),x(43,zu,1,2,"nz-option",15),p()()(),u(44,"nz-form-item")(45,"nz-form-label"),g(46,"Th\u1EBB ti\xEAu \u0111\u1EC1"),p(),u(47,"nz-form-control")(48,"nz-select",16),k("ngModelChange",function(_){return l.onTitleTagChange(_)}),x(49,Mu,1,2,"nz-option",15),p()()(),u(50,"nz-form-item")(51,"nz-form-label"),g(52,"Hi\u1EC7u \u1EE9ng \u1EA3nh"),p(),u(53,"nz-form-control",17)(54,"label",18),k("ngModelChange",function(_){return l.onImageRoundedChange(_)}),g(55,"Bo tr\xF2n"),p(),u(56,"label",19),k("ngModelChange",function(_){return l.onImageShadowChange(_)}),g(57,"\u0110\u1ED5 b\xF3ng"),p()()(),u(58,"nz-form-item")(59,"nz-form-label"),g(60,"M\xE0u n\u1EC1n"),p(),u(61,"nz-form-control")(62,"nz-color-picker",20),k("ngModelChange",function(_){return l.onBackgroundColorChange(_)}),p()()(),u(63,"nz-form-item")(64,"nz-form-label"),g(65,"M\xE0u ch\u1EEF"),p(),u(66,"nz-form-control")(67,"nz-color-picker",21),k("ngModelChange",function(_){return l.onTextColorChange(_)}),p()()(),u(68,"nz-form-item")(69,"nz-form-label"),g(70,"Padding (px)"),p(),u(71,"nz-form-control")(72,"nz-input-number",22),k("ngModelChange",function(_){return l.onPaddingChange(_)}),p()()(),u(73,"nz-form-item")(74,"nz-form-label"),g(75,"Kho\u1EA3ng c\xE1ch (px)"),p(),u(76,"nz-form-control")(77,"nz-input-number",22),k("ngModelChange",function(_){return l.onSpacingChange(_)}),p()()()()()),n&2&&(s(7),d("nzBeforeUpload",l.getBeforeUpload())("nzShowUploadList",!1)("nzAccept","image/*"),s(6),d("ngModel",l.block.image.url),s(5),d("ngModel",l.block.image.alt),s(6),d("ngModel",l.block.image.width)("nzPlaceHolder","R\u1ED9ng")("nzMin",0),s(3),d("ngModel",l.block.image.height)("nzPlaceHolder","Cao")("nzMin",0),s(5),d("ngModel",l.block.title),s(5),d("ngModel",l.block.description)("nzAutosize",_t(30,ku)),s(5),d("ngModel",l.block.layout),s(),d("ngForOf",l.layoutOptions),s(5),d("ngModel",l.block.titleTag),s(),d("ngForOf",l.titleTagOptions),s(5),d("ngModel",l.block.imageRounded),s(2),d("ngModel",l.block.imageShadow),s(6),d("ngModel",l.block.backgroundColor),s(5),d("ngModel",l.block.textColor),s(5),d("ngModel",l.block.padding)("nzMin",0)("nzMax",48)("nzStep",8),s(5),d("ngModel",l.block.spacing)("nzMin",0)("nzMax",48)("nzStep",8))},dependencies:[rt,Ft,ht,at,At,lt,Gt,st,ft,fe,gt,ct,St,Ct,vt,Vt,yt,xt,bt,ve,Ce,cn,un,ye],styles:[".image-box-block[_ngcontent-%COMP%]   .image-upload-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.image-box-block[_ngcontent-%COMP%]   .image-upload-container[_ngcontent-%COMP%]   .upload-button[_ngcontent-%COMP%]{flex-shrink:0}.image-box-block[_ngcontent-%COMP%]   .image-upload-container[_ngcontent-%COMP%]   .or-divider[_ngcontent-%COMP%]{color:#8c8c8c;font-size:12px;flex-shrink:0}.image-box-block[_ngcontent-%COMP%]   .image-upload-container[_ngcontent-%COMP%]   input[nz-input][_ngcontent-%COMP%]{flex:1;min-width:200px}.image-box-block[_ngcontent-%COMP%]   .size-inputs[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.image-box-block[_ngcontent-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{color:#595959}.image-box-block[_ngcontent-%COMP%]   .size-inputs[_ngcontent-%COMP%]   nz-input-number[_ngcontent-%COMP%]{width:120px}.image-box-block[_ngcontent-%COMP%]   .effects[_ngcontent-%COMP%]{display:flex;gap:16px}.image-box-block[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{margin-top:24px;border:1px solid #f0f0f0;border-radius:4px;overflow:hidden}.image-box-block[_ngcontent-%COMP%]   .preview.layout-left[_ngcontent-%COMP%], .image-box-block[_ngcontent-%COMP%]   .preview.layout-right[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.image-box-block[_ngcontent-%COMP%]   .preview.layout-right[_ngcontent-%COMP%]{flex-direction:row-reverse}.image-box-block[_ngcontent-%COMP%]   .preview.layout-top[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%], .image-box-block[_ngcontent-%COMP%]   .preview.layout-bottom[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{width:100%;text-align:center}.image-box-block[_ngcontent-%COMP%]   .preview.layout-bottom[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse}.image-box-block[_ngcontent-%COMP%]   .preview.layout-overlay[_ngcontent-%COMP%]{position:relative}.image-box-block[_ngcontent-%COMP%]   .preview.layout-overlay[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{width:100%}.image-box-block[_ngcontent-%COMP%]   .preview.layout-overlay[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.image-box-block[_ngcontent-%COMP%]   .preview.layout-overlay[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;padding:24px;background:#00000080;color:#fff}.image-box-block[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block}.image-box-block[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .image-wrapper.rounded[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:8px}.image-box-block[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .image-wrapper.shadow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{box-shadow:0 4px 12px #00000026}.image-box-block[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;vertical-align:middle}.image-box-block[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .image-box-block[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .image-box-block[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .image-box-block[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .image-box-block[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0 0 16px;line-height:1.4}.image-box-block[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;line-height:1.6}"]})};var Eu=()=>[];function Su(o,r){if(o&1&&(u(0,"label",15),g(1),p()),o&2){let n=r.$implicit;d("nzValue",n.value),s(),F(" ",n.label," ")}}function Ou(o,r){if(o&1&&(u(0,"h1"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px"),s(),S(n.content||"Nh\u1EADp n\u1ED9i dung ti\xEAu \u0111\u1EC1...")}}function Tu(o,r){if(o&1&&(u(0,"h2"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px"),s(),S(n.content||"Nh\u1EADp n\u1ED9i dung ti\xEAu \u0111\u1EC1...")}}function Lu(o,r){if(o&1&&(u(0,"h3"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px"),s(),S(n.content||"Nh\u1EADp n\u1ED9i dung ti\xEAu \u0111\u1EC1...")}}function Bu(o,r){if(o&1&&(u(0,"h4"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px"),s(),S(n.content||"Nh\u1EADp n\u1ED9i dung ti\xEAu \u0111\u1EC1...")}}function Iu(o,r){if(o&1&&(u(0,"h5"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px"),s(),S(n.content||"Nh\u1EADp n\u1ED9i dung ti\xEAu \u0111\u1EC1...")}}function Nu(o,r){if(o&1&&(u(0,"h6"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px"),s(),S(n.content||"Nh\u1EADp n\u1ED9i dung ti\xEAu \u0111\u1EC1...")}}function Du(o,r){if(o&1&&(u(0,"div",30),x(1,Ou,2,5,"h1",31)(2,Tu,2,5,"h2",31)(3,Lu,2,5,"h3",31)(4,Bu,2,5,"h4",31)(5,Iu,2,5,"h5",31)(6,Nu,2,5,"h6",31),p()),o&2){let n=f().$implicit;W("text-align",n.alignment),d("ngSwitch",n.level),s(),d("ngSwitchCase","h1"),s(),d("ngSwitchCase","h2"),s(),d("ngSwitchCase","h3"),s(),d("ngSwitchCase","h4"),s(),d("ngSwitchCase","h5"),s(),d("ngSwitchCase","h6")}}function Au(o,r){if(o&1&&(u(0,"div")(1,"button",32),g(2),p()()),o&2){let n=f().$implicit;W("text-align",n.alignment),s(),d("nzType",n.style)("nzSize",n.size)("nzBlock",n.fullWidth),s(),F(" ",n.text," ")}}function Fu(o,r){if(o&1&&(u(0,"h4"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.title)}}function Vu(o,r){if(o&1&&(u(0,"p"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.description)}}function Ru(o,r){if(o&1&&(u(0,"div",39),x(1,Fu,2,1,"h4",40)(2,Vu,2,1,"p",40),p()),o&2){let n=f().$implicit;s(),d("ngIf",n.title),s(),d("ngIf",n.description)}}function Zu(o,r){if(o&1&&(u(0,"div",36),P(1,"img",37),x(2,Ru,3,2,"div",38),p()),o&2){let n=r.$implicit;s(),d("src",n.url,J)("alt",n.title),s(),d("ngIf",n.title||n.description)}}function Wu(o,r){if(o&1&&(u(0,"div",33)(1,"div",34),x(2,Zu,3,3,"div",35),p()()),o&2){let n=f().$implicit;s(),ee(n.layout+"-layout"),W("--columns",n.columns)("--spacing",n.spacing+"px"),s(),d("ngForOf",n.images)}}function Hu(o,r){if(o&1&&(u(0,"h2"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.title)}}function Uu(o,r){if(o&1&&(u(0,"h3"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.title)}}function Gu(o,r){if(o&1&&(u(0,"h4"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.title)}}function ju(o,r){if(o&1&&(u(0,"h5"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.title)}}function qu(o,r){if(o&1&&(u(0,"h6"),g(1),p()),o&2){let n=f(2).$implicit;s(),S(n.title)}}function $u(o,r){if(o&1&&(u(0,"div",41)(1,"div",42)(2,"div",43),P(3,"img",37),p(),u(4,"div",44),Q(5,30),x(6,Hu,2,1,"h2",45)(7,Uu,2,1,"h3",45)(8,Gu,2,1,"h4",45)(9,ju,2,1,"h5",45)(10,qu,2,1,"h6",45),tt(),u(11,"p"),g(12),p()()()()),o&2){let n=f().$implicit;s(),ee("layout-"+n.layout),W("background-color",n.backgroundColor)("color",n.textColor)("padding",n.padding,"px"),s(),$t("rounded",n.imageRounded)("shadow",n.imageShadow),s(),W("width",n.image.width,"px")("height",n.image.height,"px"),d("src",n.image.url,J)("alt",n.image.alt),s(),W("margin-left",n.layout==="right"?n.spacing:null,"px")("margin-right",n.layout==="left"?n.spacing:null,"px")("margin-top",n.layout==="bottom"?n.spacing:null,"px")("margin-bottom",n.layout==="top"?n.spacing:null,"px"),s(),d("ngSwitch",n.titleTag),s(),d("ngSwitchCase","h2"),s(),d("ngSwitchCase","h3"),s(),d("ngSwitchCase","h4"),s(),d("ngSwitchCase","h5"),s(),d("ngSwitchCase","h6"),s(2),S(n.description)}}function Xu(o,r){if(o&1){let n=Z();u(0,"app-heading-block",46),k("blockChange",function(m){w(n);let _=f().index,y=f().index,T=f();return E(T.updateBlock(y,_,m))}),p()}if(o&2){let n=f().$implicit;d("block",n)}}function Ku(o,r){if(o&1){let n=Z();u(0,"app-button-block",46),k("blockChange",function(m){w(n);let _=f().index,y=f().index,T=f();return E(T.updateBlock(y,_,m))}),p()}if(o&2){let n=f().$implicit;d("block",n)}}function Ju(o,r){if(o&1){let n=Z();u(0,"app-slider-block",46),k("blockChange",function(m){w(n);let _=f().index,y=f().index,T=f();return E(T.updateBlock(y,_,m))}),p()}if(o&2){let n=f().$implicit;d("block",n)}}function Yu(o,r){if(o&1){let n=Z();u(0,"app-paragraph-block",46),k("blockChange",function(m){w(n);let _=f().index,y=f().index,T=f();return E(T.updateBlock(y,_,m))}),p()}if(o&2){let n=f().$implicit;d("block",n)}}function Qu(o,r){if(o&1){let n=Z();u(0,"app-list-block",46),k("blockChange",function(m){w(n);let _=f().index,y=f().index,T=f();return E(T.updateBlock(y,_,m))}),p()}if(o&2){let n=f().$implicit;d("block",n)}}function tp(o,r){if(o&1){let n=Z();u(0,"app-image-list-block",46),k("blockChange",function(m){w(n);let _=f().index,y=f().index,T=f();return E(T.updateBlock(y,_,m))}),p()}if(o&2){let n=f().$implicit;d("block",n)}}function ep(o,r){if(o&1){let n=Z();u(0,"app-video-block",46),k("blockChange",function(m){w(n);let _=f().index,y=f().index,T=f();return E(T.updateBlock(y,_,m))}),p()}if(o&2){let n=f().$implicit;d("block",n)}}function np(o,r){if(o&1){let n=Z();u(0,"app-gallery-block",46),k("blockChange",function(m){w(n);let _=f().index,y=f().index,T=f();return E(T.updateBlock(y,_,m))}),p()}if(o&2){let n=f().$implicit;d("block",n)}}function ip(o,r){if(o&1){let n=Z();u(0,"app-image-box-block",46),k("blockChange",function(m){w(n);let _=f().index,y=f().index,T=f();return E(T.updateBlock(y,_,m))}),p()}if(o&2){let n=f().$implicit;d("block",n)}}function op(o,r){if(o&1){let n=Z();u(0,"div",19)(1,"div",20)(2,"div",21),P(3,"i",4),g(4),p(),u(5,"div",22)(6,"button",11),k("click",function(){let m=w(n).index,_=f().index,y=f();return E(y.removeBlock(_,m))}),P(7,"i",12),p()()(),u(8,"div",23),x(9,Du,7,9,"div",24)(10,Au,3,6,"div",25)(11,Wu,3,7,"div",26)(12,$u,13,33,"div",27),p(),u(13,"div",28),x(14,Xu,1,1,"app-heading-block",29)(15,Ku,1,1,"app-button-block",29)(16,Ju,1,1,"app-slider-block",29)(17,Yu,1,1,"app-paragraph-block",29)(18,Qu,1,1,"app-list-block",29)(19,tp,1,1,"app-image-list-block",29)(20,ep,1,1,"app-video-block",29)(21,np,1,1,"app-gallery-block",29)(22,ip,1,1,"app-image-box-block",29),p()()}if(o&2){let n=r.$implicit,l=f(2);d("cdkDragData",n),s(3),d("nzType",l.getBlockIcon(n.type)),s(),F(" ",l.getBlockLabel(n.type)," "),s(5),d("ngIf",l.isHeadingBlock(n)),s(),d("ngIf",l.isButtonBlock(n)),s(),d("ngIf",l.isGalleryBlock(n)),s(),d("ngIf",l.isImageBoxBlock(n)),s(2),d("ngIf",l.isHeadingBlock(n)),s(),d("ngIf",l.isButtonBlock(n)),s(),d("ngIf",l.isSliderBlock(n)),s(),d("ngIf",l.isParagraphBlock(n)),s(),d("ngIf",l.isListBlock(n)),s(),d("ngIf",l.isImageListBlock(n)),s(),d("ngIf",l.isVideoBlock(n)),s(),d("ngIf",l.isGalleryBlock(n)),s(),d("ngIf",l.isImageBoxBlock(n))}}function rp(o,r){o&1&&(u(0,"div",47),P(1,"i",48),u(2,"span"),g(3,"K\xE9o block v\xE0o \u0111\xE2y"),p()())}function ap(o,r){if(o&1){let n=Z();u(0,"div",16),k("cdkDropListDropped",function(m){let _=w(n).index,y=f();return E(y.onDrop(m,_))}),x(1,op,23,16,"div",17)(2,rp,4,0,"div",18),p()}if(o&2){let n=r.index,l=f();d("cdkDropListData",l.getColumnBlocks(n))("id","column-"+l.sectionIndex+"-"+n)("cdkDropListConnectedTo",l.connectedLists),s(),d("ngForOf",l.getColumnBlocks(n)),s(),d("ngIf",l.getColumnBlocks(n).length===0)}}var Ei=class o{section;sectionIndex;sectionChange=new kt;deleteSection=new kt;isCollapsed=!1;columnOptions=[{label:"1 c\u1ED9t",value:1},{label:"2 c\u1ED9t",value:2},{label:"3 c\u1ED9t",value:3},{label:"4 c\u1ED9t",value:4}];get columnIds(){return Array(this.section.columns).fill(0).map((r,n)=>`column-${this.sectionIndex}-${n}`)}get connectedLists(){return["block-templates","main-container"].concat(this.columnIds)}getColumnBlocks(r){return this.section.blocks.filter(n=>n.columnIndex===r).sort((n,l)=>{let m=n.block.order||0,_=l.block.order||0;return m!==_?m-_:(n.block.id||"").localeCompare(l.block.id||"")}).map(n=>n.block)}onColumnsChange(r){if(r<this.section.columns){let n=r-1;this.section.blocks=this.section.blocks.map(l=>mt(q({},l),{columnIndex:Math.min(l.columnIndex,n)}))}this.section.columns=r,this.emitChange()}onColumnGapChange(r){this.section.columnGap=r,this.emitChange()}onDrop(r,n){if(console.log("Drop event:",{previousContainer:r.previousContainer.id,container:r.container.id,previousIndex:r.previousIndex,currentIndex:r.currentIndex,item:r.item.data}),r.previousContainer===r.container){let l=this.getColumnBlocks(n);fi(l,r.previousIndex,r.currentIndex),l.forEach((m,_)=>{let y=this.section.blocks.findIndex(T=>T.block.id===m.id);y!==-1&&(this.section.blocks[y]=mt(q({},this.section.blocks[y]),{block:mt(q({},this.section.blocks[y].block),{order:_})}))})}else{let l=r.previousContainer.data[r.previousIndex],m;if(r.previousContainer.id==="block-templates")m=this.createNewBlock(l.type);else if(r.previousContainer.id==="main-container")m=mt(q({},l),{id:Ze()});else{let T=r.previousContainer.id.match(/column-(\d+)-(\d+)/);if(T){let M=parseInt(T[2]),Tt=this.getColumnBlocks(M)[r.previousIndex];this.section.blocks=this.section.blocks.filter(He=>He.block.id!==Tt.id),m=q({},Tt)}else{console.warn("Unknown source container:",r.previousContainer.id);return}}let _=this.getColumnBlocks(n),y=r.currentIndex;this.section.blocks.filter(T=>T.columnIndex===n).forEach(T=>{T.block.order&&T.block.order>=y&&(T.block.order+=1)}),this.section.blocks.push({columnIndex:n,block:mt(q({},m),{order:y})})}this.emitChange()}createNewBlock(r){let n={id:Ze(),type:r,order:0};switch(r){case"heading":n.content="",n.level="h2",n.alignment="left",n.color="#000000",n.fontSize=28;break;case"button":n.text="Click me",n.url="#",n.target="_self",n.style="primary",n.size="small",n.fullWidth=!1,n.alignment="left";break;case"slider":n.images=[];break;case"paragraph":n.content="";break;case"list":n.items=[],n.style="bullet";break;case"image-list":n.images=[],n.layout="grid",n.columns=3;break;case"video":n.url="",n.controls=!0;break;case"gallery":n.images=[],n.layout="grid",n.columns=3,n.spacing=16;break;case"image-box":n.image={url:"",alt:"",width:null,height:null},n.title="",n.description="",n.layout="left",n.titleTag="h3",n.imageRounded=!1,n.imageShadow=!1,n.backgroundColor=null,n.textColor=null,n.padding=24,n.spacing=24;break}return n}updateBlock(r,n,l){let _=this.getColumnBlocks(r)[n];this.section.blocks=this.section.blocks.map(y=>y.block.id===_.id?mt(q({},y),{block:l}):y),this.emitChange()}removeBlock(r,n){let m=this.getColumnBlocks(r)[n];this.section.blocks=this.section.blocks.filter(_=>_.block.id!==m.id),this.emitChange()}emitChange(){this.sectionChange.emit(this.section)}isHeadingBlock(r){return r.type==="heading"}isButtonBlock(r){return r.type==="button"}isSliderBlock(r){return r.type==="slider"}isParagraphBlock(r){return r.type==="paragraph"}isListBlock(r){return r.type==="list"}isImageListBlock(r){return r.type==="image-list"}isVideoBlock(r){return r.type==="video"}isGalleryBlock(r){return r.type==="gallery"}isImageBoxBlock(r){return r.type==="image-box"}getBlockIcon(r){return{heading:"font-colors",button:"link",slider:"picture",paragraph:"font-size",list:"ordered-list","image-list":"table",video:"play-square",gallery:"appstore"}[r]||"block"}getBlockLabel(r){return{heading:"Ti\xEAu \u0111\u1EC1",button:"N\xFAt",slider:"Slider",paragraph:"\u0110o\u1EA1n v\u0103n b\u1EA3n",list:"Danh s\xE1ch","image-list":"Danh s\xE1ch \u1EA3nh",video:"Video",gallery:"Th\u01B0 vi\u1EC7n \u1EA3nh"}[r]||r}toggleCollapse(){this.isCollapsed=!this.isCollapsed}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=Y({type:o,selectors:[["app-layout-section"]],inputs:{section:"section",sectionIndex:"sectionIndex"},outputs:{sectionChange:"sectionChange",deleteSection:"deleteSection"},standalone:!1,decls:25,vars:20,consts:[[1,"layout-section"],[1,"section-header"],[1,"section-left"],["nz-button","","nzType","text",1,"collapse-btn",3,"click"],["nz-icon","",3,"nzType"],[1,"section-title"],[1,"section-settings"],["name","columns",3,"ngModelChange","ngModel"],["nz-radio","",3,"nzValue",4,"ngFor","ngForOf"],[3,"ngModelChange","ngModel","nzMin","nzMax","nzStep"],[1,"section-actions"],["nz-button","","nzType","text","nzDanger","",3,"click"],["nz-icon","","nzType","delete"],[1,"columns-container"],["class","column","cdkDropList","",3,"cdkDropListData","id","cdkDropListConnectedTo","cdkDropListDropped",4,"ngFor","ngForOf"],["nz-radio","",3,"nzValue"],["cdkDropList","",1,"column",3,"cdkDropListDropped","cdkDropListData","id","cdkDropListConnectedTo"],["class","block","cdkDrag","",3,"cdkDragData",4,"ngFor","ngForOf"],["class","column-placeholder",4,"ngIf"],["cdkDrag","",1,"block",3,"cdkDragData"],["cdkDragHandle","",1,"block-header"],[1,"block-title"],[1,"block-actions"],[1,"block-preview"],[3,"ngSwitch","textAlign",4,"ngIf"],[3,"textAlign",4,"ngIf"],["class","preview-block gallery-block",4,"ngIf"],["class","preview-block image-box-block",4,"ngIf"],[1,"block-content"],[3,"block","blockChange",4,"ngIf"],[3,"ngSwitch"],[3,"color","fontSize",4,"ngSwitchCase"],["nz-button","",3,"nzType","nzSize","nzBlock"],[1,"preview-block","gallery-block"],[1,"gallery-grid"],["class","gallery-item",4,"ngFor","ngForOf"],[1,"gallery-item"],[3,"src","alt"],["class","caption",4,"ngIf"],[1,"caption"],[4,"ngIf"],[1,"preview-block","image-box-block"],[1,"image-box"],[1,"image-wrapper"],[1,"content"],[4,"ngSwitchCase"],[3,"blockChange","block"],[1,"column-placeholder"],["nz-icon","","nzType","plus","nzTheme","outline"]],template:function(n,l){n&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),k("click",function(){return l.toggleCollapse()}),P(4,"i",4),p(),u(5,"span",5),g(6),p()(),u(7,"div",6)(8,"nz-form-item")(9,"nz-form-label"),g(10,"S\u1ED1 c\u1ED9t"),p(),u(11,"nz-form-control")(12,"nz-radio-group",7),A("ngModelChange",function(_){return D(l.section.columns,_)||(l.section.columns=_),_}),k("ngModelChange",function(_){return l.onColumnsChange(_)}),x(13,Su,2,2,"label",8),p()()(),u(14,"nz-form-item")(15,"nz-form-label"),g(16,"Kho\u1EA3ng c\xE1ch (px)"),p(),u(17,"nz-form-control")(18,"nz-input-number",9),A("ngModelChange",function(_){return D(l.section.columnGap,_)||(l.section.columnGap=_),_}),k("ngModelChange",function(_){return l.onColumnGapChange(_)}),p()()()(),u(19,"div",10)(20,"button",11),k("click",function(){return l.deleteSection.emit()}),P(21,"i",12),g(22," X\xF3a section "),p()()(),u(23,"div",13),x(24,ap,3,5,"div",14),p()()),n&2&&($t("collapsed",l.isCollapsed),s(4),d("nzType",l.isCollapsed?"right":"down"),s(2),F("Section ",l.sectionIndex+1,""),s(),$t("hidden",l.isCollapsed),s(5),N("ngModel",l.section.columns),s(),d("ngForOf",l.columnOptions),s(5),N("ngModel",l.section.columnGap),d("nzMin",0)("nzMax",48)("nzStep",8),s(5),W("--columns",l.section.columns)("--gap",l.section.columnGap+"px"),$t("hidden",l.isCollapsed),s(),d("ngForOf",_t(19,Eu).constructor(l.section.columns)))},dependencies:[rt,Et,pi,mi,at,lt,st,gt,ct,St,Ct,vt,yt,xt,bt,oe,ie,yi,Ci,vi,ye,pn,mn,_n,hn,fn,vn,Cn,yn,bn],styles:['.layout-section[_ngcontent-%COMP%]{width:100%;overflow:hidden;background:#fff;border-radius:4px;border:1px solid #f0f0f0;margin-bottom:24px;transition:all .3s ease}.layout-section.collapsed[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:0;border-bottom:none}.layout-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:16px;display:flex;justify-content:space-between;align-items:center;padding:16px;background:#fafafa;border-bottom:1px solid #f0f0f0;flex-wrap:wrap;gap:16px;transition:all .3s ease}.layout-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.layout-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-left[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]{padding:0 8px;height:32px}.layout-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-left[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s ease}.layout-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-left[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:14px;color:#595959;font-weight:500}.layout-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-settings[_ngcontent-%COMP%]{display:flex;gap:24px;align-items:flex-start;flex-wrap:wrap;transition:opacity .3s ease}.layout-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-settings.hidden[_ngcontent-%COMP%]{display:none}.layout-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-settings[_ngcontent-%COMP%]   nz-form-item[_ngcontent-%COMP%]{margin-bottom:0;min-width:200px}.layout-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-settings[_ngcontent-%COMP%]   nz-radio-group[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.layout-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-actions[_ngcontent-%COMP%]{margin-left:auto}@media (max-width: 768px){.layout-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.layout-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-actions[_ngcontent-%COMP%]{margin-left:0}}.layout-section[_ngcontent-%COMP%]   .columns-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(var(--columns),1fr);gap:var(--gap);padding:16px;width:100%;min-height:100px;transition:all .3s ease}.layout-section[_ngcontent-%COMP%]   .columns-container.hidden[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.layout-section[_ngcontent-%COMP%]   .columns-container[_ngcontent-%COMP%]{grid-template-columns:1fr}}.layout-section[_ngcontent-%COMP%]   .columns-container[style*="--columns:1"][_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.layout-section[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{min-height:100px;background-color:#fafafa;border:1px dashed #d9d9d9;border-radius:4px;padding:8px}.layout-section[_ngcontent-%COMP%]   .column.cdk-drop-list-dragging[_ngcontent-%COMP%]{border-color:#1890ff}.layout-section[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #d9d9d9;border-radius:4px;margin-bottom:8px;width:100%}.layout-section[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]:last-child{margin-bottom:0}.layout-section[_ngcontent-%COMP%]   .block.cdk-drag-preview[_ngcontent-%COMP%]{box-shadow:0 4px 12px #00000026}.layout-section[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]   .block-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;background-color:#fafafa;border-bottom:1px solid #d9d9d9;border-top-left-radius:4px;border-top-right-radius:4px;cursor:move}.layout-section[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]   .block-header[_ngcontent-%COMP%]   .block-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;color:#595959}.layout-section[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]   .block-header[_ngcontent-%COMP%]   .block-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.layout-section[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]   .block-preview[_ngcontent-%COMP%]{padding:16px;border-bottom:1px solid #f0f0f0;overflow:hidden}.layout-section[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]   .block-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto}.layout-section[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]{padding:16px;width:100%}.layout-section[_ngcontent-%COMP%]   .column-placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100px;color:#8c8c8c}.layout-section[_ngcontent-%COMP%]   .column-placeholder[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;margin-bottom:8px}.layout-section[_ngcontent-%COMP%]   .cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.layout-section[_ngcontent-%COMP%]   .cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-left[_ngcontent-%COMP%], .layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-right[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-right[_ngcontent-%COMP%]{flex-direction:row-reverse}.layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-top[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%], .layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-bottom[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{width:100%;text-align:center}.layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-bottom[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse}.layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-overlay[_ngcontent-%COMP%]{position:relative}.layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-overlay[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{width:100%}.layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-overlay[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-overlay[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;padding:24px;background:#00000080;color:#fff}.layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block}.layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .image-wrapper.rounded[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:8px}.layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .image-wrapper.shadow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{box-shadow:0 4px 12px #00000026}.layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;vertical-align:middle}.layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0 0 16px;line-height:1.4}.layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;line-height:1.6}']})};function sp(o,r){if(o&1&&(u(0,"div",13)(1,"button",14),P(2,"i",10),g(3),p()()),o&2){let n=r.$implicit,l=f();d("cdkDragData",n),s(2),d("nzType",l.getBlockIcon(n.type)),s(),F(" ",l.getBlockLabel(n.type)," ")}}function cp(o,r){if(o&1){let n=Z();u(0,"app-layout-section",19),k("sectionChange",function(m){w(n);let _=f().index,y=f(2);return E(y.updateBlock(_,m))})("deleteSection",function(){w(n);let m=f().index,_=f(2);return E(_.removeBlock(m))}),p()}if(o&2){let n=f(),l=n.$implicit,m=n.index;d("section",l)("sectionIndex",m)}}function dp(o,r){if(o&1){let n=Z();u(0,"app-heading-block",31),k("blockChange",function(m){w(n);let _=f(2).index,y=f(2);return E(y.updateBlock(_,m))}),p()}if(o&2){let n=f(2).$implicit;d("block",n)}}function up(o,r){if(o&1){let n=Z();u(0,"app-button-block",31),k("blockChange",function(m){w(n);let _=f(2).index,y=f(2);return E(y.updateBlock(_,m))}),p()}if(o&2){let n=f(2).$implicit;d("block",n)}}function pp(o,r){if(o&1){let n=Z();u(0,"app-slider-block",31),k("blockChange",function(m){w(n);let _=f(2).index,y=f(2);return E(y.updateBlock(_,m))}),p()}if(o&2){let n=f(2).$implicit;d("block",n)}}function mp(o,r){if(o&1){let n=Z();u(0,"app-paragraph-block",31),k("blockChange",function(m){w(n);let _=f(2).index,y=f(2);return E(y.updateBlock(_,m))}),p()}if(o&2){let n=f(2).$implicit;d("block",n)}}function _p(o,r){if(o&1){let n=Z();u(0,"app-list-block",31),k("blockChange",function(m){w(n);let _=f(2).index,y=f(2);return E(y.updateBlock(_,m))}),p()}if(o&2){let n=f(2).$implicit;d("block",n)}}function hp(o,r){if(o&1){let n=Z();u(0,"app-image-list-block",31),k("blockChange",function(m){w(n);let _=f(2).index,y=f(2);return E(y.updateBlock(_,m))}),p()}if(o&2){let n=f(2).$implicit;d("block",n)}}function gp(o,r){if(o&1){let n=Z();u(0,"app-video-block",31),k("blockChange",function(m){w(n);let _=f(2).index,y=f(2);return E(y.updateBlock(_,m))}),p()}if(o&2){let n=f(2).$implicit;d("block",n)}}function fp(o,r){if(o&1){let n=Z();u(0,"app-gallery-block",31),k("blockChange",function(m){w(n);let _=f(2).index,y=f(2);return E(y.updateBlock(_,m))}),p()}if(o&2){let n=f(2).$implicit;d("block",n)}}function vp(o,r){if(o&1){let n=Z();u(0,"app-image-box-block",31),k("blockChange",function(m){w(n);let _=f(2).index,y=f(2);return E(y.updateBlock(_,m))}),p()}if(o&2){let n=f(2).$implicit;d("block",n)}}function Cp(o,r){if(o&1){let n=Z();u(0,"div",20)(1,"div",21)(2,"div",22),g(3),p(),u(4,"div",23)(5,"button",24),k("click",function(){w(n);let m=f().index,_=f(2);return E(_.moveBlock(m,"up"))}),P(6,"i",25),p(),u(7,"button",24),k("click",function(){w(n);let m=f().index,_=f(2);return E(_.moveBlock(m,"down"))}),P(8,"i",26),p(),u(9,"button",27),k("click",function(){w(n);let m=f().index,_=f(2);return E(_.removeBlock(m))}),P(10,"i",28),p()()(),u(11,"div",29),x(12,dp,1,1,"app-heading-block",30)(13,up,1,1,"app-button-block",30)(14,pp,1,1,"app-slider-block",30)(15,mp,1,1,"app-paragraph-block",30)(16,_p,1,1,"app-list-block",30)(17,hp,1,1,"app-image-list-block",30)(18,gp,1,1,"app-video-block",30)(19,fp,1,1,"app-gallery-block",30)(20,vp,1,1,"app-image-box-block",30),p()()}if(o&2){let n=f(),l=n.$implicit,m=n.index,_=f(2);d("cdkDragData",l),s(3),S(_.getBlockLabel(l.type)),s(2),d("disabled",m===0),s(2),d("disabled",m===_.content.blocks.length-1),s(5),d("ngIf",_.isHeadingBlock(l)),s(),d("ngIf",_.isButtonBlock(l)),s(),d("ngIf",_.isSliderBlock(l)),s(),d("ngIf",_.isParagraphBlock(l)),s(),d("ngIf",_.isListBlock(l)),s(),d("ngIf",_.isImageListBlock(l)),s(),d("ngIf",_.isVideoBlock(l)),s(),d("ngIf",_.isGalleryBlock(l)),s(),d("ngIf",_.isImageBoxBlock(l))}}function yp(o,r){if(o&1&&(Q(0),x(1,cp,1,2,"app-layout-section",17)(2,Cp,21,13,"div",18),tt()),o&2){let n=r.$implicit,l=f(2);s(),d("ngIf",l.isLayoutSection(n)),s(),d("ngIf",!l.isLayoutSection(n))}}function bp(o,r){if(o&1){let n=Z();u(0,"div",15),k("cdkDropListDropped",function(m){w(n);let _=f();return E(_.drop(m))}),x(1,yp,3,2,"ng-container",16),p()}if(o&2){let n=f();d("cdkDropListData",n.content.blocks)("cdkDropListConnectedTo",n.getLayoutColumnIds()),s(),d("ngForOf",n.content.blocks)}}function xp(o,r){if(o&1&&P(0,"app-page-preview",32),o&2){let n=f();d("content",n.content)}}var Si=class o{content={blocks:[]};isPreview=!1;blockTemplates=[{type:"heading",label:"Ti\xEAu \u0111\u1EC1"},{type:"button",label:"N\xFAt"},{type:"slider",label:"Slider"},{type:"paragraph",label:"\u0110o\u1EA1n v\u0103n b\u1EA3n"},{type:"list",label:"Danh s\xE1ch"},{type:"image-list",label:"Danh s\xE1ch \u1EA3nh"},{type:"video",label:"Video"},{type:"gallery",label:"Th\u01B0 vi\u1EC7n \u1EA3nh"},{type:"image-box",label:"H\u1ED9p \u1EA3nh"}];onChange=()=>{};onTouch=()=>{};constructor(){}ngOnInit(){}writeValue(r){r&&(this.content=r)}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouch=r}togglePreview(){this.isPreview=!this.isPreview}getLayoutColumnIds(){let r=[];return this.content.blocks.forEach((n,l)=>{if(this.isLayoutSection(n))for(let m=0;m<n.columns;m++)r.push(`column-${l}-${m}`)}),r}addBlock(r){let n={id:Ze(),type:r,order:this.content.blocks.length};switch(r){case"slider":n.images=[];break;case"paragraph":n.content="";break;case"list":n.items=[],n.style="bullet";break;case"image-list":n.items=[],n.layout="grid",n.columns=3;break;case"video":n.url="",n.controls=!0,n.autoplay=!1;break;case"gallery":n.images=[],n.layout="grid",n.columns=3,n.spacing=16;break}this.content.blocks.push(n),this.onChange(this.content)}addLayoutSection(){let r={id:Ze(),columns:2,columnGap:24,blocks:[]};this.content.blocks.push(r),this.onChange(this.content)}removeBlock(r){this.content.blocks.splice(r,1),this.reorderBlocks(),this.onChange(this.content)}moveBlock(r,n){let l=n==="up"?r-1:r+1;if(l>=0&&l<this.content.blocks.length){let m=this.content.blocks[r];this.content.blocks.splice(r,1),this.content.blocks.splice(l,0,m),this.reorderBlocks(),this.onChange(this.content)}}drop(r){if(console.log("Main container drop:",r),r.previousContainer===r.container)fi(this.content.blocks,r.previousIndex,r.currentIndex),this.reorderBlocks();else if(r.previousContainer.id==="block-templates"){let n=r.previousContainer.data[r.previousIndex],l=this.createNewBlock(n.type);this.content.blocks.splice(r.currentIndex,0,l),this.reorderBlocks()}this.onChange(this.content)}reorderBlocks(){this.content.blocks.forEach((r,n)=>{this.isLayoutSection(r)||(r.order=n)})}updateBlock(r,n){this.content.blocks[r]=n,this.onChange(this.content)}isSliderBlock(r){return r.type==="slider"}isParagraphBlock(r){return r.type==="paragraph"}isListBlock(r){return r.type==="list"}isImageListBlock(r){return r.type==="image-list"}isVideoBlock(r){return r.type==="video"}isGalleryBlock(r){return r.type==="gallery"}isLayoutSection(r){return"columns"in r}getBlockIcon(r){return{heading:"font-colors",button:"link",slider:"picture",paragraph:"font-size",list:"ordered-list","image-list":"table",video:"play-square",gallery:"appstore","image-box":"picture"}[r]||"block"}getBlockLabel(r){let n=this.blockTemplates.find(l=>l.type===r);return n?n.label:r}createNewBlock(r){let n={id:Ze(),type:r,order:this.content.blocks.length};switch(r){case"heading":n.content="",n.level="h2",n.alignment="left",n.color="#000000",n.fontSize=28;break;case"button":n.text="Click me",n.url="#",n.target="_self",n.style="primary",n.size="medium",n.fullWidth=!1,n.alignment="left";break;case"slider":n.images=[];break;case"paragraph":n.content="";break;case"list":n.items=[],n.style="bullet";break;case"image-list":n.items=[],n.layout="grid",n.columns=3;break;case"video":n.url="",n.controls=!0,n.autoplay=!1;break;case"gallery":n.images=[],n.layout="grid",n.columns=3,n.spacing=16;break;case"image-box":n.image={url:"assets/images/placeholder.png",alt:"Preview image"},n.layout="left",n.titleTag="h2",n.title="Ti\xEAu \u0111\u1EC1 m\u1EABu",n.description="M\xF4 t\u1EA3 m\u1EABu",n.imageRounded=!1,n.imageShadow=!1,n.backgroundColor="#ffffff",n.textColor="#000000",n.padding=24,n.spacing=16;break}return n}isHeadingBlock(r){return r.type==="heading"}isButtonBlock(r){return r.type==="button"}isImageBoxBlock(r){return r.type==="image-box"}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=Y({type:o,selectors:[["app-page-builder"]],standalone:!1,features:[ho([{provide:qr,useExisting:Ar(()=>o),multi:!0}])],decls:15,vars:7,consts:[[1,"page-builder"],[1,"toolbar"],[1,"left-actions"],["nz-button","","nzType","default",3,"click"],["nz-icon","","nzType","layout","nzTheme","outline"],["nzType","vertical"],["cdkDropList","","id","block-templates",1,"block-templates",3,"cdkDropListData","cdkDropListConnectedTo"],["class","block-template","cdkDrag","",3,"cdkDragData",4,"ngFor","ngForOf"],[1,"right-actions"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzTheme","outline",3,"nzType"],["class","blocks-container","cdkDropList","","id","main-container",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped",4,"ngIf"],[3,"content",4,"ngIf"],["cdkDrag","",1,"block-template",3,"cdkDragData"],["nz-button","","nzType","default"],["cdkDropList","","id","main-container",1,"blocks-container",3,"cdkDropListDropped","cdkDropListData","cdkDropListConnectedTo"],[4,"ngFor","ngForOf"],["cdkDrag","",3,"section","sectionIndex","sectionChange","deleteSection",4,"ngIf"],["class","block","cdkDrag","",3,"cdkDragData",4,"ngIf"],["cdkDrag","",3,"sectionChange","deleteSection","section","sectionIndex"],["cdkDrag","",1,"block",3,"cdkDragData"],["cdkDragHandle","",1,"block-header"],[1,"block-title"],[1,"block-actions"],["nz-button","","nzType","text",3,"click","disabled"],["nz-icon","","nzType","arrow-up"],["nz-icon","","nzType","arrow-down"],["nz-button","","nzType","text","nzDanger","",3,"click"],["nz-icon","","nzType","delete"],[1,"block-content"],[3,"block","blockChange",4,"ngIf"],[3,"blockChange","block"],[3,"content"]],template:function(n,l){n&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),k("click",function(){return l.addLayoutSection()}),P(4,"i",4),g(5," Th\xEAm Layout "),p(),P(6,"nz-divider",5),u(7,"div",6),x(8,sp,4,3,"div",7),p()(),u(9,"div",8)(10,"button",9),k("click",function(){return l.togglePreview()}),P(11,"i",10),g(12),p()()(),x(13,bp,2,3,"div",11)(14,xp,1,1,"app-page-preview",12),p()),n&2&&(s(7),d("cdkDropListData",l.blockTemplates)("cdkDropListConnectedTo",l.getLayoutColumnIds()),s(),d("ngForOf",l.blockTemplates),s(3),d("nzType",l.isPreview?"edit":"eye"),s(),F(" ",l.isPreview?"Ch\u1EC9nh s\u1EEDa":"Xem tr\u01B0\u1EDBc"," "),s(),d("ngIf",!l.isPreview),s(),d("ngIf",l.isPreview))},dependencies:[rt,Et,st,gt,ct,St,dn,yi,Ci,vi,pn,mn,_n,hn,fn,vn,wi,Ei,Cn,yn,bn],styles:[".page-builder[_ngcontent-%COMP%]{padding:20px}.page-builder[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;flex-wrap:wrap;gap:16px}.page-builder[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-actions[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap;align-items:center}.page-builder[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-actions[_ngcontent-%COMP%]   .block-templates[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.page-builder[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-actions[_ngcontent-%COMP%]   .block-templates[_ngcontent-%COMP%]   .block-template.cdk-drag-preview[_ngcontent-%COMP%]{box-shadow:0 4px 12px #00000026}.page-builder[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-actions[_ngcontent-%COMP%]   .block-templates[_ngcontent-%COMP%]   .block-template[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.page-builder[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-actions[_ngcontent-%COMP%]   .block-templates[_ngcontent-%COMP%]   .block-template[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.page-builder[_ngcontent-%COMP%]   .blocks-container[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]{margin-bottom:24px;background:#fff;border-radius:4px;border:1px solid #f0f0f0}.page-builder[_ngcontent-%COMP%]   .blocks-container[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]:last-child{margin-bottom:0}.page-builder[_ngcontent-%COMP%]   .blocks-container[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]   .block-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:#fafafa;border-bottom:1px solid #f0f0f0;border-top-left-radius:4px;border-top-right-radius:4px;cursor:move}.page-builder[_ngcontent-%COMP%]   .blocks-container[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]   .block-header[_ngcontent-%COMP%]   .block-title[_ngcontent-%COMP%]{font-weight:500}.page-builder[_ngcontent-%COMP%]   .blocks-container[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]   .block-header[_ngcontent-%COMP%]   .block-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.page-builder[_ngcontent-%COMP%]   .blocks-container[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]{padding:16px}.page-builder[_ngcontent-%COMP%]   .cdk-drag-preview[_ngcontent-%COMP%]{box-shadow:0 4px 12px #00000026}.page-builder[_ngcontent-%COMP%]   .cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.page-builder[_ngcontent-%COMP%]   .cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.page-builder[_ngcontent-%COMP%]   .blocks-container.cdk-drop-list-dragging[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]})};var kp=["mapContainer"],zp=()=>({standalone:!0}),xn=()=>({minRows:3,maxRows:5}),Mp=o=>({color:o});function wp(o,r){if(o&1&&(u(0,"div",74),P(1,"i",75),g(2),p()),o&2){let n=f();s(),d("nzType",n.isEdit?"edit":"plus"),s(),F(" ",n.isEdit?"Ch\u1EC9nh s\u1EEDa s\u1EA3n ph\u1EA9m":"Th\xEAm s\u1EA3n ph\u1EA9m m\u1EDBi"," ")}}function Ep(o,r){o&1&&(Q(0),g(1,"Vui l\xF2ng nh\u1EADp t\xEAn s\u1EA3n ph\u1EA9m"),tt())}function Sp(o,r){o&1&&(Q(0),g(1,"T\xEAn s\u1EA3n ph\u1EA9m ph\u1EA3i c\xF3 \xEDt nh\u1EA5t 3 k\xFD t\u1EF1"),tt())}function Op(o,r){if(o&1&&x(0,Ep,2,0,"ng-container",53)(1,Sp,2,0,"ng-container",53),o&2){let n=r.$implicit;d("ngIf",n.hasError("required")),s(),d("ngIf",n.hasError("minlength"))}}function Tp(o,r){o&1&&(Q(0),g(1,"Vui l\xF2ng nh\u1EADp slug"),tt())}function Lp(o,r){o&1&&(Q(0),g(1,"Slug ch\u1EC9 ch\u1EA5p nh\u1EADn ch\u1EEF th\u01B0\u1EDDng, s\u1ED1 v\xE0 d\u1EA5u g\u1EA1ch ngang"),tt())}function Bp(o,r){if(o&1&&x(0,Tp,2,0,"ng-container",53)(1,Lp,2,0,"ng-container",53),o&2){let n=r.$implicit;d("ngIf",n.hasError("required")),s(),d("ngIf",n.hasError("pattern"))}}function Ip(o,r){if(o&1&&P(0,"nz-option",76),o&2){let n=r.$implicit;d("nzValue",n.id)("nzLabel",n.name)}}function Np(o,r){o&1&&(Q(0),g(1,"Vui l\xF2ng ch\u1ECDn d\u1EF1 \xE1n"),tt())}function Dp(o,r){if(o&1&&x(0,Np,2,0,"ng-container",53),o&2){let n=r.$implicit;d("ngIf",n.hasError("required"))}}function Ap(o,r){if(o&1&&P(0,"nz-option",76),o&2){let n=r.$implicit;d("nzValue",n.id)("nzLabel",n.name)}}function Fp(o,r){o&1&&(Q(0),g(1,"Vui l\xF2ng ch\u1ECDn danh m\u1EE5c"),tt())}function Vp(o,r){o&1&&(Q(0),g(1,"Kh\xF4ng th\u1EC3 ch\u1ECDn danh m\u1EE5c n\xE0y khi s\u1EA3n ph\u1EA9m thu\u1ED9c d\u1EF1 \xE1n"),tt())}function Rp(o,r){if(o&1&&x(0,Fp,2,0,"ng-container",53)(1,Vp,2,0,"ng-container",53),o&2){let n=r.$implicit;d("ngIf",n.hasError("required")),s(),d("ngIf",n.hasError("invalidCategory"))}}function Zp(o,r){if(o&1){let n=Z();u(0,"button",77),k("click",function(){w(n);let m=f();return E(m.onSearch())}),P(1,"i",78),p()}}function Wp(o,r){if(o&1&&P(0,"nz-option",76),o&2){let n=r.$implicit;d("nzValue",n.value)("nzLabel",n.label)}}function Hp(o,r){o&1&&(Q(0),g(1,"Vui l\xF2ng nh\u1EADp gi\xE1"),tt())}function Up(o,r){o&1&&(Q(0),g(1,"Gi\xE1 ph\u1EA3i l\u1EDBn h\u01A1n 0"),tt())}function Gp(o,r){if(o&1&&x(0,Hp,2,0,"ng-container",53)(1,Up,2,0,"ng-container",53),o&2){let n=r.$implicit;d("ngIf",n.hasError("required")),s(),d("ngIf",n.hasError("min"))}}function jp(o,r){o&1&&(Q(0),g(1,"Gi\xE1 ph\u1EA3i l\u1EDBn h\u01A1n 0"),tt())}function qp(o,r){o&1&&(Q(0),g(1,"Gi\xE1 \u0111\u1EBFn ph\u1EA3i l\u1EDBn h\u01A1n gi\xE1 t\u1EEB"),tt())}function $p(o,r){if(o&1&&x(0,jp,2,0,"ng-container",53)(1,qp,2,0,"ng-container",53),o&2){let n=r.$implicit;d("ngIf",n.hasError("min")),s(),d("ngIf",n.parent==null?null:n.parent.hasError("priceRange"))}}function Xp(o,r){if(o&1&&P(0,"nz-option",76),o&2){let n=r.$implicit;d("nzValue",n.value)("nzLabel",n.label)}}function Kp(o,r){if(o&1&&P(0,"nz-option",76),o&2){let n=r.$implicit;d("nzValue",n.value)("nzLabel",n.label)}}function Jp(o,r){if(o&1&&(Q(0),u(1,"div",17)(2,"div",18)(3,"nz-form-item")(4,"nz-form-label",19),g(5,"Lo\u1EA1i d\u1EF1 \xE1n"),p(),u(6,"nz-form-control",79)(7,"nz-select",80),x(8,Xp,1,2,"nz-option",24),p()()()(),u(9,"div",18)(10,"nz-form-item")(11,"nz-form-label",19),g(12,"Tr\u1EA1ng th\xE1i d\u1EF1 \xE1n"),p(),u(13,"nz-form-control",81)(14,"nz-select",82),x(15,Kp,1,2,"nz-option",24),p()()()()(),tt()),o&2){let n=f();s(),d("nzGutter",24),s(),d("nzXs",24)("nzSm",12)("nzMd",8),s(6),d("ngForOf",n.projectTypes),s(),d("nzXs",24)("nzSm",12)("nzMd",8),s(6),d("ngForOf",n.projectStatus)}}function Yp(o,r){o&1&&(u(0,"div",17)(1,"div",18)(2,"nz-form-item")(3,"nz-form-label"),g(4,"Ph\xE1p l\xFD"),p(),u(5,"nz-form-control"),P(6,"textarea",83),p()()(),u(7,"div",18)(8,"nz-form-item")(9,"nz-form-label"),g(10,"H\xECnh th\u1EE9c s\u1EDF h\u1EEFu"),p(),u(11,"nz-form-control"),P(12,"textarea",84),p()()()()),o&2&&(d("nzGutter",24),s(),d("nzXs",24)("nzSm",24)("nzMd",12),s(5),d("nzAutosize",_t(9,xn)),s(),d("nzXs",24)("nzSm",24)("nzMd",12),s(5),d("nzAutosize",_t(10,xn)))}function Qp(o,r){o&1&&(u(0,"div",17)(1,"div",18)(2,"nz-form-item")(3,"nz-form-label"),g(4,"\u0110\u01A1n v\u1ECB qu\u1EA3n l\xFD v\u1EADn h\xE0nh"),p(),u(5,"nz-form-control"),P(6,"textarea",85),p()()(),u(7,"div",18)(8,"nz-form-item")(9,"nz-form-label"),g(10,"Quy m\xF4 d\u1EF1 \xE1n"),p(),u(11,"nz-form-control"),P(12,"textarea",86),p()()()()),o&2&&(d("nzGutter",24),s(),d("nzXs",24)("nzSm",24)("nzMd",12),s(5),d("nzAutosize",_t(9,xn)),s(),d("nzXs",24)("nzSm",24)("nzMd",12),s(5),d("nzAutosize",_t(10,xn)))}function tm(o,r){o&1&&(u(0,"div",17)(1,"div",29)(2,"nz-form-item")(3,"nz-form-label",19),g(4,"Ch\u1EE7 \u0111\u1EA7u t\u01B0"),p(),u(5,"nz-form-control",87),P(6,"input",88),p()()()()),o&2&&(d("nzGutter",24),s(),d("nzSpan",24))}function em(o,r){if(o&1&&(Q(0),u(1,"nz-divider",89),P(2,"i",90),g(3," Chi ph\xED ti\u1EC7n \xEDch "),p(),u(4,"div",17)(5,"div",18)(6,"nz-form-item")(7,"nz-form-label"),g(8,"Gi\xE1 \u0111i\u1EC7n (VN\u0110/th\xE1ng)"),p(),u(9,"nz-form-control"),P(10,"nz-input-number",91),p()()(),u(11,"div",18)(12,"nz-form-item")(13,"nz-form-label"),g(14,"Gi\xE1 n\u01B0\u1EDBc (VN\u0110/th\xE1ng)"),p(),u(15,"nz-form-control"),P(16,"nz-input-number",92),p()()(),u(17,"div",18)(18,"nz-form-item")(19,"nz-form-label"),g(20,"Gi\xE1 internet (VN\u0110/th\xE1ng)"),p(),u(21,"nz-form-control"),P(22,"nz-input-number",93),p()()()(),tt()),o&2){let n=f();s(4),d("nzGutter",24),s(),d("nzXs",24)("nzSm",12)("nzMd",8),s(5),d("nzMin",0)("nzStep",1e3)("nzFormatter",n.formatterVND)("nzParser",n.parserVND),s(),d("nzXs",24)("nzSm",12)("nzMd",8),s(5),d("nzMin",0)("nzStep",1e3)("nzFormatter",n.formatterVND)("nzParser",n.parserVND),s(),d("nzXs",24)("nzSm",12)("nzMd",8),s(5),d("nzMin",0)("nzStep",1e3)("nzFormatter",n.formatterVND)("nzParser",n.parserVND)}}function nm(o,r){if(o&1&&(u(0,"nz-form-item")(1,"nz-form-label",94),g(2,"N\u1ED9i dung"),p(),u(3,"nz-form-control",94),P(4,"app-page-builder",95),p()()),o&2){let n=f();s(),d("nzSpan",24),s(2),d("nzSpan",24),s(),d("formControl",n.contentControl)}}function im(o,r){if(o&1&&(u(0,"nz-form-item")(1,"nz-form-label",19),g(2,"M\xF4 t\u1EA3 chi ti\u1EBFt"),p(),u(3,"nz-form-control",96),P(4,"editor",97),p()()),o&2){let n=f();s(4),d("init",n.editorConfig)}}function om(o,r){if(o&1&&(u(0,"nz-option",98)(1,"span",99),g(2),p()()),o&2){let n=r.$implicit;d("nzValue",n.id)("nzLabel",n.name)("nzCustomContent",!0),s(),d("ngStyle",Hr(5,Mp,n.color)),s(),S(n.name)}}function rm(o,r){if(o&1&&g(0),o&2){let n=r.$implicit;F("v\xE0 ",n.length," tag kh\xE1c")}}function am(o,r){if(o&1&&P(0,"img",100),o&2){let n=f();d("src",n.previewImage,J)}}var Wn=class o{constructor(r,n,l,m,_,y,T,M){this.fb=r;this.productService=n;this.tagService=l;this.router=m;this.route=_;this.message=y;this.ngZone=T;this.categoryService=M;this.initForm()}mapContainer;productForm;loading=!1;isEdit=!1;productId;fileList=[];previewImage="";previewVisible=!1;map;marker;searchResults=[];searchQuery="";searchSubject=new te;tags=[];editorConfig={base_url:"/tinymce",suffix:".min",plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","help","wordcount","emoticons"],toolbar:"undo redo | blocks | formatselect | bold italic |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | link image media | removeformat | help",height:500,menubar:!0,branding:!1,language:"vi",language_url:"/tinymce/langs/vi.js",content_style:'body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif; }',images_upload_handler:(r,n)=>new Promise((l,m)=>{let _=new FormData;_.append("file",r.blob(),r.filename());let y=localStorage.getItem("access_token");fetch(`${ia.apiUrl}media/upload`,{method:"POST",headers:{Authorization:`Bearer ${y}`},body:_}).then(T=>T.json()).then(T=>{T.data.drive_id?l("https://lh3.googleusercontent.com/d/"+T.data.drive_id):m("Kh\xF4ng nh\u1EADn \u0111\u01B0\u1EE3c URL \u1EA3nh t\u1EEB server")}).catch(T=>{m("L\u1ED7i upload \u1EA3nh: "+T)})})};typeProducts=[{label:"B\xE1n",value:"sale"},{label:"Cho thu\xEA",value:"rent"}];projectTypes=[{label:"C\u0103n h\u1ED9 cao c\u1EA5p",value:"luxury_apartment"},{label:"Khu \u0111\xF4 th\u1ECB",value:"urban_area"},{label:"Khu ngh\u1EC9 d\u01B0\u1EE1ng",value:"resort"},{label:"Khu ph\u1EE9c h\u1EE3p",value:"complex"}];projectStatus=[{label:"\u0110ang m\u1EDF b\xE1n",value:"selling"},{label:"S\u1EAFp m\u1EDF b\xE1n",value:"coming_soon"},{label:"\u0110\xE3 b\xE0n giao",value:"delivered"},{label:"\u0110\xE3 ho\xE0n th\xE0nh",value:"completed"}];investmentTypes=[{label:"Mua b\xE1n",value:"sell"},{label:"Cho thu\xEA",value:"rent"}];coverImageList=[];productImageList=[];tempCoverFile;tempProductFiles=[];categories=[];existingCoverImage=null;existingProductImages=[];removedImageIds=[];projects=[];ngOnInit(){this.route.params.subscribe(r=>{r.id&&(this.productId=+r.id,this.isEdit=!0),this.initForm(),this.isEdit&&this.loadProduct(this.productId)}),setTimeout(()=>{this.initMap()}),this.productForm.get("name")?.valueChanges.subscribe(r=>{if(!this.isEdit){let n=this.generateSlug(r);this.productForm.patchValue({slug:n},{emitEvent:!1})}}),this.searchSubject.pipe(se(500),ce()).subscribe(r=>{this.performSearch(r)}),this.loadTags(),this.loadCategories(),this.loadProjects()}initMap(){if(!this.mapContainer)return;this.map=We.map(this.mapContainer.nativeElement,{attributionControl:!1}).setView([16.0544,108.2022],13),We.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"\xA9 Danahomes"}).addTo(this.map);let r=We.icon({iconUrl:"https://www.openstreetmap.org/assets/leaflet/dist/images/marker-icon-3d253116ec4ba0e1f22a01cdf1ff7f120fa4d89a6cd0933d68f12951d19809b4.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]});this.marker=We.marker([16.0544,108.2022],{draggable:!0,icon:r}).addTo(this.map),this.marker.on("dragend",()=>{let n=this.marker.getLatLng();this.reverseGeocode(n.lat,n.lng)})}onSearch(){this.searchSubject.next(this.searchQuery)}performSearch(r){r&&fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(r)}&countrycodes=vn`).then(n=>n.json()).then(n=>{if(this.searchResults=n,n.length>0){let l=n[0],m=parseFloat(l.lat),_=parseFloat(l.lon);this.map.setView([m,_],16),this.marker.setLatLng([m,_]),this.updateAddressDetails(l)}else this.message.warning("Kh\xF4ng t\xECm th\u1EA5y \u0111\u1ECBa ch\u1EC9")}).catch(n=>{this.message.error("C\xF3 l\u1ED7i x\u1EA3y ra khi t\xECm ki\u1EBFm \u0111\u1ECBa ch\u1EC9")})}reverseGeocode(r,n){fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${r}&lon=${n}`).then(l=>l.json()).then(l=>{this.updateAddressDetails(l)}).catch(l=>{this.message.error("C\xF3 l\u1ED7i x\u1EA3y ra khi l\u1EA5y th\xF4ng tin \u0111\u1ECBa ch\u1EC9")})}updateAddressDetails(r){let n=r.address||{},l=parseFloat(r.lat),m=parseFloat(r.lon);console.log("Raw address data:",n);let _=()=>n.city==="\u0110\xE0 N\u1EB5ng"?"Th\xE0nh ph\u1ED1 \u0110\xE0 N\u1EB5ng":n.city||n.state||"",y=()=>n.suburb&&n.suburb.includes("Ng\u0169 H\xE0nh S\u01A1n")?"Qu\u1EADn Ng\u0169 H\xE0nh S\u01A1n":n.district||(n.suburb&&n.suburb.includes("Qu\u1EADn")?n.suburb:"")||n.city_district||"",T=()=>n.quarter||(n.neighbourhood&&!n.neighbourhood.includes("Qu\u1EADn")?n.neighbourhood:"")||(n.suburb&&!n.suburb.includes("Qu\u1EADn")?n.suburb:"")||"",M=this.productForm.get("address_detail");if(M){let V={address:r.display_name||"",province:_(),district:y(),ward:T(),google_address_link:`https://www.openstreetmap.org/?mlat=${l}&mlon=${m}#map=16/${l}/${m}`};console.log("Mapped address values:",V),M.patchValue(V),this.map&&l&&m&&(this.map.setView([l,m],16),this.marker.setLatLng([l,m]))}}loadTags(){this.tagService.getAllTags().subscribe({next:r=>{this.tags=r.data},error:r=>{this.message.error("C\xF3 l\u1ED7i x\u1EA3y ra khi t\u1EA3i danh s\xE1ch tags")}})}generateSlug(r){return r.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[]/g,"d").replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"-")}priceRangeValidator(r){let n=r.get("price")?.value,l=r.get("price_to")?.value;return n&&l&&n>=l?{priceRange:!0}:null}loadCategories(){this.categoryService.getCategories().subscribe({next:r=>{this.categories=r.data},error:r=>{this.message.error("C\xF3 l\u1ED7i x\u1EA3y ra khi t\u1EA3i danh s\xE1ch danh m\u1EE5c")}})}updateValidators(){let r=this.productForm.get("cover_image"),n=this.productForm.get("product_images");this.isEdit?(r?.clearValidators(),n?.clearValidators()):(r?.setValidators([nt.required]),n?.setValidators([nt.required,nt.minLength(1)])),r?.updateValueAndValidity(),n?.updateValueAndValidity()}initForm(){this.productForm=this.fb.group({name:["",[nt.required]],slug:["",[nt.required]],category_id:[null,[nt.required,this.categoryValidator.bind(this)]],product_parent_id:[null],address_detail:this.fb.group({address:["",[nt.required]],province:["",[nt.required]],district:["",[nt.required]],ward:["",[nt.required]],google_address_link:[""]}),product_detail:this.fb.group({bedroom:[0],bathroom:[0],area:[0,[nt.required,nt.min(0)]],price:[0,[nt.required,nt.min(0)]],price_to:[0,[nt.min(0)]],content:[{blocks:[]},[nt.required]],investor:[""],project_type:[""],project_status:[""],type_of_investment:[""],type_product:["",[nt.required]],eletric_price:[0],water_price:[0],internet_price:[0],utilities:[""],interiol:[""],legal_documents:[""],form_of_ownership:[""],management_and_operation_unit:[""],project_scale:[""]},{validators:this.priceRangeValidator}),tag_ids:[[]]}),this.productForm.get("product_parent_id")?.valueChanges.subscribe(r=>{let n=this.productForm.get("category_id");r?n?.addValidators(this.categoryValidator.bind(this)):n?.removeValidators(this.categoryValidator.bind(this)),n?.updateValueAndValidity()}),this.productForm.get("category_id")?.valueChanges.subscribe(r=>{let n=this.productForm.get("product_detail.project_type"),l=this.productForm.get("product_detail.project_status"),m=this.productForm.get("product_detail.investor");r===7?(n?.addValidators([nt.required]),l?.addValidators([nt.required]),m?.addValidators([nt.required,nt.minLength(3)])):(n?.clearValidators(),l?.clearValidators(),m?.clearValidators()),n?.updateValueAndValidity(),l?.updateValueAndValidity(),m?.updateValueAndValidity()}),this.productForm.get("product_detail.type_product")?.valueChanges.subscribe(r=>{let n=this.productForm.get("product_detail.eletric_price"),l=this.productForm.get("product_detail.water_price"),m=this.productForm.get("product_detail.internet_price");r==="rent"?(n?.setValidators([nt.required,nt.min(0)]),l?.setValidators([nt.required,nt.min(0)]),m?.setValidators([nt.required,nt.min(0)])):(n?.clearValidators(),l?.clearValidators(),m?.clearValidators()),n?.updateValueAndValidity(),l?.updateValueAndValidity(),m?.updateValueAndValidity()}),this.updateValidators()}loadProduct(r){this.loading=!0,this.productService.getProduct(r).subscribe({next:n=>{let l=n.data;console.log("Raw product data:",l),this.initForm();let m;try{if(l?.product_detail?.content)if(l.category_id===7)try{m=typeof l.product_detail.content=="string"?JSON.parse(l.product_detail.content):l.product_detail.content,console.log("Parsed project content:",m)}catch(y){console.error("Error parsing content:",y),m={blocks:[]}}else m=l.product_detail.content;else m=l?.category_id===7?{blocks:[]}:""}catch(y){console.error("Error processing content:",y),m=l?.category_id===7?{blocks:[]}:""}let _={name:l?.name||"",slug:l?.slug||"",category_id:l?.category_id||null,product_parent_id:l?.product_parent_id||null,address_detail:l?.address_detail||{},product_detail:mt(q({},l?.product_detail||{}),{content:m,bedroom:l?.product_detail?.bedroom||0,bathroom:l?.product_detail?.bathroom||0,area:l?.product_detail?.area||0,price:l?.product_detail?.price||0,price_to:l?.product_detail?.price_to||0,eletric_price:l?.product_detail?.eletric_price||0,water_price:l?.product_detail?.water_price||0,internet_price:l?.product_detail?.internet_price||0,legal_documents:l?.product_detail?.legal_documents||"",form_of_ownership:l?.product_detail?.form_of_ownership||"",management_and_operation_unit:l?.product_detail?.management_and_operation_unit||"",project_scale:l?.product_detail?.project_scale||""}),tag_ids:l?.tag?.map(y=>y.id)||[]};console.log("Form data to patch:",_),console.log("Content type:",typeof m),console.log("Content value:",m),setTimeout(()=>{this.productForm.patchValue(_);let y=l.address_detail.google_address_link;if(y&&this.map){let T=y.match(/mlat=([\d.]+)&mlon=([\d.]+)/);if(T){let M=parseFloat(T[1]),V=parseFloat(T[2]);this.map.setView([M,V],16),this.marker.setLatLng([M,V]),this.searchQuery=l.address_detail.address}}if(l.images?.length){let T=l.images.find(V=>V.file_type==="cover");T&&(this.existingCoverImage=T,this.coverImageList=[{uid:T.id.toString(),name:T.file_name,status:"done",url:`https://lh3.googleusercontent.com/d/${T.drive_id}`,isExisting:!0,originalData:T}]);let M=l.images.filter(V=>V.file_type==="product");M.length&&(this.existingProductImages=M,this.productImageList=M.map(V=>({uid:V.id.toString(),name:V.file_name,status:"done",url:`https://lh3.googleusercontent.com/d/${V.drive_id}`,isExisting:!0,originalData:V})))}this.loading=!1})},error:n=>{this.message.error("C\xF3 l\u1ED7i x\u1EA3y ra khi t\u1EA3i th\xF4ng tin s\u1EA3n ph\u1EA9m"),this.loading=!1}})}beforeUploadCover=r=>{this.coverImageList=[r],this.tempCoverFile=r,this.productForm.patchValue({cover_image:r});let n=new FileReader;return n.readAsDataURL(r),n.onload=()=>{this.previewImage=n.result},!1};beforeUploadProductImages=r=>{this.productImageList=[...this.productImageList,r],this.tempProductFiles.push(r);let n=this.productForm.get("product_images")?.value||[];return this.productForm.patchValue({product_images:[...n,r]}),!1};handleRemoveCover=r=>this.onRemoveImage(r,"cover");handleRemoveProduct=r=>this.onRemoveImage(r,"product");onRemoveImage=(r,n)=>{if(r.isExisting){let l=parseInt(r.uid);isNaN(l)||this.removedImageIds.push(l)}if(n==="cover")this.coverImageList=[],this.productForm.patchValue({cover_image:null});else{let l=this.productImageList.indexOf(r);this.productImageList=this.productImageList.filter(y=>y.uid!==r.uid);let _=[...this.productForm.get("product_images")?.value||[]];_.splice(l,1),this.productForm.patchValue({product_images:_})}return!0};onSubmit(){return di(this,null,function*(){console.log(this.productForm,"check");let r=()=>{let n=[],l=this.productForm.controls;for(let m in l){let _=l[m];if(_.invalid)if(console.log(`Control ${m} is invalid:`,{errors:_.errors,value:_.value}),_ instanceof $r)for(let y in _.controls){let T=_.controls[y];T.invalid&&(console.log(`Child control ${m}.${y} is invalid:`,{errors:T.errors,value:T.value}),n.push(`${m}.${y}`))}else n.push(m)}return n};if(this.productForm.invalid){console.log("Invalid controls:",r()),this.message.warning("Vui l\xF2ng \u0111i\u1EC1n \u0111\u1EA7y \u0111\u1EE7 th\xF4ng tin b\u1EAFt bu\u1ED9c");return}if(this.productForm.valid){this.loading=!0;try{let n=this.productForm.value,l=n.category_id,m=n.product_detail.content;if(l===7)try{m=typeof m=="object"?JSON.stringify(m):m}catch(M){console.error("Error processing project content:",M),m=JSON.stringify({blocks:[]})}else m=typeof m=="string"?m:"";let _={name:n.name,slug:n.slug,category_id:n.category_id,product_parent_id:n.product_parent_id,address_detail:n.address_detail,product_detail:mt(q({},n.product_detail),{content:m}),tag_ids:n.tag_ids||[]},y;this.isEdit&&this.productId?(y=yield this.productService.updateProduct(this.productId,_).toPromise(),this.message.success("C\u1EADp nh\u1EADt s\u1EA3n ph\u1EA9m th\xE0nh c\xF4ng")):(y=yield this.productService.createProduct(_).toPromise(),this.message.success("T\u1EA1o s\u1EA3n ph\u1EA9m th\xE0nh c\xF4ng"));let T=y?.data?.product_detail?.id;if(!T)throw new Error("Kh\xF4ng nh\u1EADn \u0111\u01B0\u1EE3c product_detail_id t\u1EEB server");try{if(this.removedImageIds.length>0){let M=this.removedImageIds.map(V=>this.productService.deleteImage(V,this.existingCoverImage?.drive_id).toPromise());yield Promise.all(M)}if(this.tempCoverFile&&(yield this.productService.uploadImage(this.tempCoverFile,"cover",T).toPromise()),this.tempProductFiles.length>0){let M=this.tempProductFiles.map(V=>this.productService.uploadImage(V,"product",T).toPromise());yield Promise.all(M)}}catch(M){this.message.warning("S\u1EA3n ph\u1EA9m \u0111\xE3 \u0111\u01B0\u1EE3c t\u1EA1o nh\u01B0ng c\xF3 l\u1ED7i khi t\u1EA3i \u1EA3nh l\xEAn"),console.error("Upload image error:",M)}this.router.navigate(["/products"])}catch(n){this.message.error("C\xF3 l\u1ED7i x\u1EA3y ra: "+(n.error?.message||n.message||"Vui l\xF2ng th\u1EED l\u1EA1i"))}finally{this.loading=!1}}})}onCancel(){this.router.navigate(["/products"])}handlePreview=r=>di(this,null,function*(){!r.url&&!r.preview&&(r.preview=yield new Promise((n,l)=>{let m=new FileReader;m.readAsDataURL(r.originFileObj),m.onload=()=>n(m.result),m.onerror=_=>l(_)})),this.previewImage=r.url||r.preview,this.previewVisible=!0});formatterVND=r=>r?`${r.toLocaleString("vi-VN")} VN\u0110`:"0 VN\u0110";parserVND=r=>{try{let n=String(r);return Number(n.replace(/[^\d]/g,""))||0}catch{return 0}};categoryValidator(r){let n=r.value;return this.productForm?.get("product_parent_id")?.value&&n===7?{invalidCategory:!0}:null}loadProjects(){this.productService.getProductByProject().subscribe({next:r=>{r.data&&(this.projects=r.data)},error:r=>{this.message.error("C\xF3 l\u1ED7i x\u1EA3y ra khi t\u1EA3i danh s\xE1ch d\u1EF1 \xE1n")}})}get contentControl(){return this.productForm.get("product_detail.content")}static \u0275fac=function(n){return new(n||o)(pt(Qr),pt(Ve),pt(xa),pt(_i),pt(na),pt(Re),pt(_o),pt(Pa))};static \u0275cmp=Y({type:o,selectors:[["app-product-form"]],viewQuery:function(n,l){if(n&1&&Rr(kp,5),n&2){let m;Zr(m=Wr())&&(l.mapContainer=m.first)}},standalone:!1,decls:199,vars:123,consts:[["pageTitle",""],["nameErrorTpl",""],["slugErrorTpl",""],["projectErrorTpl",""],["categoryErrorTpl",""],["searchButton",""],["mapContainer",""],["priceErrorTpl",""],["priceToErrorTpl",""],["tagPlaceHolder",""],["modalContent",""],[3,"nzSpinning","nzTip"],[1,"container-fluid"],[3,"nzTitle"],["nz-form","",3,"formGroup"],["nzText","Th\xF4ng tin c\u01A1 b\u1EA3n"],["nz-icon","","nzType","info-circle",2,"margin-right","8px"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzXs","nzSm","nzMd"],["nzRequired",""],[3,"nzErrorTip"],["nz-input","","formControlName","name","placeholder","Nh\u1EADp t\xEAn s\u1EA3n ph\u1EA9m"],["nz-input","","formControlName","slug","placeholder","Nh\u1EADp slug"],["formControlName","product_parent_id","nzPlaceHolder","Ch\u1ECDn d\u1EF1 \xE1n","nzAllowClear","",3,"nzShowSearch"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["formControlName","category_id","nzPlaceHolder","Ch\u1ECDn danh m\u1EE5c",3,"nzShowSearch"],["nzText","\u0110\u1ECBa ch\u1EC9 v\xE0 v\u1ECB tr\xED"],["nz-icon","","nzType","environment",2,"margin-right","8px"],["formGroupName","address_detail"],["nz-col","",3,"nzSpan"],[3,"nzSuffix"],["nz-input","","placeholder","Nh\u1EADp \u0111\u1ECBa ch\u1EC9 \u0111\u1EC3 t\xECm ki\u1EBFm",3,"ngModelChange","keyup.enter","ngModel","ngModelOptions"],[1,"map-container",2,"height","400px"],["nzErrorTip","Vui l\xF2ng nh\u1EADp \u0111\u1ECBa ch\u1EC9 \u0111\u1EA7y \u0111\u1EE7"],["nz-input","","formControlName","address","placeholder","\u0110\u1ECBa ch\u1EC9 \u0111\u1EA7y \u0111\u1EE7"],["nzErrorTip","Vui l\xF2ng ch\u1ECDn t\u1EC9nh/th\xE0nh ph\u1ED1"],["nz-input","","formControlName","province","placeholder","T\u1EC9nh/Th\xE0nh ph\u1ED1"],["nzErrorTip","Vui l\xF2ng ch\u1ECDn qu\u1EADn/huy\u1EC7n"],["nz-input","","formControlName","district","placeholder","Qu\u1EADn/Huy\u1EC7n"],["nzErrorTip","Vui l\xF2ng ch\u1ECDn ph\u01B0\u1EDDng/x\xE3"],["nz-input","","formControlName","ward","placeholder","Ph\u01B0\u1EDDng/X\xE3"],["nzText","Th\xF4ng tin chi ti\u1EBFt"],["nz-icon","","nzType","profile",2,"margin-right","8px"],["formGroupName","product_detail"],["nzErrorTip","Vui l\xF2ng ch\u1ECDn lo\u1EA1i h\xECnh s\u1EA3n ph\u1EA9m"],["formControlName","type_product","nzPlaceHolder","Ch\u1ECDn lo\u1EA1i h\xECnh s\u1EA3n ph\u1EA9m"],["formControlName","bedroom",3,"nzMin","nzStep","nzPrecision"],["formControlName","bathroom",3,"nzMin","nzStep","nzPrecision"],["nzErrorTip","Vui l\xF2ng nh\u1EADp di\u1EC7n t\xEDch"],["formControlName","area",3,"nzMin","nzStep","nzPrecision"],["nz-col","",3,"nzXs","nzSm"],["formControlName","price",3,"nzMin","nzStep","nzFormatter","nzParser"],["formControlName","price_to",3,"nzMin","nzStep","nzFormatter","nzParser"],[4,"ngIf"],["nz-row","",3,"nzGutter",4,"ngIf"],["nz-input","","formControlName","utilities","placeholder","Nh\u1EADp th\xF4ng tin ti\u1EC7n \xEDch",3,"nzAutosize"],["nz-input","","formControlName","interiol","placeholder","Nh\u1EADp th\xF4ng tin n\u1ED9i th\u1EA5t",3,"nzAutosize"],["nzText","Tags"],["nz-icon","","nzType","tags",2,"margin-right","8px"],["formControlName","tag_ids","nzMode","multiple","nzPlaceHolder","Ch\u1ECDn tags",3,"nzMaxTagCount","nzMaxTagPlaceholder"],[3,"nzValue","nzLabel","nzCustomContent",4,"ngFor","ngForOf"],["nzText","H\xECnh \u1EA3nh"],["nz-icon","","nzType","picture",2,"margin-right","8px"],["nzErrorTip","Vui l\xF2ng t\u1EA3i l\xEAn \u1EA3nh b\xECa"],["nzListType","picture-card",3,"nzFileListChange","nzFileList","nzShowButton","nzBeforeUpload","nzRemove","nzPreview"],["nz-icon","","nzType","plus"],[2,"margin-top","8px"],["nzErrorTip","Vui l\xF2ng t\u1EA3i l\xEAn \xEDt nh\u1EA5t m\u1ED9t \u1EA3nh s\u1EA3n ph\u1EA9m"],[3,"nzOnCancel","nzVisible","nzContent","nzFooter"],["nz-row","",1,"button-group",3,"nzJustify"],["nz-button","","nzType","default",3,"click"],["nz-icon","","nzType","close-circle"],["nz-button","","nzType","primary",3,"click","nzLoading"],["nz-icon","",3,"nzType"],[2,"display","flex","align-items","center"],["nz-icon","",2,"margin-right","8px",3,"nzType"],[3,"nzValue","nzLabel"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","search"],["nzErrorTip","Vui l\xF2ng ch\u1ECDn lo\u1EA1i d\u1EF1 \xE1n"],["formControlName","project_type","nzPlaceHolder","Ch\u1ECDn lo\u1EA1i d\u1EF1 \xE1n"],["nzErrorTip","Vui l\xF2ng ch\u1ECDn tr\u1EA1ng th\xE1i d\u1EF1 \xE1n"],["formControlName","project_status","nzPlaceHolder","Ch\u1ECDn tr\u1EA1ng th\xE1i"],["nz-input","","formControlName","legal_documents","placeholder","Nh\u1EADp th\xF4ng tin ph\xE1p l\xFD",3,"nzAutosize"],["nz-input","","formControlName","form_of_ownership","placeholder","Nh\u1EADp h\xECnh th\u1EE9c s\u1EDF h\u1EEFu",3,"nzAutosize"],["nz-input","","formControlName","management_and_operation_unit","placeholder","Nh\u1EADp th\xF4ng tin \u0111\u01A1n v\u1ECB qu\u1EA3n l\xFD v\u1EADn h\xE0nh",3,"nzAutosize"],["nz-input","","formControlName","project_scale","placeholder","Nh\u1EADp th\xF4ng tin quy m\xF4 d\u1EF1 \xE1n",3,"nzAutosize"],["nzErrorTip","Vui l\xF2ng nh\u1EADp t\xEAn ch\u1EE7 \u0111\u1EA7u t\u01B0"],["nz-input","","formControlName","investor","placeholder","Nh\u1EADp t\xEAn ch\u1EE7 \u0111\u1EA7u t\u01B0"],["nzText","Chi ph\xED ti\u1EC7n \xEDch"],["nz-icon","","nzType","dollar",2,"margin-right","8px"],["formControlName","eletric_price",3,"nzMin","nzStep","nzFormatter","nzParser"],["formControlName","water_price",3,"nzMin","nzStep","nzFormatter","nzParser"],["formControlName","internet_price",3,"nzMin","nzStep","nzFormatter","nzParser"],[3,"nzSpan"],[3,"formControl"],["nzErrorTip","Vui l\xF2ng nh\u1EADp m\xF4 t\u1EA3 chi ti\u1EBFt"],["formControlName","content",3,"init"],[3,"nzValue","nzLabel","nzCustomContent"],[3,"ngStyle"],["onerror","this.src='assets/images/default_property.jpeg'",2,"width","100%",3,"src"]],template:function(n,l){if(n&1){let m=Z();u(0,"nz-spin",11)(1,"div",12)(2,"nz-card",13),x(3,wp,3,2,"ng-template",null,0,Bt),u(5,"form",14)(6,"nz-divider",15),P(7,"i",16),g(8," Th\xF4ng tin c\u01A1 b\u1EA3n "),p(),u(9,"div",17)(10,"div",18)(11,"nz-form-item")(12,"nz-form-label",19),g(13,"T\xEAn s\u1EA3n ph\u1EA9m"),p(),u(14,"nz-form-control",20),P(15,"input",21),x(16,Op,2,2,"ng-template",null,1,Bt),p()()(),u(18,"div",18)(19,"nz-form-item")(20,"nz-form-label",19),g(21,"Slug"),p(),u(22,"nz-form-control",20),P(23,"input",22),x(24,Bp,2,2,"ng-template",null,2,Bt),p()()()(),u(26,"div",17)(27,"div",18)(28,"nz-form-item")(29,"nz-form-label"),g(30,"Thu\u1ED9c d\u1EF1 \xE1n"),p(),u(31,"nz-form-control",20)(32,"nz-select",23),x(33,Ip,1,2,"nz-option",24),p(),x(34,Dp,1,1,"ng-template",null,3,Bt),p()()(),u(36,"div",18)(37,"nz-form-item")(38,"nz-form-label",19),g(39,"Danh m\u1EE5c"),p(),u(40,"nz-form-control",20)(41,"nz-select",25),x(42,Ap,1,2,"nz-option",24),p(),x(43,Rp,2,2,"ng-template",null,4,Bt),p()()()(),u(45,"nz-divider",26),P(46,"i",27),g(47," \u0110\u1ECBa ch\u1EC9 v\xE0 v\u1ECB tr\xED "),p(),u(48,"div",28)(49,"div",17)(50,"div",29)(51,"nz-form-item")(52,"nz-form-label",19),g(53,"T\xECm ki\u1EBFm \u0111\u1ECBa ch\u1EC9"),p(),u(54,"nz-form-control")(55,"nz-input-group",30)(56,"input",31),A("ngModelChange",function(y){return w(m),D(l.searchQuery,y)||(l.searchQuery=y),E(y)}),k("keyup.enter",function(){return w(m),E(l.onSearch())}),p()(),x(57,Zp,2,0,"ng-template",null,5,Bt),p()()()(),u(59,"div",17)(60,"div",29),P(61,"div",32,6),p()(),u(63,"div",17)(64,"div",29)(65,"nz-form-item")(66,"nz-form-label",19),g(67,"\u0110\u1ECBa ch\u1EC9 \u0111\u1EA7y \u0111\u1EE7"),p(),u(68,"nz-form-control",33),P(69,"input",34),p()()()(),u(70,"div",17)(71,"div",18)(72,"nz-form-item")(73,"nz-form-label",19),g(74,"T\u1EC9nh/Th\xE0nh ph\u1ED1"),p(),u(75,"nz-form-control",35),P(76,"input",36),p()()(),u(77,"div",18)(78,"nz-form-item")(79,"nz-form-label",19),g(80,"Qu\u1EADn/Huy\u1EC7n"),p(),u(81,"nz-form-control",37),P(82,"input",38),p()()(),u(83,"div",18)(84,"nz-form-item")(85,"nz-form-label",19),g(86,"Ph\u01B0\u1EDDng/X\xE3"),p(),u(87,"nz-form-control",39),P(88,"input",40),p()()()()(),u(89,"nz-divider",41),P(90,"i",42),g(91," Th\xF4ng tin chi ti\u1EBFt "),p(),u(92,"div",43)(93,"div",17)(94,"div",18)(95,"nz-form-item")(96,"nz-form-label",19),g(97,"Lo\u1EA1i h\xECnh s\u1EA3n ph\u1EA9m"),p(),u(98,"nz-form-control",44)(99,"nz-select",45),x(100,Wp,1,2,"nz-option",24),p()()()()(),u(101,"div",17)(102,"div",18)(103,"nz-form-item")(104,"nz-form-label"),g(105,"S\u1ED1 ph\xF2ng ng\u1EE7"),p(),u(106,"nz-form-control"),P(107,"nz-input-number",46),p()()(),u(108,"div",18)(109,"nz-form-item")(110,"nz-form-label"),g(111,"S\u1ED1 ph\xF2ng t\u1EAFm"),p(),u(112,"nz-form-control"),P(113,"nz-input-number",47),p()()(),u(114,"div",18)(115,"nz-form-item")(116,"nz-form-label",19),g(117,"Di\u1EC7n t\xEDch (m\xB2)"),p(),u(118,"nz-form-control",48),P(119,"nz-input-number",49),p()()()(),u(120,"div",17)(121,"div",50)(122,"nz-form-item")(123,"nz-form-label",19),g(124,"Gi\xE1 t\u1EEB"),p(),u(125,"nz-form-control",20),P(126,"nz-input-number",51),x(127,Gp,2,2,"ng-template",null,7,Bt),p()()(),u(129,"div",50)(130,"nz-form-item")(131,"nz-form-label"),g(132,"Gi\xE1 \u0111\u1EBFn"),p(),u(133,"nz-form-control",20),P(134,"nz-input-number",52),x(135,$p,2,2,"ng-template",null,8,Bt),p()()()(),x(137,Jp,16,9,"ng-container",53)(138,Yp,13,11,"div",54)(139,Qp,13,11,"div",54)(140,tm,7,2,"div",54)(141,em,23,22,"ng-container",53),u(142,"div",17)(143,"div",18)(144,"nz-form-item")(145,"nz-form-label"),g(146,"Ti\u1EC7n \xEDch"),p(),u(147,"nz-form-control"),P(148,"textarea",55),p()()(),u(149,"div",18)(150,"nz-form-item")(151,"nz-form-label"),g(152,"N\u1ED9i th\u1EA5t"),p(),u(153,"nz-form-control"),P(154,"textarea",56),p()()()(),x(155,nm,5,3,"nz-form-item",53)(156,im,5,1,"nz-form-item",53),p(),u(157,"nz-divider",57),P(158,"i",58),g(159," Tags "),p(),u(160,"nz-form-item")(161,"nz-form-label"),g(162,"Tags"),p(),u(163,"nz-form-control")(164,"nz-select",59),x(165,om,3,7,"nz-option",60),p(),x(166,rm,1,1,"ng-template",null,9,Bt),p()(),u(168,"nz-divider",61),P(169,"i",62),g(170," H\xECnh \u1EA3nh "),p(),u(171,"nz-form-item")(172,"nz-form-label",19),g(173,"\u1EA2nh b\xECa"),p(),u(174,"nz-form-control",63)(175,"nz-upload",64),A("nzFileListChange",function(y){return w(m),D(l.coverImageList,y)||(l.coverImageList=y),E(y)}),u(176,"div"),P(177,"i",65),u(178,"div",66),g(179,"T\u1EA3i l\xEAn \u1EA3nh b\xECa"),p()()()()(),u(180,"nz-form-item")(181,"nz-form-label",19),g(182,"\u1EA2nh s\u1EA3n ph\u1EA9m"),p(),u(183,"nz-form-control",67)(184,"nz-upload",64),A("nzFileListChange",function(y){return w(m),D(l.productImageList,y)||(l.productImageList=y),E(y)}),u(185,"div"),P(186,"i",65),u(187,"div",66),g(188,"T\u1EA3i l\xEAn \u1EA3nh s\u1EA3n ph\u1EA9m"),p()()()()(),u(189,"nz-modal",68),k("nzOnCancel",function(){return w(m),E(l.previewVisible=!1)}),x(190,am,1,1,"ng-template",null,10,Bt),p(),u(192,"div",69)(193,"button",70),k("click",function(){return w(m),E(l.onCancel())}),P(194,"i",71),g(195," H\u1EE7y "),p(),u(196,"button",72),k("click",function(){return w(m),E(l.onSubmit())}),P(197,"i",73),g(198),p()()()()()()}if(n&2){let m,_,y,T,M,V,Tt,He=Ot(4),ze=Ot(17),it=Ot(25),Hn=Ot(35),Ti=Ot(44),Un=Ot(58),jt=Ot(128),Pn=Ot(136),Xe=Ot(167),kn=Ot(191);d("nzSpinning",l.loading)("nzTip","\u0110ang x\u1EED l\xFD..."),s(2),d("nzTitle",He),s(3),d("formGroup",l.productForm),s(4),d("nzGutter",24),s(),d("nzXs",24)("nzSm",24)("nzMd",12),s(4),d("nzErrorTip",ze),s(4),d("nzXs",24)("nzSm",24)("nzMd",12),s(4),d("nzErrorTip",it),s(4),d("nzGutter",24),s(),d("nzXs",24)("nzSm",24)("nzMd",12),s(4),d("nzErrorTip",Hn),s(),d("nzShowSearch",!0),s(),d("ngForOf",l.projects),s(3),d("nzXs",24)("nzSm",24)("nzMd",12),s(4),d("nzErrorTip",Ti),s(),d("nzShowSearch",!0),s(),d("ngForOf",l.categories),s(7),d("nzGutter",24),s(),d("nzSpan",24),s(5),d("nzSuffix",Un),s(),N("ngModel",l.searchQuery),d("ngModelOptions",_t(120,zp)),s(3),d("nzGutter",24),s(),d("nzSpan",24),s(3),d("nzGutter",24),s(),d("nzSpan",24),s(6),d("nzGutter",24),s(),d("nzXs",24)("nzSm",24)("nzMd",8),s(6),d("nzXs",24)("nzSm",24)("nzMd",8),s(6),d("nzXs",24)("nzSm",24)("nzMd",8),s(10),d("nzGutter",24),s(),d("nzXs",24)("nzSm",24)("nzMd",12),s(6),d("ngForOf",l.typeProducts),s(),d("nzGutter",24),s(),d("nzXs",24)("nzSm",12)("nzMd",8),s(5),d("nzMin",0)("nzStep",1)("nzPrecision",0),s(),d("nzXs",24)("nzSm",12)("nzMd",8),s(5),d("nzMin",0)("nzStep",1)("nzPrecision",0),s(),d("nzXs",24)("nzSm",12)("nzMd",8),s(5),d("nzMin",0)("nzStep",1)("nzPrecision",0),s(),d("nzGutter",24),s(),d("nzXs",24)("nzSm",12),s(4),d("nzErrorTip",jt),s(),d("nzMin",0)("nzStep",1e6)("nzFormatter",l.formatterVND)("nzParser",l.parserVND),s(3),d("nzXs",24)("nzSm",12),s(4),d("nzErrorTip",Pn),s(),d("nzMin",0)("nzStep",1e6)("nzFormatter",l.formatterVND)("nzParser",l.parserVND),s(3),d("ngIf",((m=l.productForm.get("category_id"))==null?null:m.value)===7),s(),d("ngIf",((_=l.productForm.get("category_id"))==null?null:_.value)===7),s(),d("ngIf",((y=l.productForm.get("category_id"))==null?null:y.value)===7),s(),d("ngIf",((T=l.productForm.get("category_id"))==null?null:T.value)===7),s(),d("ngIf",((M=l.productForm.get("product_detail.type_product"))==null?null:M.value)==="rent"),s(),d("nzGutter",24),s(),d("nzXs",24)("nzSm",24)("nzMd",12),s(5),d("nzAutosize",_t(121,xn)),s(),d("nzXs",24)("nzSm",24)("nzMd",12),s(5),d("nzAutosize",_t(122,xn)),s(),d("ngIf",((V=l.productForm.get("category_id"))==null?null:V.value)===7),s(),d("ngIf",l.productForm&&((Tt=l.productForm.get("category_id"))==null?null:Tt.value)!==7),s(8),d("nzMaxTagCount",3)("nzMaxTagPlaceholder",Xe),s(),d("ngForOf",l.tags),s(10),N("nzFileList",l.coverImageList),d("nzShowButton",l.coverImageList.length<1)("nzBeforeUpload",l.beforeUploadCover)("nzRemove",l.handleRemoveCover)("nzPreview",l.handlePreview),s(9),N("nzFileList",l.productImageList),d("nzShowButton",l.productImageList.length<8)("nzBeforeUpload",l.beforeUploadProductImages)("nzRemove",l.handleRemoveProduct)("nzPreview",l.handlePreview),s(5),d("nzVisible",l.previewVisible)("nzContent",kn)("nzFooter",null),s(3),d("nzJustify","end"),s(4),d("nzLoading",l.loading),s(),d("nzType",l.isEdit?"save":"plus-circle"),s(),F(" ",l.isEdit?"C\u1EADp nh\u1EADt":"T\u1EA1o m\u1EDBi"," ")}},dependencies:[rt,Et,Ur,Ft,ht,at,At,lt,Xr,Kr,Yr,Jr,st,ft,gi,fe,hi,gt,ct,St,ne,Ct,vt,Vt,yt,xt,bt,bi,pa,ve,Ce,dn,un,ye,xi,Si],styles:[".container-fluid[_ngcontent-%COMP%]{padding:24px;background-color:#f0f2f5;min-height:100vh}[_nghost-%COMP%]     .ant-card{border-radius:8px;box-shadow:0 1px 2px #00000008,0 1px 6px -1px #00000005,0 2px 4px #00000005}[_nghost-%COMP%]     .ant-card .ant-card-head{border-bottom:1px solid #f0f0f0;margin-bottom:24px}[_nghost-%COMP%]     .ant-divider{margin:32px 0 24px;color:#1890ff;font-weight:500}[_nghost-%COMP%]     .ant-form-item{margin-bottom:24px}[_nghost-%COMP%]     .ant-form-item .ant-form-item-label{padding-bottom:8px}[_nghost-%COMP%]     .ant-form-item .ant-form-item-label label{font-weight:500;color:#262626}[_nghost-%COMP%]     .ant-form-item .ant-form-item-label label.ant-form-item-required:before{color:#ff4d4f}[_nghost-%COMP%]     .ant-input, [_nghost-%COMP%]     .ant-input-number, [_nghost-%COMP%]     .ant-select-selector, [_nghost-%COMP%]     .ant-picker{border-radius:6px}[_nghost-%COMP%]     .ant-input:hover, [_nghost-%COMP%]     .ant-input:focus, [_nghost-%COMP%]     .ant-input-number:hover, [_nghost-%COMP%]     .ant-input-number:focus, [_nghost-%COMP%]     .ant-select-selector:hover, [_nghost-%COMP%]     .ant-select-selector:focus, [_nghost-%COMP%]     .ant-picker:hover, [_nghost-%COMP%]     .ant-picker:focus{border-color:#1890ff}[_nghost-%COMP%]     .ant-input-number{width:100%}[_nghost-%COMP%]     .ant-upload-list-picture-card .ant-upload-list-item{padding:4px;border-radius:8px}[_nghost-%COMP%]     .ant-upload.ant-upload-select-picture-card{border-radius:8px;border:2px dashed #d9d9d9;background-color:#fafafa}[_nghost-%COMP%]     .ant-upload.ant-upload-select-picture-card:hover{border-color:#1890ff}[_nghost-%COMP%]     .map-container{border-radius:8px;overflow:hidden;border:1px solid #f0f0f0;margin-bottom:24px}[_nghost-%COMP%]     .tox-tinymce{border-radius:6px;border-color:#d9d9d9}[_nghost-%COMP%]     .button-group{margin-top:32px;padding-top:24px;border-top:1px solid #f0f0f0}[_nghost-%COMP%]     .button-group button{min-width:120px;height:40px;border-radius:6px}[_nghost-%COMP%]     .button-group button:not(:last-child){margin-right:16px}[_nghost-%COMP%]     .ant-input-group{display:flex}[_nghost-%COMP%]     .ant-input-group .ant-input{border-top-right-radius:0;border-bottom-right-radius:0}[_nghost-%COMP%]     .ant-input-group .ant-btn{border-top-left-radius:0;border-bottom-left-radius:0}[_nghost-%COMP%]     .ant-row{margin-bottom:8px}@media (max-width: 768px){[_nghost-%COMP%]     .ant-col{margin-bottom:16px}[_nghost-%COMP%]     .button-group{text-align:center}[_nghost-%COMP%]     .button-group button{width:100%;margin:8px 0!important}}"]})};var lm=[{path:"",component:Pi},{path:"create",component:Wn},{path:":id/edit",component:Wn}],Oi=class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=sn({type:o});static \u0275inj=an({imports:[go.forChild(lm),go]})};var nl=class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=sn({type:o});static \u0275inj=an({imports:[Gr,Oi,ta,ea,Na,za,Va.forRoot(),ra,sa,ya,la,da,oa,ua,ba,La,ka,Ea,wa,ca,Ta,Da]})};export{nl as ProductsModule};
