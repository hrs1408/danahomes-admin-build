import{a as he,b as fa,c as di,d as va,e as Ca}from"./chunk-SQQMMAWU.js";import{c as za,d as Ma,e as wa,f as La}from"./chunk-5HUSA6XP.js";import{d as Oa,e as Ta}from"./chunk-HOQXWV5Q.js";import"./chunk-2ZTQXBWQ.js";import{a as fi,b as Ba}from"./chunk-XNRET63A.js";import{a as ta,e as Ea,f as Sa}from"./chunk-G6FZDIDC.js";import{a as an,b as ka}from"./chunk-2L5DBF7Z.js";import{a as ha}from"./chunk-DEP4TZPA.js";import{a as pi,b as mi,c as _i,d as hi,e as ya,f as xa,g as gi,h as Pa}from"./chunk-ETRTXXDH.js";import{a as rn,b as ra,c as ie,d as oe,e as aa,h as Ne,m as Ae,n as la,q as ca,r as da,s as ua,t as pa,u as ma,v as _a}from"./chunk-32O6T273.js";import{i as sa}from"./chunk-VKECVN4O.js";import{c as ne,d as oa}from"./chunk-EZMGYHDF.js";import{$a as na,A as Jr,Cb as ba,Da as ut,Db as ui,Ea as Ot,Ga as zt,Ha as Qr,Ua as _e,Za as Mt,_a as ea,ab as ia,bb as pt,cb as mt,i as Zr,l as kt,m as nt,n as st,o as Nt,p as Wr,q as Ut,r as ct,s as At,t as Hr,u as Gr,v as Ur,vb as _t,w as qr,wb as Ft,x as jr,xb as ht,y as $r,yb as gt,z as Xr,zb as ga}from"./chunk-HE37FQTW.js";import{$ as Lr,$b as De,Ab as f,Ac as Fr,F as se,Fb as Ir,Ga as nn,Gb as Dr,Gc as Vr,Ha as J,Hb as Nr,I as ce,Ia as Be,Ka as c,Lb as Et,Mb as g,Nb as S,Oa as Lt,Ob as D,Qb as N,Rb as A,S as Or,Sb as F,Ta as Y,Tb as co,Tc as Rr,Ua as on,Ub as St,Vb as Ar,Vc as Kr,Wa as Br,Xc as ci,Y as Tr,Za as x,Zb as Ie,_ as en,_c as uo,a as ai,bb as d,cb as W,cc as Bt,d as te,db as $t,fb as ee,he as dt,ie as Yr,ja as w,ka as E,pb as u,qa as Ct,qb as p,ra as so,rb as P,sb as Q,tb as tt,vb as Z,wc as rt,xc as Pt,yb as k,yc as li,zc as si}from"./chunk-46UV5TEE.js";import{a as j,b as vt,d as Ms,f as ws,g as ri}from"./chunk-GAL4ENT6.js";var Va=Ms((Ci,Fa)=>{"use strict";(function(o,a){typeof Ci=="object"&&typeof Fa<"u"?a(Ci):typeof define=="function"&&define.amd?define(["exports"],a):(o=typeof globalThis<"u"?globalThis:o||self,a(o.leaflet={}))})(Ci,function(o){"use strict";var a="1.9.4";function n(t){var e,i,r,s;for(i=1,r=arguments.length;i<r;i++){s=arguments[i];for(e in s)t[e]=s[e]}return t}var l=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function m(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var r=i.call(arguments,2);return function(){return t.apply(e,r.length?r.concat(i.call(arguments)):arguments)}}var _=0;function b(t){return"_leaflet_id"in t||(t._leaflet_id=++_),t._leaflet_id}function T(t,e,i){var r,s,h,v;return v=function(){r=!1,s&&(h.apply(i,s),s=!1)},h=function(){r?s=arguments:(t.apply(i,arguments),setTimeout(v,e),r=!0)},h}function M(t,e,i){var r=e[1],s=e[0],h=r-s;return t===r&&i?t:((t-s)%h+h)%h+s}function V(){return!1}function Vt(t,e){if(e===!1)return t;var i=Math.pow(10,e===void 0?6:e);return Math.round(t*i)/i}function Re(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function ye(t){return Re(t).split(/\s+/)}function it(t,e){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?l(t.options):{});for(var i in e)t.options[i]=e[i];return t.options}function An(t,e,i){var r=[];for(var s in t)r.push(encodeURIComponent(i?s.toUpperCase():s)+"="+encodeURIComponent(t[s]));return(!e||e.indexOf("?")===-1?"?":"&")+r.join("&")}var zi=/\{ *([\w_ -]+) *\}/g;function Fn(t,e){return t.replace(zi,function(i,r){var s=e[r];if(s===void 0)throw new Error("No value provided for variable "+i);return typeof s=="function"&&(s=s(e)),s})}var qt=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function vn(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}var Vn="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Mi(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var go=0;function fo(t){var e=+new Date,i=Math.max(0,16-(e-go));return go=e+i,window.setTimeout(t,i)}var wi=window.requestAnimationFrame||Mi("RequestAnimationFrame")||fo,vo=window.cancelAnimationFrame||Mi("CancelAnimationFrame")||Mi("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function Zt(t,e,i){if(i&&wi===fo)t.call(e);else return wi.call(window,m(t,e))}function Kt(t){t&&vo.call(window,t)}var tl={__proto__:null,extend:n,create:l,bind:m,get lastId(){return _},stamp:b,throttle:T,wrapNum:M,falseFn:V,formatNum:Vt,trim:Re,splitWords:ye,setOptions:it,getParamString:An,template:Fn,isArray:qt,indexOf:vn,emptyImageUrl:Vn,requestFn:wi,cancelFn:vo,requestAnimFrame:Zt,cancelAnimFrame:Kt};function xe(){}xe.extend=function(t){var e=function(){it(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=e.__super__=this.prototype,r=l(i);r.constructor=e,e.prototype=r;for(var s in this)Object.prototype.hasOwnProperty.call(this,s)&&s!=="prototype"&&s!=="__super__"&&(e[s]=this[s]);return t.statics&&n(e,t.statics),t.includes&&(el(t.includes),n.apply(null,[r].concat(t.includes))),n(r,t),delete r.statics,delete r.includes,r.options&&(r.options=i.options?l(i.options):{},n(r.options,t.options)),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var h=0,v=r._initHooks.length;h<v;h++)r._initHooks[h].call(this)}},e},xe.include=function(t){var e=this.prototype.options;return n(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},xe.mergeOptions=function(t){return n(this.prototype.options,t),this},xe.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i=typeof t=="function"?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};function el(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=qt(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var jt={on:function(t,e,i){if(typeof t=="object")for(var r in t)this._on(r,t[r],e);else{t=ye(t);for(var s=0,h=t.length;s<h;s++)this._on(t[s],e,i)}return this},off:function(t,e,i){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var r in t)this._off(r,t[r],e);else{t=ye(t);for(var s=arguments.length===1,h=0,v=t.length;h<v;h++)s?this._off(t[h]):this._off(t[h],e,i)}return this},_on:function(t,e,i,r){if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}if(this._listens(t,e,i)===!1){i===this&&(i=void 0);var s={fn:e,ctx:i};r&&(s.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(s)}},_off:function(t,e,i){var r,s,h;if(this._events&&(r=this._events[t],!!r)){if(arguments.length===1){if(this._firingCount)for(s=0,h=r.length;s<h;s++)r[s].fn=V;delete this._events[t];return}if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}var v=this._listens(t,e,i);if(v!==!1){var C=r[v];this._firingCount&&(C.fn=V,this._events[t]=r=r.slice()),r.splice(v,1)}}},fire:function(t,e,i){if(!this.listens(t,i))return this;var r=n({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var s=this._events[t];if(s){this._firingCount=this._firingCount+1||1;for(var h=0,v=s.length;h<v;h++){var C=s[h],y=C.fn;C.once&&this.off(t,y,C.ctx),y.call(C.ctx||this,r)}this._firingCount--}}return i&&this._propagateEvent(r),this},listens:function(t,e,i,r){typeof t!="string"&&console.warn('"string" type argument expected');var s=e;typeof e!="function"&&(r=!!e,s=void 0,i=void 0);var h=this._events&&this._events[t];if(h&&h.length&&this._listens(t,s,i)!==!1)return!0;if(r){for(var v in this._eventParents)if(this._eventParents[v].listens(t,e,i,r))return!0}return!1},_listens:function(t,e,i){if(!this._events)return!1;var r=this._events[t]||[];if(!e)return!!r.length;i===this&&(i=void 0);for(var s=0,h=r.length;s<h;s++)if(r[s].fn===e&&r[s].ctx===i)return s;return!1},once:function(t,e,i){if(typeof t=="object")for(var r in t)this._on(r,t[r],e,!0);else{t=ye(t);for(var s=0,h=t.length;s<h;s++)this._on(t[s],e,i,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[b(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[b(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};jt.addEventListener=jt.on,jt.removeEventListener=jt.clearAllEventListeners=jt.off,jt.addOneTimeEventListener=jt.once,jt.fireEvent=jt.fire,jt.hasEventListeners=jt.listens;var Cn=xe.extend(jt);function H(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e}var Co=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};H.prototype={clone:function(){return new H(this.x,this.y)},add:function(t){return this.clone()._add(R(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(R(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new H(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new H(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Co(this.x),this.y=Co(this.y),this},distanceTo:function(t){t=R(t);var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return t=R(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=R(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+Vt(this.x)+", "+Vt(this.y)+")"}};function R(t,e,i){return t instanceof H?t:qt(t)?new H(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new H(t.x,t.y):new H(t,e,i)}function at(t,e){if(t)for(var i=e?[t,e]:t,r=0,s=i.length;r<s;r++)this.extend(i[r])}at.prototype={extend:function(t){var e,i;if(!t)return this;if(t instanceof H||typeof t[0]=="number"||"x"in t)e=i=R(t);else if(t=Wt(t),e=t.min,i=t.max,!e||!i)return this;return!this.min&&!this.max?(this.min=e.clone(),this.max=i.clone()):(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(i.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(i.y,this.max.y)),this},getCenter:function(t){return R((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return R(this.min.x,this.max.y)},getTopRight:function(){return R(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return typeof t[0]=="number"||t instanceof H?t=R(t):t=Wt(t),t instanceof at?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=Wt(t);var e=this.min,i=this.max,r=t.min,s=t.max,h=s.x>=e.x&&r.x<=i.x,v=s.y>=e.y&&r.y<=i.y;return h&&v},overlaps:function(t){t=Wt(t);var e=this.min,i=this.max,r=t.min,s=t.max,h=s.x>e.x&&r.x<i.x,v=s.y>e.y&&r.y<i.y;return h&&v},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var e=this.min,i=this.max,r=Math.abs(e.x-i.x)*t,s=Math.abs(e.y-i.y)*t;return Wt(R(e.x-r,e.y-s),R(i.x+r,i.y+s))},equals:function(t){return t?(t=Wt(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function Wt(t,e){return!t||t instanceof at?t:new at(t,e)}function Ht(t,e){if(t)for(var i=e?[t,e]:t,r=0,s=i.length;r<s;r++)this.extend(i[r])}Ht.prototype={extend:function(t){var e=this._southWest,i=this._northEast,r,s;if(t instanceof et)r=t,s=t;else if(t instanceof Ht){if(r=t._southWest,s=t._northEast,!r||!s)return this}else return t?this.extend($(t)||bt(t)):this;return!e&&!i?(this._southWest=new et(r.lat,r.lng),this._northEast=new et(s.lat,s.lng)):(e.lat=Math.min(r.lat,e.lat),e.lng=Math.min(r.lng,e.lng),i.lat=Math.max(s.lat,i.lat),i.lng=Math.max(s.lng,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,r=Math.abs(e.lat-i.lat)*t,s=Math.abs(e.lng-i.lng)*t;return new Ht(new et(e.lat-r,e.lng-s),new et(i.lat+r,i.lng+s))},getCenter:function(){return new et((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new et(this.getNorth(),this.getWest())},getSouthEast:function(){return new et(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof et||"lat"in t?t=$(t):t=bt(t);var e=this._southWest,i=this._northEast,r,s;return t instanceof Ht?(r=t.getSouthWest(),s=t.getNorthEast()):r=s=t,r.lat>=e.lat&&s.lat<=i.lat&&r.lng>=e.lng&&s.lng<=i.lng},intersects:function(t){t=bt(t);var e=this._southWest,i=this._northEast,r=t.getSouthWest(),s=t.getNorthEast(),h=s.lat>=e.lat&&r.lat<=i.lat,v=s.lng>=e.lng&&r.lng<=i.lng;return h&&v},overlaps:function(t){t=bt(t);var e=this._southWest,i=this._northEast,r=t.getSouthWest(),s=t.getNorthEast(),h=s.lat>e.lat&&r.lat<i.lat,v=s.lng>e.lng&&r.lng<i.lng;return h&&v},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return t?(t=bt(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function bt(t,e){return t instanceof Ht?t:new Ht(t,e)}function et(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,i!==void 0&&(this.alt=+i)}et.prototype={equals:function(t,e){if(!t)return!1;t=$(t);var i=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return i<=(e===void 0?1e-9:e)},toString:function(t){return"LatLng("+Vt(this.lat,t)+", "+Vt(this.lng,t)+")"},distanceTo:function(t){return Oe.distance(this,$(t))},wrap:function(){return Oe.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return bt([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new et(this.lat,this.lng,this.alt)}};function $(t,e,i){return t instanceof et?t:qt(t)&&typeof t[0]!="object"?t.length===3?new et(t[0],t[1],t[2]):t.length===2?new et(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new et(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===void 0?null:new et(t,e,i)}var Pe={latLngToPoint:function(t,e){var i=this.projection.project(t),r=this.scale(e);return this.transformation._transform(i,r)},pointToLatLng:function(t,e){var i=this.scale(e),r=this.transformation.untransform(t,i);return this.projection.unproject(r)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t),r=this.transformation.transform(e.min,i),s=this.transformation.transform(e.max,i);return new at(r,s)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?M(t.lng,this.wrapLng,!0):t.lng,i=this.wrapLat?M(t.lat,this.wrapLat,!0):t.lat,r=t.alt;return new et(i,e,r)},wrapLatLngBounds:function(t){var e=t.getCenter(),i=this.wrapLatLng(e),r=e.lat-i.lat,s=e.lng-i.lng;if(r===0&&s===0)return t;var h=t.getSouthWest(),v=t.getNorthEast(),C=new et(h.lat-r,h.lng-s),y=new et(v.lat-r,v.lng-s);return new Ht(C,y)}},Oe=n({},Pe,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,r=t.lat*i,s=e.lat*i,h=Math.sin((e.lat-t.lat)*i/2),v=Math.sin((e.lng-t.lng)*i/2),C=h*h+Math.cos(r)*Math.cos(s)*v*v,y=2*Math.atan2(Math.sqrt(C),Math.sqrt(1-C));return this.R*y}}),bo=6378137,Ei={R:bo,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,r=Math.max(Math.min(i,t.lat),-i),s=Math.sin(r*e);return new H(this.R*t.lng*e,this.R*Math.log((1+s)/(1-s))/2)},unproject:function(t){var e=180/Math.PI;return new et((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=bo*Math.PI;return new at([-t,-t],[t,t])}()};function Si(t,e,i,r){if(qt(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=e,this._c=i,this._d=r}Si.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new H((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};function bn(t,e,i,r){return new Si(t,e,i,r)}var Oi=n({},Oe,{code:"EPSG:3857",projection:Ei,transformation:function(){var t=.5/(Math.PI*Ei.R);return bn(t,.5,-t,.5)}()}),nl=n({},Oi,{code:"EPSG:900913"});function yo(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function xo(t,e){var i="",r,s,h,v,C,y;for(r=0,h=t.length;r<h;r++){for(C=t[r],s=0,v=C.length;s<v;s++)y=C[s],i+=(s?"L":"M")+y.x+" "+y.y;i+=e?B.svg?"z":"x":""}return i||"M0 0"}var Ti=document.documentElement.style,Rn="ActiveXObject"in window,il=Rn&&!document.addEventListener,Po="msLaunchUri"in navigator&&!("documentMode"in document),Li=de("webkit"),ko=de("android"),zo=de("android 2")||de("android 3"),ol=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),rl=ko&&de("Google")&&ol<537&&!("AudioNode"in window),Bi=!!window.opera,Mo=!Po&&de("chrome"),wo=de("gecko")&&!Li&&!Bi&&!Rn,al=!Mo&&de("safari"),Eo=de("phantom"),So="OTransition"in Ti,ll=navigator.platform.indexOf("Win")===0,Oo=Rn&&"transition"in Ti,Ii="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!zo,To="MozPerspective"in Ti,sl=!window.L_DISABLE_3D&&(Oo||Ii||To)&&!So&&!Eo,yn=typeof orientation<"u"||de("mobile"),cl=yn&&Li,dl=yn&&Ii,Lo=!window.PointerEvent&&window.MSPointerEvent,Bo=!!(window.PointerEvent||Lo),Io="ontouchstart"in window||!!window.TouchEvent,ul=!window.L_NO_TOUCH&&(Io||Bo),pl=yn&&Bi,ml=yn&&wo,_l=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,hl=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",V,e),window.removeEventListener("testPassiveEventSupport",V,e)}catch{}return t}(),gl=function(){return!!document.createElement("canvas").getContext}(),Di=!!(document.createElementNS&&yo("svg").createSVGRect),fl=!!Di&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),vl=!Di&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&typeof e.adj=="object"}catch{return!1}}(),Cl=navigator.platform.indexOf("Mac")===0,bl=navigator.platform.indexOf("Linux")===0;function de(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var B={ie:Rn,ielt9:il,edge:Po,webkit:Li,android:ko,android23:zo,androidStock:rl,opera:Bi,chrome:Mo,gecko:wo,safari:al,phantom:Eo,opera12:So,win:ll,ie3d:Oo,webkit3d:Ii,gecko3d:To,any3d:sl,mobile:yn,mobileWebkit:cl,mobileWebkit3d:dl,msPointer:Lo,pointer:Bo,touch:ul,touchNative:Io,mobileOpera:pl,mobileGecko:ml,retina:_l,passiveEvents:hl,canvas:gl,svg:Di,vml:vl,inlineSvg:fl,mac:Cl,linux:bl},Do=B.msPointer?"MSPointerDown":"pointerdown",No=B.msPointer?"MSPointerMove":"pointermove",Ao=B.msPointer?"MSPointerUp":"pointerup",Fo=B.msPointer?"MSPointerCancel":"pointercancel",Ni={touchstart:Do,touchmove:No,touchend:Ao,touchcancel:Fo},Vo={touchstart:Ml,touchmove:Zn,touchend:Zn,touchcancel:Zn},qe={},Ro=!1;function yl(t,e,i){return e==="touchstart"&&zl(),Vo[e]?(i=Vo[e].bind(this,i),t.addEventListener(Ni[e],i,!1),i):(console.warn("wrong event specified:",e),V)}function xl(t,e,i){if(!Ni[e]){console.warn("wrong event specified:",e);return}t.removeEventListener(Ni[e],i,!1)}function Pl(t){qe[t.pointerId]=t}function kl(t){qe[t.pointerId]&&(qe[t.pointerId]=t)}function Zo(t){delete qe[t.pointerId]}function zl(){Ro||(document.addEventListener(Do,Pl,!0),document.addEventListener(No,kl,!0),document.addEventListener(Ao,Zo,!0),document.addEventListener(Fo,Zo,!0),Ro=!0)}function Zn(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){e.touches=[];for(var i in qe)e.touches.push(qe[i]);e.changedTouches=[e],t(e)}}function Ml(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&Tt(e),Zn(t,e)}function wl(t){var e={},i,r;for(r in t)i=t[r],e[r]=i&&i.bind?i.bind(t):i;return t=e,e.type="dblclick",e.detail=2,e.isTrusted=!1,e._simulated=!0,e}var El=200;function Sl(t,e){t.addEventListener("dblclick",e);var i=0,r;function s(h){if(h.detail!==1){r=h.detail;return}if(!(h.pointerType==="mouse"||h.sourceCapabilities&&!h.sourceCapabilities.firesTouchEvents)){var v=qo(h);if(!(v.some(function(y){return y instanceof HTMLLabelElement&&y.attributes.for})&&!v.some(function(y){return y instanceof HTMLInputElement||y instanceof HTMLSelectElement}))){var C=Date.now();C-i<=El?(r++,r===2&&e(wl(h))):r=1,i=C}}}return t.addEventListener("click",s),{dblclick:e,simDblclick:s}}function Ol(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var Ai=Gn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),xn=Gn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Wo=xn==="webkitTransition"||xn==="OTransition"?xn+"End":"transitionend";function Ho(t){return typeof t=="string"?document.getElementById(t):t}function Pn(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||i==="auto")&&document.defaultView){var r=document.defaultView.getComputedStyle(t,null);i=r?r[e]:null}return i==="auto"?null:i}function K(t,e,i){var r=document.createElement(t);return r.className=e||"",i&&i.appendChild(r),r}function lt(t){var e=t.parentNode;e&&e.removeChild(t)}function Wn(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function je(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function $e(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function Fi(t,e){if(t.classList!==void 0)return t.classList.contains(e);var i=Hn(t);return i.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)}function U(t,e){if(t.classList!==void 0)for(var i=ye(e),r=0,s=i.length;r<s;r++)t.classList.add(i[r]);else if(!Fi(t,e)){var h=Hn(t);Vi(t,(h?h+" ":"")+e)}}function ft(t,e){t.classList!==void 0?t.classList.remove(e):Vi(t,Re((" "+Hn(t)+" ").replace(" "+e+" "," ")))}function Vi(t,e){t.className.baseVal===void 0?t.className=e:t.className.baseVal=e}function Hn(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Jt(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&Tl(t,e)}function Tl(t,e){var i=!1,r="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(r)}catch{if(e===1)return}e=Math.round(e*100),i?(i.Enabled=e!==100,i.Opacity=e):t.style.filter+=" progid:"+r+"(opacity="+e+")"}function Gn(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function Ze(t,e,i){var r=e||new H(0,0);t.style[Ai]=(B.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(i?" scale("+i+")":"")}function yt(t,e){t._leaflet_pos=e,B.any3d?Ze(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function We(t){return t._leaflet_pos||new H(0,0)}var kn,zn,Ri;if("onselectstart"in document)kn=function(){G(window,"selectstart",Tt)},zn=function(){ot(window,"selectstart",Tt)};else{var Mn=Gn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);kn=function(){if(Mn){var t=document.documentElement.style;Ri=t[Mn],t[Mn]="none"}},zn=function(){Mn&&(document.documentElement.style[Mn]=Ri,Ri=void 0)}}function Zi(){G(window,"dragstart",Tt)}function Wi(){ot(window,"dragstart",Tt)}var Un,Hi;function Gi(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(qn(),Un=t,Hi=t.style.outlineStyle,t.style.outlineStyle="none",G(window,"keydown",qn))}function qn(){Un&&(Un.style.outlineStyle=Hi,Un=void 0,Hi=void 0,ot(window,"keydown",qn))}function Go(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Ui(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Ll={__proto__:null,TRANSFORM:Ai,TRANSITION:xn,TRANSITION_END:Wo,get:Ho,getStyle:Pn,create:K,remove:lt,empty:Wn,toFront:je,toBack:$e,hasClass:Fi,addClass:U,removeClass:ft,setClass:Vi,getClass:Hn,setOpacity:Jt,testProp:Gn,setTransform:Ze,setPosition:yt,getPosition:We,get disableTextSelection(){return kn},get enableTextSelection(){return zn},disableImageDrag:Zi,enableImageDrag:Wi,preventOutline:Gi,restoreOutline:qn,getSizedParentNode:Go,getScale:Ui};function G(t,e,i,r){if(e&&typeof e=="object")for(var s in e)ji(t,s,e[s],i);else{e=ye(e);for(var h=0,v=e.length;h<v;h++)ji(t,e[h],i,r)}return this}var ue="_leaflet_events";function ot(t,e,i,r){if(arguments.length===1)Uo(t),delete t[ue];else if(e&&typeof e=="object")for(var s in e)$i(t,s,e[s],i);else if(e=ye(e),arguments.length===2)Uo(t,function(C){return vn(e,C)!==-1});else for(var h=0,v=e.length;h<v;h++)$i(t,e[h],i,r);return this}function Uo(t,e){for(var i in t[ue]){var r=i.split(/\d/)[0];(!e||e(r))&&$i(t,r,null,null,i)}}var qi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ji(t,e,i,r){var s=e+b(i)+(r?"_"+b(r):"");if(t[ue]&&t[ue][s])return this;var h=function(C){return i.call(r||t,C||window.event)},v=h;!B.touchNative&&B.pointer&&e.indexOf("touch")===0?h=yl(t,e,h):B.touch&&e==="dblclick"?h=Sl(t,h):"addEventListener"in t?e==="touchstart"||e==="touchmove"||e==="wheel"||e==="mousewheel"?t.addEventListener(qi[e]||e,h,B.passiveEvents?{passive:!1}:!1):e==="mouseenter"||e==="mouseleave"?(h=function(C){C=C||window.event,Ki(t,C)&&v(C)},t.addEventListener(qi[e],h,!1)):t.addEventListener(e,v,!1):t.attachEvent("on"+e,h),t[ue]=t[ue]||{},t[ue][s]=h}function $i(t,e,i,r,s){s=s||e+b(i)+(r?"_"+b(r):"");var h=t[ue]&&t[ue][s];if(!h)return this;!B.touchNative&&B.pointer&&e.indexOf("touch")===0?xl(t,e,h):B.touch&&e==="dblclick"?Ol(t,h):"removeEventListener"in t?t.removeEventListener(qi[e]||e,h,!1):t.detachEvent("on"+e,h),t[ue][s]=null}function He(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Xi(t){return ji(t,"wheel",He),this}function wn(t){return G(t,"mousedown touchstart dblclick contextmenu",He),t._leaflet_disable_click=!0,this}function Tt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ge(t){return Tt(t),He(t),this}function qo(t){if(t.composedPath)return t.composedPath();for(var e=[],i=t.target;i;)e.push(i),i=i.parentNode;return e}function jo(t,e){if(!e)return new H(t.clientX,t.clientY);var i=Ui(e),r=i.boundingClientRect;return new H((t.clientX-r.left)/i.x-e.clientLeft,(t.clientY-r.top)/i.y-e.clientTop)}var Bl=B.linux&&B.chrome?window.devicePixelRatio:B.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function $o(t){return B.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Bl:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Ki(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch{return!1}return i!==t}var Il={__proto__:null,on:G,off:ot,stopPropagation:He,disableScrollPropagation:Xi,disableClickPropagation:wn,preventDefault:Tt,stop:Ge,getPropagationPath:qo,getMousePosition:jo,getWheelDelta:$o,isExternalTarget:Ki,addListener:G,removeListener:ot},Xo=Cn.extend({run:function(t,e,i,r){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=We(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Zt(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=this._duration*1e3;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),yt(this._el,i),this.fire("step")},_complete:function(){Kt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),X=Cn.extend({options:{crs:Oi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=it(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==void 0&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==void 0&&this.setView($(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=xn&&B.any3d&&!B.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),G(this._proxy,Wo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){if(e=e===void 0?this._zoom:this._limitZoom(e),t=this._limitCenter($(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&i!==!0){i.animate!==void 0&&(i.zoom=n({animate:i.animate},i.zoom),i.pan=n({animate:i.animate,duration:i.duration},i.pan));var r=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan);if(r)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e,i.pan&&i.pan.noMoveStart),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(B.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(B.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,i){var r=this.getZoomScale(e),s=this.getSize().divideBy(2),h=t instanceof H?t:this.latLngToContainerPoint(t),v=h.subtract(s).multiplyBy(1-1/r),C=this.containerPointToLatLng(s.add(v));return this.setView(C,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():bt(t);var i=R(e.paddingTopLeft||e.padding||[0,0]),r=R(e.paddingBottomRight||e.padding||[0,0]),s=this.getBoundsZoom(t,!1,i.add(r));if(s=typeof e.maxZoom=="number"?Math.min(e.maxZoom,s):s,s===1/0)return{center:t.getCenter(),zoom:s};var h=r.subtract(i).divideBy(2),v=this.project(t.getSouthWest(),s),C=this.project(t.getNorthEast(),s),y=this.unproject(v.add(C).divideBy(2).add(h),s);return{center:y,zoom:s}},fitBounds:function(t,e){if(t=bt(t),!t.isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=R(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(e.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Xo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){U(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,i){if(i=i||{},i.animate===!1||!B.any3d)return this.setView(t,e,i);this._stop();var r=this.project(this.getCenter()),s=this.project(t),h=this.getSize(),v=this._zoom;t=$(t),e=e===void 0?v:e;var C=Math.max(h.x,h.y),y=C*this.getZoomScale(v,e),z=s.distanceTo(r)||1,O=1.42,I=O*O;function q(xt){var oi=xt?-1:1,xs=xt?y:C,Ps=y*y-C*C+oi*I*I*z*z,ks=2*xs*I*z,lo=Ps/ks,Sr=Math.sqrt(lo*lo+1)-lo,zs=Sr<1e-9?-18:Math.log(Sr);return zs}function Rt(xt){return(Math.exp(xt)-Math.exp(-xt))/2}function wt(xt){return(Math.exp(xt)+Math.exp(-xt))/2}function Qt(xt){return Rt(xt)/wt(xt)}var Gt=q(0);function tn(xt){return C*(wt(Gt)/wt(Gt+O*xt))}function vs(xt){return C*(wt(Gt)*Qt(Gt+O*xt)-Rt(Gt))/I}function Cs(xt){return 1-Math.pow(1-xt,1.5)}var bs=Date.now(),wr=(q(1)-Gt)/O,ys=i.duration?1e3*i.duration:1e3*wr*.8;function Er(){var xt=(Date.now()-bs)/ys,oi=Cs(xt)*wr;xt<=1?(this._flyToFrame=Zt(Er,this),this._move(this.unproject(r.add(s.subtract(r).multiplyBy(vs(oi)/z)),v),this.getScaleZoom(C/tn(oi),v),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,i.noMoveStart),Er.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)},setMaxBounds:function(t){return t=bt(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),r=this._limitCenter(i,this._zoom,bt(t));return i.equals(r)||this.panTo(r,e),this._enforcingBounds=!1,this},panInside:function(t,e){e=e||{};var i=R(e.paddingTopLeft||e.padding||[0,0]),r=R(e.paddingBottomRight||e.padding||[0,0]),s=this.project(this.getCenter()),h=this.project(t),v=this.getPixelBounds(),C=Wt([v.min.add(i),v.max.subtract(r)]),y=C.getSize();if(!C.contains(h)){this._enforcingBounds=!0;var z=h.subtract(C.getCenter()),O=C.extend(h).getSize().subtract(y);s.x+=z.x<0?-O.x:O.x,s.y+=z.y<0?-O.y:O.y,this.panTo(this.unproject(s),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),r=e.divideBy(2).round(),s=i.divideBy(2).round(),h=r.subtract(s);return!h.x&&!h.y?this:(t.animate&&t.pan?this.panBy(h):(t.pan&&this._rawPanBy(h),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=m(this._handleGeolocationResponse,this),i=m(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,i=t.message||(e===1?"permission denied":e===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=t.coords.latitude,i=t.coords.longitude,r=new et(e,i),s=r.toBounds(t.coords.accuracy*2),h=this._locateOptions;if(h.setView){var v=this.getBoundsZoom(s);this.setView(r,h.maxZoom?Math.min(v,h.maxZoom):v)}var C={latlng:r,bounds:s,timestamp:t.timestamp};for(var y in t.coords)typeof t.coords[y]=="number"&&(C[y]=t.coords[y]);this.fire("locationfound",C)}},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),lt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Kt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)lt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var i="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),r=K("div",i,e||this._mapPane);return t&&(this._panes[t]=r),r},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),i=this.unproject(t.getTopRight());return new Ht(e,i)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=bt(t),i=R(i||[0,0]);var r=this.getZoom()||0,s=this.getMinZoom(),h=this.getMaxZoom(),v=t.getNorthWest(),C=t.getSouthEast(),y=this.getSize().subtract(i),z=Wt(this.project(C,r),this.project(v,r)).getSize(),O=B.any3d?this.options.zoomSnap:1,I=y.x/z.x,q=y.y/z.y,Rt=e?Math.max(I,q):Math.min(I,q);return r=this.getScaleZoom(Rt,r),O&&(r=Math.round(r/(O/100))*(O/100),r=e?Math.ceil(r/O)*O:Math.floor(r/O)*O),Math.max(s,Math.min(h,r))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new H(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new at(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=e===void 0?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs;e=e===void 0?this._zoom:e;var r=i.zoom(t*i.scale(e));return isNaN(r)?1/0:r},project:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.latLngToPoint($(t),e)},unproject:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.pointToLatLng(R(t),e)},layerPointToLatLng:function(t){var e=R(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project($(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng($(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(bt(t))},distance:function(t,e){return this.options.crs.distance($(t),$(e))},containerPointToLayerPoint:function(t){return R(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return R(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(R(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint($(t)))},mouseEventToContainerPoint:function(t){return jo(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=Ho(t);if(e){if(e._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");G(e,"scroll",this._onScroll,this),this._containerId=b(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&B.any3d,U(t,"leaflet-container"+(B.touch?" leaflet-touch":"")+(B.retina?" leaflet-retina":"")+(B.ielt9?" leaflet-oldie":"")+(B.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=Pn(t,"position");e!=="absolute"&&e!=="relative"&&e!=="fixed"&&e!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),yt(this._mapPane,new H(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(U(t.markerPane,"leaflet-zoom-hide"),U(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,i){yt(this._mapPane,new H(0,0));var r=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var s=this._zoom!==e;this._moveStart(s,i)._move(t,e)._moveEnd(s),this.fire("viewreset"),r&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,i,r){e===void 0&&(e=this._zoom);var s=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),r?i&&i.pinch&&this.fire("zoom",i):((s||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Kt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){yt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[b(this._container)]=this;var e=t?ot:G;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),B.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Kt(this._resizeRequest),this._resizeRequest=Zt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var i=[],r,s=e==="mouseout"||e==="mouseover",h=t.target||t.srcElement,v=!1;h;){if(r=this._targets[b(h)],r&&(e==="click"||e==="preclick")&&this._draggableMoved(r)){v=!0;break}if(r&&r.listens(e,!0)&&(s&&!Ki(h,t)||(i.push(r),s))||h===this._container)break;h=h.parentNode}return!i.length&&!v&&!s&&this.listens(e,!0)&&(i=[this]),i},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(e))){var i=t.type;i==="mousedown"&&Gi(e),this._fireDOMEvent(t,i)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,i){if(t.type==="click"){var r=n({},t);r.type="preclick",this._fireDOMEvent(r,r.type,i)}var s=this._findEventTargets(t,e);if(i){for(var h=[],v=0;v<i.length;v++)i[v].listens(e,!0)&&h.push(i[v]);s=h.concat(s)}if(s.length){e==="contextmenu"&&Tt(t);var C=s[0],y={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var z=C.getLatLng&&(!C._radius||C._radius<=10);y.containerPoint=z?this.latLngToContainerPoint(C.getLatLng()):this.mouseEventToContainerPoint(t),y.layerPoint=this.containerPointToLayerPoint(y.containerPoint),y.latlng=z?C.getLatLng():this.layerPointToLatLng(y.layerPoint)}for(v=0;v<s.length;v++)if(s[v].fire(e,y,!0),y.originalEvent._stopped||s[v].options.bubblingMouseEvents===!1&&vn(this._mouseEvents,e)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return We(this._mapPane)||new H(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var i=t&&e!==void 0?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return i.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){var r=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(r)},_latLngBoundsToNewLayerBounds:function(t,e,i){var r=this._getNewPixelOrigin(i,e);return Wt([this.project(t.getSouthWest(),e)._subtract(r),this.project(t.getNorthWest(),e)._subtract(r),this.project(t.getSouthEast(),e)._subtract(r),this.project(t.getNorthEast(),e)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var r=this.project(t,e),s=this.getSize().divideBy(2),h=new at(r.subtract(s),r.add(s)),v=this._getBoundsOffset(h,i,e);return Math.abs(v.x)<=1&&Math.abs(v.y)<=1?t:this.unproject(r.add(v),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),r=new at(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(r,e))},_getBoundsOffset:function(t,e,i){var r=Wt(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),s=r.min.subtract(t.min),h=r.max.subtract(t.max),v=this._rebound(s.x,-h.x),C=this._rebound(s.y,-h.y);return new H(v,C)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),r=B.any3d?this.options.zoomSnap:1;return r&&(t=Math.round(t/r)*r),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ft(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._trunc();return(e&&e.animate)!==!0&&!this.getSize().contains(i)?!1:(this.panBy(i,e),!0)},_createAnimProxy:function(){var t=this._proxy=K("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var i=Ai,r=this._proxy.style[i];Ze(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),r===this._proxy.style[i]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){lt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Ze(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||i.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(e),s=this._getCenterOffset(t)._divideBy(1-1/r);return i.animate!==!0&&!this.getSize().contains(s)?!1:(Zt(function(){this._moveStart(!0,i.noMoveStart||!1)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,i,r){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,U(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:r}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ft(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Dl(t,e){return new X(t,e)}var ae=xe.extend({options:{position:"topright"},initialize:function(t){it(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),r=t._controlCorners[i];return U(e,"leaflet-control"),i.indexOf("bottom")!==-1?r.insertBefore(e,r.firstChild):r.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(lt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),En=function(t){return new ae(t)};X.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",i=this._controlContainer=K("div",e+"control-container",this._container);function r(s,h){var v=e+s+" "+e+h;t[s+h]=K("div",v,i)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)lt(this._controlCorners[t]);lt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ko=ae.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,r){return i<r?-1:r<i?1:0}},initialize:function(t,e,i){it(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var r in t)this._addLayer(t[r],r);for(r in e)this._addLayer(e[r],r,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return ae.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(b(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){U(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(U(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):ft(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ft(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=K("div",t),i=this.options.collapsed;e.setAttribute("aria-haspopup",!0),wn(e),Xi(e);var r=this._section=K("section",t+"-list");i&&(this._map.on("click",this.collapse,this),G(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var s=this._layersLink=K("a",t+"-toggle",e);s.href="#",s.title="Layers",s.setAttribute("role","button"),G(s,{keydown:function(h){h.keyCode===13&&this._expandSafely()},click:function(h){Tt(h),this._expandSafely()}},this),i||this.expand(),this._baseLayersList=K("div",t+"-base",r),this._separator=K("div",t+"-separator",r),this._overlaysList=K("div",t+"-overlays",r),e.appendChild(r)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&b(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(m(function(r,s){return this.options.sortFunction(r.layer,s.layer,r.name,s.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Wn(this._baseLayersList),Wn(this._overlaysList),this._layerControlInputs=[];var t,e,i,r,s=0;for(i=0;i<this._layers.length;i++)r=this._layers[i],this._addItem(r),e=e||r.overlay,t=t||!r.overlay,s+=r.overlay?0:1;return this.options.hideSingleBase&&(t=t&&s>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(b(t.target)),i=e.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=i,r.firstChild},_addItem:function(t){var e=document.createElement("label"),i=this._map.hasLayer(t.layer),r;t.overlay?(r=document.createElement("input"),r.type="checkbox",r.className="leaflet-control-layers-selector",r.defaultChecked=i):r=this._createRadioElement("leaflet-base-layers_"+b(this),i),this._layerControlInputs.push(r),r.layerId=b(t.layer),G(r,"click",this._onInputClick,this);var s=document.createElement("span");s.innerHTML=" "+t.name;var h=document.createElement("span");e.appendChild(h),h.appendChild(r),h.appendChild(s);var v=t.overlay?this._overlaysList:this._baseLayersList;return v.appendChild(e),this._checkDisabledLayers(),e},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,e,i,r=[],s=[];this._handlingClick=!0;for(var h=t.length-1;h>=0;h--)e=t[h],i=this._getLayer(e.layerId).layer,e.checked?r.push(i):e.checked||s.push(i);for(h=0;h<s.length;h++)this._map.hasLayer(s[h])&&this._map.removeLayer(s[h]);for(h=0;h<r.length;h++)this._map.hasLayer(r[h])||this._map.addLayer(r[h]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,e,i,r=this._map.getZoom(),s=t.length-1;s>=0;s--)e=t[s],i=this._getLayer(e.layerId).layer,e.disabled=i.options.minZoom!==void 0&&r<i.options.minZoom||i.options.maxZoom!==void 0&&r>i.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,G(t,"click",Tt),this.expand();var e=this;setTimeout(function(){ot(t,"click",Tt),e._preventClick=!1})}}),Nl=function(t,e,i){return new Ko(t,e,i)},Ji=ae.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=K("div",e+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,r,s){var h=K("a",i,r);return h.innerHTML=t,h.href="#",h.title=e,h.setAttribute("role","button"),h.setAttribute("aria-label",e),wn(h),G(h,"click",Ge),G(h,"click",s,this),G(h,"click",this._refocusOnMap,this),h},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";ft(this._zoomInButton,e),ft(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(U(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(U(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});X.mergeOptions({zoomControl:!0}),X.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ji,this.addControl(this.zoomControl))});var Al=function(t){return new Ji(t)},Jo=ae.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",i=K("div",e),r=this.options;return this._addScales(r,e+"-line",i),t.on(r.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=K("div",e,i)),t.imperial&&(this._iScale=K("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e=t*3.2808399,i,r,s;e>5280?(i=e/5280,r=this._getRoundNum(i),this._updateScale(this._iScale,r+" mi",r/i)):(s=this._getRoundNum(e),this._updateScale(this._iScale,s+" ft",s/e))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}}),Fl=function(t){return new Jo(t)},Vl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Yi=ae.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(B.inlineSvg?Vl+" ":"")+"Leaflet</a>"},initialize:function(t){it(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=K("div","leaflet-control-attribution"),wn(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(' <span aria-hidden="true">|</span> ')}}});X.mergeOptions({attributionControl:!0}),X.addInitHook(function(){this.options.attributionControl&&new Yi().addTo(this)});var Rl=function(t){return new Yi(t)};ae.Layers=Ko,ae.Zoom=Ji,ae.Scale=Jo,ae.Attribution=Yi,En.layers=Nl,En.zoom=Al,En.scale=Fl,En.attribution=Rl;var pe=xe.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});pe.addTo=function(t,e){return t.addHandler(e,this),this};var Zl={Events:jt},Yo=B.touch?"touchstart mousedown":"mousedown",Te=Cn.extend({options:{clickTolerance:3},initialize:function(t,e,i,r){it(this,r),this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(G(this._dragStartTarget,Yo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Te._dragging===this&&this.finishDrag(!0),ot(this._dragStartTarget,Yo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Fi(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){Te._dragging===this&&this.finishDrag();return}if(!(Te._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(Te._dragging=this,this._preventOutline&&Gi(this._element),Zi(),kn(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t,i=Go(this._element);this._startPoint=new H(e.clientX,e.clientY),this._startPos=We(this._element),this._parentScale=Ui(i);var r=t.type==="mousedown";G(document,r?"mousemove":"touchmove",this._onMove,this),G(document,r?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var e=t.touches&&t.touches.length===1?t.touches[0]:t,i=new H(e.clientX,e.clientY)._subtract(this._startPoint);!i.x&&!i.y||Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(i.x/=this._parentScale.x,i.y/=this._parentScale.y,Tt(t),this._moved||(this.fire("dragstart"),this._moved=!0,U(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),U(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),yt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){ft(document.body,"leaflet-dragging"),this._lastTarget&&(ft(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ot(document,"mousemove touchmove",this._onMove,this),ot(document,"mouseup touchend touchcancel",this._onUp,this),Wi(),zn();var e=this._moved&&this._moving;this._moving=!1,Te._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Qo(t,e,i){var r,s=[1,4,2,8],h,v,C,y,z,O,I,q;for(h=0,O=t.length;h<O;h++)t[h]._code=Ue(t[h],e);for(C=0;C<4;C++){for(I=s[C],r=[],h=0,O=t.length,v=O-1;h<O;v=h++)y=t[h],z=t[v],y._code&I?z._code&I||(q=jn(z,y,I,e,i),q._code=Ue(q,e),r.push(q)):(z._code&I&&(q=jn(z,y,I,e,i),q._code=Ue(q,e),r.push(q)),r.push(y));t=r}return t}function tr(t,e){var i,r,s,h,v,C,y,z,O;if(!t||t.length===0)throw new Error("latlngs not passed");Yt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var I=$([0,0]),q=bt(t),Rt=q.getNorthWest().distanceTo(q.getSouthWest())*q.getNorthEast().distanceTo(q.getNorthWest());Rt<1700&&(I=Qi(t));var wt=t.length,Qt=[];for(i=0;i<wt;i++){var Gt=$(t[i]);Qt.push(e.project($([Gt.lat-I.lat,Gt.lng-I.lng])))}for(C=y=z=0,i=0,r=wt-1;i<wt;r=i++)s=Qt[i],h=Qt[r],v=s.y*h.x-h.y*s.x,y+=(s.x+h.x)*v,z+=(s.y+h.y)*v,C+=v*3;C===0?O=Qt[0]:O=[y/C,z/C];var tn=e.unproject(R(O));return $([tn.lat+I.lat,tn.lng+I.lng])}function Qi(t){for(var e=0,i=0,r=0,s=0;s<t.length;s++){var h=$(t[s]);e+=h.lat,i+=h.lng,r++}return $([e/r,i/r])}var Wl={__proto__:null,clipPolygon:Qo,polygonCenter:tr,centroid:Qi};function er(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=Ul(t,i),t=Gl(t,i),t}function nr(t,e,i){return Math.sqrt(Sn(t,e,i,!0))}function Hl(t,e,i){return Sn(t,e,i)}function Gl(t,e){var i=t.length,r=typeof Uint8Array<"u"?Uint8Array:Array,s=new r(i);s[0]=s[i-1]=1,to(t,s,e,0,i-1);var h,v=[];for(h=0;h<i;h++)s[h]&&v.push(t[h]);return v}function to(t,e,i,r,s){var h=0,v,C,y;for(C=r+1;C<=s-1;C++)y=Sn(t[C],t[r],t[s],!0),y>h&&(v=C,h=y);h>i&&(e[v]=1,to(t,e,i,r,v),to(t,e,i,v,s))}function Ul(t,e){for(var i=[t[0]],r=1,s=0,h=t.length;r<h;r++)ql(t[r],t[s])>e&&(i.push(t[r]),s=r);return s<h-1&&i.push(t[h-1]),i}var ir;function or(t,e,i,r,s){var h=r?ir:Ue(t,i),v=Ue(e,i),C,y,z;for(ir=v;;){if(!(h|v))return[t,e];if(h&v)return!1;C=h||v,y=jn(t,e,C,i,s),z=Ue(y,i),C===h?(t=y,h=z):(e=y,v=z)}}function jn(t,e,i,r,s){var h=e.x-t.x,v=e.y-t.y,C=r.min,y=r.max,z,O;return i&8?(z=t.x+h*(y.y-t.y)/v,O=y.y):i&4?(z=t.x+h*(C.y-t.y)/v,O=C.y):i&2?(z=y.x,O=t.y+v*(y.x-t.x)/h):i&1&&(z=C.x,O=t.y+v*(C.x-t.x)/h),new H(z,O,s)}function Ue(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i}function ql(t,e){var i=e.x-t.x,r=e.y-t.y;return i*i+r*r}function Sn(t,e,i,r){var s=e.x,h=e.y,v=i.x-s,C=i.y-h,y=v*v+C*C,z;return y>0&&(z=((t.x-s)*v+(t.y-h)*C)/y,z>1?(s=i.x,h=i.y):z>0&&(s+=v*z,h+=C*z)),v=t.x-s,C=t.y-h,r?v*v+C*C:new H(s,h)}function Yt(t){return!qt(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function rr(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Yt(t)}function ar(t,e){var i,r,s,h,v,C,y,z;if(!t||t.length===0)throw new Error("latlngs not passed");Yt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var O=$([0,0]),I=bt(t),q=I.getNorthWest().distanceTo(I.getSouthWest())*I.getNorthEast().distanceTo(I.getNorthWest());q<1700&&(O=Qi(t));var Rt=t.length,wt=[];for(i=0;i<Rt;i++){var Qt=$(t[i]);wt.push(e.project($([Qt.lat-O.lat,Qt.lng-O.lng])))}for(i=0,r=0;i<Rt-1;i++)r+=wt[i].distanceTo(wt[i+1])/2;if(r===0)z=wt[0];else for(i=0,h=0;i<Rt-1;i++)if(v=wt[i],C=wt[i+1],s=v.distanceTo(C),h+=s,h>r){y=(h-r)/s,z=[C.x-y*(C.x-v.x),C.y-y*(C.y-v.y)];break}var Gt=e.unproject(R(z));return $([Gt.lat+O.lat,Gt.lng+O.lng])}var jl={__proto__:null,simplify:er,pointToSegmentDistance:nr,closestPointOnSegment:Hl,clipSegment:or,_getEdgeIntersection:jn,_getBitCode:Ue,_sqClosestPointOnSegment:Sn,isFlat:Yt,_flat:rr,polylineCenter:ar},eo={project:function(t){return new H(t.lng,t.lat)},unproject:function(t){return new et(t.y,t.x)},bounds:new at([-180,-90],[180,90])},no={R:6378137,R_MINOR:6356752314245179e-9,bounds:new at([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var e=Math.PI/180,i=this.R,r=t.lat*e,s=this.R_MINOR/i,h=Math.sqrt(1-s*s),v=h*Math.sin(r),C=Math.tan(Math.PI/4-r/2)/Math.pow((1-v)/(1+v),h/2);return r=-i*Math.log(Math.max(C,1e-10)),new H(t.lng*e*i,r)},unproject:function(t){for(var e=180/Math.PI,i=this.R,r=this.R_MINOR/i,s=Math.sqrt(1-r*r),h=Math.exp(-t.y/i),v=Math.PI/2-2*Math.atan(h),C=0,y=.1,z;C<15&&Math.abs(y)>1e-7;C++)z=s*Math.sin(v),z=Math.pow((1-z)/(1+z),s/2),y=Math.PI/2-2*Math.atan(h*z)-v,v+=y;return new et(v*e,t.x*e/i)}},$l={__proto__:null,LonLat:eo,Mercator:no,SphericalMercator:Ei},Xl=n({},Oe,{code:"EPSG:3395",projection:no,transformation:function(){var t=.5/(Math.PI*no.R);return bn(t,.5,-t,.5)}()}),lr=n({},Oe,{code:"EPSG:4326",projection:eo,transformation:bn(1/180,1,-1/180,.5)}),Kl=n({},Pe,{projection:eo,transformation:bn(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,r=e.lat-t.lat;return Math.sqrt(i*i+r*r)},infinite:!0});Pe.Earth=Oe,Pe.EPSG3395=Xl,Pe.EPSG3857=Oi,Pe.EPSG900913=nl,Pe.EPSG4326=lr,Pe.Simple=Kl;var le=Cn.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[b(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[b(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var i=this.getEvents();e.on(i,this),this.once("remove",function(){e.off(i,this)},this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});X.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=b(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=b(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return b(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){t=t?qt(t)?t:[t]:[];for(var e=0,i=t.length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[b(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=b(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,i=this._getZoomSpan();for(var r in this._zoomBoundLayers){var s=this._zoomBoundLayers[r].options;t=s.minZoom===void 0?t:Math.min(t,s.minZoom),e=s.maxZoom===void 0?e:Math.max(e,s.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Xe=le.extend({initialize:function(t,e){it(this,e),this._layers={};var i,r;if(t)for(i=0,r=t.length;i<r;i++)this.addLayer(t[i])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){var e=typeof t=="number"?t:this.getLayerId(t);return e in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e=Array.prototype.slice.call(arguments,1),i,r;for(i in this._layers)r=this._layers[i],r[t]&&r[t].apply(r,e);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return b(t)}}),Jl=function(t,e){return new Xe(t,e)},ke=Xe.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Xe.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Xe.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new Ht;for(var e in this._layers){var i=this._layers[e];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),Yl=function(t,e){return new ke(t,e)},Ke=xe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){it(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(i,e&&e.tagName==="IMG"?e:null);return this._setIconStyles(r,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),r},_setIconStyles:function(t,e){var i=this.options,r=i[e+"Size"];typeof r=="number"&&(r=[r,r]);var s=R(r),h=R(e==="shadow"&&i.shadowAnchor||i.iconAnchor||s&&s.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),h&&(t.style.marginLeft=-h.x+"px",t.style.marginTop=-h.y+"px"),s&&(t.style.width=s.x+"px",t.style.height=s.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return B.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Ql(t){return new Ke(t)}var On=Ke.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof On.imagePath!="string"&&(On.imagePath=this._detectIconPath()),(this.options.imagePath||On.imagePath)+Ke.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(i,r,s){var h=r.exec(i);return h&&h[s]};return t=e(t,/^url\((['"])?(.+)\1\)$/,2),t&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=K("div","leaflet-default-icon-path",document.body),e=Pn(t,"background-image")||Pn(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e),e)return e;var i=document.querySelector('link[href$="leaflet.css"]');return i?i.href.substring(0,i.href.length-11-1):""}}),sr=pe.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Te(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),U(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ft(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,i=e._map,r=this._marker.options.autoPanSpeed,s=this._marker.options.autoPanPadding,h=We(e._icon),v=i.getPixelBounds(),C=i.getPixelOrigin(),y=Wt(v.min._subtract(C).add(s),v.max._subtract(C).subtract(s));if(!y.contains(h)){var z=R((Math.max(y.max.x,h.x)-y.max.x)/(v.max.x-y.max.x)-(Math.min(y.min.x,h.x)-y.min.x)/(v.min.x-y.min.x),(Math.max(y.max.y,h.y)-y.max.y)/(v.max.y-y.max.y)-(Math.min(y.min.y,h.y)-y.min.y)/(v.min.y-y.min.y)).multiplyBy(r);i.panBy(z,{animate:!1}),this._draggable._newPos._add(z),this._draggable._startPos._add(z),yt(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=Zt(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(Kt(this._panRequest),this._panRequest=Zt(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,i=e._shadow,r=We(e._icon),s=e._map.layerPointToLatLng(r);i&&yt(i,r),e._latlng=s,t.latlng=s,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){Kt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),$n=le.extend({options:{icon:new On,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){it(this,e),this._latlng=$(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=$(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),r=!1;i!==this._icon&&(this._icon&&this._removeIcon(),r=!0,t.title&&(i.title=t.title),i.tagName==="IMG"&&(i.alt=t.alt||"")),U(i,e),t.keyboard&&(i.tabIndex="0",i.setAttribute("role","button")),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&G(i,"focus",this._panOnFocus,this);var s=t.icon.createShadow(this._shadow),h=!1;s!==this._shadow&&(this._removeShadow(),h=!0),s&&(U(s,e),s.alt=""),this._shadow=s,t.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),s&&h&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ot(this._icon,"focus",this._panOnFocus,this),lt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&lt(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&yt(this._icon,t),this._shadow&&yt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(U(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),sr)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new sr(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Jt(this._icon,t),this._shadow&&Jt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,i=e.iconSize?R(e.iconSize):R(0,0),r=e.iconAnchor?R(e.iconAnchor):R(0,0);t.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:i.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ts(t,e){return new $n(t,e)}var Le=le.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return it(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Xn=Le.extend({options:{fill:!0,radius:10},initialize:function(t,e){it(this,e),this._latlng=$(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=$(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Le.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),r=[t+i,e+i];this._pxBounds=new at(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function es(t,e){return new Xn(t,e)}var io=Xn.extend({initialize:function(t,e,i){if(typeof e=="number"&&(e=n({},i,{radius:e})),it(this,e),this._latlng=$(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new Ht(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Le.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,r=i.options.crs;if(r.distance===Oe.distance){var s=Math.PI/180,h=this._mRadius/Oe.R/s,v=i.project([e+h,t]),C=i.project([e-h,t]),y=v.add(C).divideBy(2),z=i.unproject(y).lat,O=Math.acos((Math.cos(h*s)-Math.sin(e*s)*Math.sin(z*s))/(Math.cos(e*s)*Math.cos(z*s)))/s;(isNaN(O)||O===0)&&(O=h/Math.cos(Math.PI/180*e)),this._point=y.subtract(i.getPixelOrigin()),this._radius=isNaN(O)?0:y.x-i.project([z,t-O]).x,this._radiusY=y.y-v.y}else{var I=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(I).x}this._updateBounds()}});function ns(t,e,i){return new io(t,e,i)}var ze=Le.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){it(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e=1/0,i=null,r=Sn,s,h,v=0,C=this._parts.length;v<C;v++)for(var y=this._parts[v],z=1,O=y.length;z<O;z++){s=y[z-1],h=y[z];var I=r(t,s,h,!0);I<e&&(e=I,i=r(t,s,h))}return i&&(i.distance=Math.sqrt(e)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ar(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=$(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new Ht,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Yt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=Yt(t),r=0,s=t.length;r<s;r++)i?(e[r]=$(t[r]),this._bounds.extend(e[r])):e[r]=this._convertLatLngs(t[r]);return e},_project:function(){var t=new at;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new H(t,t);this._rawPxBounds&&(this._pxBounds=new at([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,i){var r=t[0]instanceof et,s=t.length,h,v;if(r){for(v=[],h=0;h<s;h++)v[h]=this._map.latLngToLayerPoint(t[h]),i.extend(v[h]);e.push(v)}else for(h=0;h<s;h++)this._projectLatlngs(t[h],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var e=this._parts,i,r,s,h,v,C,y;for(i=0,s=0,h=this._rings.length;i<h;i++)for(y=this._rings[i],r=0,v=y.length;r<v-1;r++)C=or(y[r],y[r+1],t,r,!0),C&&(e[s]=e[s]||[],e[s].push(C[0]),(C[1]!==y[r+1]||r===v-2)&&(e[s].push(C[1]),s++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,r=t.length;i<r;i++)t[i]=er(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var i,r,s,h,v,C,y=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,h=this._parts.length;i<h;i++)for(C=this._parts[i],r=0,v=C.length,s=v-1;r<v;s=r++)if(!(!e&&r===0)&&nr(t,C[s],C[r])<=y)return!0;return!1}});function is(t,e){return new ze(t,e)}ze._flat=rr;var Je=ze.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return tr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=ze.prototype._convertLatLngs.call(this,t),i=e.length;return i>=2&&e[0]instanceof et&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){ze.prototype._setLatLngs.call(this,t),Yt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Yt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new H(e,e);if(t=new at(t.min.subtract(i),t.max.add(i)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var r=0,s=this._rings.length,h;r<s;r++)h=Qo(this._rings[r],t,!0),h.length&&this._parts.push(h)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e=!1,i,r,s,h,v,C,y,z;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(h=0,y=this._parts.length;h<y;h++)for(i=this._parts[h],v=0,z=i.length,C=z-1;v<z;C=v++)r=i[v],s=i[C],r.y>t.y!=s.y>t.y&&t.x<(s.x-r.x)*(t.y-r.y)/(s.y-r.y)+r.x&&(e=!e);return e||ze.prototype._containsPoint.call(this,t,!0)}});function os(t,e){return new Je(t,e)}var Me=ke.extend({initialize:function(t,e){it(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e=qt(t)?t:t.features,i,r,s;if(e){for(i=0,r=e.length;i<r;i++)s=e[i],(s.geometries||s.geometry||s.features||s.coordinates)&&this.addData(s);return this}var h=this.options;if(h.filter&&!h.filter(t))return this;var v=Kn(t,h);return v?(v.feature=Qn(t),v.defaultOptions=v.options,this.resetStyle(v),h.onEachFeature&&h.onEachFeature(t,v),this.addLayer(v)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&(typeof e=="function"&&(e=e(t.feature)),t.setStyle(e))}});function Kn(t,e){var i=t.type==="Feature"?t.geometry:t,r=i?i.coordinates:null,s=[],h=e&&e.pointToLayer,v=e&&e.coordsToLatLng||oo,C,y,z,O;if(!r&&!i)return null;switch(i.type){case"Point":return C=v(r),cr(h,t,C,e);case"MultiPoint":for(z=0,O=r.length;z<O;z++)C=v(r[z]),s.push(cr(h,t,C,e));return new ke(s);case"LineString":case"MultiLineString":return y=Jn(r,i.type==="LineString"?0:1,v),new ze(y,e);case"Polygon":case"MultiPolygon":return y=Jn(r,i.type==="Polygon"?1:2,v),new Je(y,e);case"GeometryCollection":for(z=0,O=i.geometries.length;z<O;z++){var I=Kn({geometry:i.geometries[z],type:"Feature",properties:t.properties},e);I&&s.push(I)}return new ke(s);case"FeatureCollection":for(z=0,O=i.features.length;z<O;z++){var q=Kn(i.features[z],e);q&&s.push(q)}return new ke(s);default:throw new Error("Invalid GeoJSON object.")}}function cr(t,e,i,r){return t?t(e,i):new $n(i,r&&r.markersInheritOptions&&r)}function oo(t){return new et(t[1],t[0],t[2])}function Jn(t,e,i){for(var r=[],s=0,h=t.length,v;s<h;s++)v=e?Jn(t[s],e-1,i):(i||oo)(t[s]),r.push(v);return r}function ro(t,e){return t=$(t),t.alt!==void 0?[Vt(t.lng,e),Vt(t.lat,e),Vt(t.alt,e)]:[Vt(t.lng,e),Vt(t.lat,e)]}function Yn(t,e,i,r){for(var s=[],h=0,v=t.length;h<v;h++)s.push(e?Yn(t[h],Yt(t[h])?0:e-1,i,r):ro(t[h],r));return!e&&i&&s.length>0&&s.push(s[0].slice()),s}function Ye(t,e){return t.feature?n({},t.feature,{geometry:e}):Qn(e)}function Qn(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var ao={toGeoJSON:function(t){return Ye(this,{type:"Point",coordinates:ro(this.getLatLng(),t)})}};$n.include(ao),io.include(ao),Xn.include(ao),ze.include({toGeoJSON:function(t){var e=!Yt(this._latlngs),i=Yn(this._latlngs,e?1:0,!1,t);return Ye(this,{type:(e?"Multi":"")+"LineString",coordinates:i})}}),Je.include({toGeoJSON:function(t){var e=!Yt(this._latlngs),i=e&&!Yt(this._latlngs[0]),r=Yn(this._latlngs,i?2:e?1:0,!0,t);return e||(r=[r]),Ye(this,{type:(i?"Multi":"")+"Polygon",coordinates:r})}}),Xe.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(i){e.push(i.toGeoJSON(t).geometry.coordinates)}),Ye(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(e==="MultiPoint")return this.toMultiPoint(t);var i=e==="GeometryCollection",r=[];return this.eachLayer(function(s){if(s.toGeoJSON){var h=s.toGeoJSON(t);if(i)r.push(h.geometry);else{var v=Qn(h);v.type==="FeatureCollection"?r.push.apply(r,v.features):r.push(v)}}}),i?Ye(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});function dr(t,e){return new Me(t,e)}var rs=dr,ti=le.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,i){this._url=t,this._bounds=bt(e),it(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(U(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){lt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&je(this._image),this},bringToBack:function(){return this._map&&$e(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=bt(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",e=this._image=t?this._url:K("img");if(U(e,"leaflet-image-layer"),this._zoomAnimated&&U(e,"leaflet-zoom-animated"),this.options.className&&U(e,this.options.className),e.onselectstart=V,e.onmousemove=V,e.onload=m(this.fire,this,"load"),e.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(e.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=e.src;return}e.src=this._url,e.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Ze(this._image,i,e)},_reset:function(){var t=this._image,e=new at(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();yt(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){Jt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),as=function(t,e,i){return new ti(t,e,i)},ur=ti.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",e=this._image=t?this._url:K("video");if(U(e,"leaflet-image-layer"),this._zoomAnimated&&U(e,"leaflet-zoom-animated"),this.options.className&&U(e,this.options.className),e.onselectstart=V,e.onmousemove=V,e.onloadeddata=m(this.fire,this,"load"),t){for(var i=e.getElementsByTagName("source"),r=[],s=0;s<i.length;s++)r.push(i[s].src);this._url=i.length>0?r:[e.src];return}qt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var h=0;h<this._url.length;h++){var v=K("source");v.src=this._url[h],e.appendChild(v)}}});function ls(t,e,i){return new ur(t,e,i)}var pr=ti.extend({_initImage:function(){var t=this._image=this._url;U(t,"leaflet-image-layer"),this._zoomAnimated&&U(t,"leaflet-zoom-animated"),this.options.className&&U(t,this.options.className),t.onselectstart=V,t.onmousemove=V}});function ss(t,e,i){return new pr(t,e,i)}var me=le.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof et||qt(t))?(this._latlng=$(t),it(this,e)):(it(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Jt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Jt(this._container,1),this.bringToFront(),this.options.interactive&&(U(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Jt(this._container,0),this._removeTimeout=setTimeout(m(lt,void 0,this._container),200)):lt(this._container),this.options.interactive&&(ft(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=$(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&je(this._container),this},bringToBack:function(){return this._map&&$e(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof ke){e=null;var i=this._source._layers;for(var r in i)if(i[r]._map){e=i[r];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else if(e.getBounds)t=e.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof e=="string")t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=R(this.options.offset),i=this._getAnchor();this._zoomAnimated?yt(this._container,t.add(i)):e=e.add(t).add(i);var r=this._containerBottom=-e.y,s=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=r+"px",this._container.style.left=s+"px"}},_getAnchor:function(){return[0,0]}});X.include({_initOverlay:function(t,e,i,r){var s=e;return s instanceof t||(s=new t(r).setContent(e)),i&&s.setLatLng(i),s}}),le.include({_initOverlay:function(t,e,i,r){var s=i;return s instanceof t?(it(s,r),s._source=this):(s=e&&!r?e:new t(r,this),s.setContent(i)),s}});var ei=me.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,me.prototype.openOn.call(this,t)},onAdd:function(t){me.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Le||this._source.on("preclick",He))},onRemove:function(t){me.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Le||this._source.off("preclick",He))},getEvents:function(){var t=me.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=K("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=K("div",t+"-content-wrapper",e);if(this._contentNode=K("div",t+"-content",i),wn(e),Xi(this._contentNode),G(e,"contextmenu",He),this._tipContainer=K("div",t+"-tip-container",e),this._tip=K("div",t+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=K("a",t+"-close-button",e);r.setAttribute("role","button"),r.setAttribute("aria-label","Close popup"),r.href="#close",r.innerHTML='<span aria-hidden="true">&#215;</span>',G(r,"click",function(s){Tt(s),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var r=t.offsetHeight,s=this.options.maxHeight,h="leaflet-popup-scrolled";s&&r>s?(e.height=s+"px",U(t,h)):ft(t,h),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();yt(this._container,e.add(i))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,e=parseInt(Pn(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,r=this._containerWidth,s=new H(this._containerLeft,-i-this._containerBottom);s._add(We(this._container));var h=t.layerPointToContainerPoint(s),v=R(this.options.autoPanPadding),C=R(this.options.autoPanPaddingTopLeft||v),y=R(this.options.autoPanPaddingBottomRight||v),z=t.getSize(),O=0,I=0;h.x+r+y.x>z.x&&(O=h.x+r-z.x+y.x),h.x-O-C.x<0&&(O=h.x-C.x),h.y+i+y.y>z.y&&(I=h.y+i-z.y+y.y),h.y-I-C.y<0&&(I=h.y-C.y),(O||I)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([O,I]))}},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),cs=function(t,e){return new ei(t,e)};X.mergeOptions({closePopupOnClick:!0}),X.include({openPopup:function(t,e,i){return this._initOverlay(ei,t,e,i).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),le.include({bindPopup:function(t,e){return this._popup=this._initOverlay(ei,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof ke||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Ge(t);var e=t.layer||t.target;if(this._popup._source===e&&!(e instanceof Le)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=e,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var ni=me.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){me.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){me.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=me.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=K("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+b(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,i,r=this._map,s=this._container,h=r.latLngToContainerPoint(r.getCenter()),v=r.layerPointToContainerPoint(t),C=this.options.direction,y=s.offsetWidth,z=s.offsetHeight,O=R(this.options.offset),I=this._getAnchor();C==="top"?(e=y/2,i=z):C==="bottom"?(e=y/2,i=0):C==="center"?(e=y/2,i=z/2):C==="right"?(e=0,i=z/2):C==="left"?(e=y,i=z/2):v.x<h.x?(C="right",e=0,i=z/2):(C="left",e=y+(O.x+I.x)*2,i=z/2),t=t.subtract(R(e,i,!0)).add(O).add(I),ft(s,"leaflet-tooltip-right"),ft(s,"leaflet-tooltip-left"),ft(s,"leaflet-tooltip-top"),ft(s,"leaflet-tooltip-bottom"),U(s,"leaflet-tooltip-"+C),yt(s,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Jt(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ds=function(t,e){return new ni(t,e)};X.include({openTooltip:function(t,e,i){return this._initOverlay(ni,t,e,i).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),le.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ni,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,i.click=this._openTooltip,this._map?this._addFocusListeners():i.add=this._addFocusListeners),this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof ke||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&(G(e,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),G(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var e=this;this._map.once("moveend",function(){e._openOnceFlag=!1,e._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var e=t.latlng,i,r;this._tooltip.options.sticky&&t.originalEvent&&(i=this._map.mouseEventToContainerPoint(t.originalEvent),r=this._map.containerPointToLayerPoint(i),e=this._map.layerPointToLatLng(r)),this._tooltip.setLatLng(e)}});var mr=Ke.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&t.tagName==="DIV"?t:document.createElement("div"),i=this.options;if(i.html instanceof Element?(Wn(e),e.appendChild(i.html)):e.innerHTML=i.html!==!1?i.html:"",i.bgPos){var r=R(i.bgPos);e.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function us(t){return new mr(t)}Ke.Default=On;var Tn=le.extend({options:{tileSize:256,opacity:1,updateWhenIdle:B.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){it(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),lt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(je(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&($e(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=T(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof H?t:new H(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e=this.getPane().children,i=-t(-1/0,1/0),r=0,s=e.length,h;r<s;r++)h=e[r].style.zIndex,e[r]!==this._container&&h&&(i=t(i,+h));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!B.ielt9){Jt(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var r in this._tiles){var s=this._tiles[r];if(!(!s.current||!s.loaded)){var h=Math.min(1,(t-s.loaded)/200);Jt(s.el,h),h<1?e=!0:(s.active?i=!0:this._onOpaqueTile(s),s.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(Kt(this._fadeFrame),this._fadeFrame=Zt(this._updateOpacity,this))}},_onOpaqueTile:V,_initContainer:function(){this._container||(this._container=K("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t!==void 0){for(var i in this._levels)i=Number(i),this._levels[i].el.children.length||i===t?(this._levels[i].el.style.zIndex=e-Math.abs(t-i),this._onUpdateLevel(i)):(lt(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var r=this._levels[t],s=this._map;return r||(r=this._levels[t]={},r.el=K("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=e,r.origin=s.project(s.unproject(s.getPixelOrigin()),t).round(),r.zoom=t,this._setZoomTransform(r,s.getCenter(),s.getZoom()),V(r.el.offsetWidth),this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:V,_onRemoveLevel:V,_onCreateLevel:V,_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var r=e.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)lt(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,i,r){var s=Math.floor(t/2),h=Math.floor(e/2),v=i-1,C=new H(+s,+h);C.z=+v;var y=this._tileCoordsToKey(C),z=this._tiles[y];return z&&z.active?(z.retain=!0,!0):(z&&z.loaded&&(z.retain=!0),v>r?this._retainParent(s,h,v,r):!1)},_retainChildren:function(t,e,i,r){for(var s=2*t;s<2*t+2;s++)for(var h=2*e;h<2*e+2;h++){var v=new H(s,h);v.z=i+1;var C=this._tileCoordsToKey(v),y=this._tiles[C];if(y&&y.active){y.retain=!0;continue}else y&&y.loaded&&(y.retain=!0);i+1<r&&this._retainChildren(s,h,i+1,r)}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return e.minNativeZoom!==void 0&&t<e.minNativeZoom?e.minNativeZoom:e.maxNativeZoom!==void 0&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,i,r){var s=Math.round(e);this.options.maxZoom!==void 0&&s>this.options.maxZoom||this.options.minZoom!==void 0&&s<this.options.minZoom?s=void 0:s=this._clampZoom(s);var h=this.options.updateWhenZooming&&s!==this._tileZoom;(!r||h)&&(this._tileZoom=s,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),s!==void 0&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var r=this._map.getZoomScale(i,t.zoom),s=t.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(e,i)).round();B.any3d?Ze(t.el,s,r):yt(t.el,s)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),r=this._tileZoom,s=this._map.getPixelWorldBounds(this._tileZoom);s&&(this._globalTileRange=this._pxBoundsToTileRange(s)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],r).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],r).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],r).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],r).y/i.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),r=e.getZoomScale(i,this._tileZoom),s=e.project(t,this._tileZoom).floor(),h=e.getSize().divideBy(r*2);return new at(s.subtract(h),s.add(h))},_update:function(t){var e=this._map;if(e){var i=this._clampZoom(e.getZoom());if(t===void 0&&(t=e.getCenter()),this._tileZoom!==void 0){var r=this._getTiledPixelBounds(t),s=this._pxBoundsToTileRange(r),h=s.getCenter(),v=[],C=this.options.keepBuffer,y=new at(s.getBottomLeft().subtract([C,-C]),s.getTopRight().add([C,-C]));if(!(isFinite(s.min.x)&&isFinite(s.min.y)&&isFinite(s.max.x)&&isFinite(s.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var z in this._tiles){var O=this._tiles[z].coords;(O.z!==this._tileZoom||!y.contains(new H(O.x,O.y)))&&(this._tiles[z].current=!1)}if(Math.abs(i-this._tileZoom)>1){this._setView(t,i);return}for(var I=s.min.y;I<=s.max.y;I++)for(var q=s.min.x;q<=s.max.x;q++){var Rt=new H(q,I);if(Rt.z=this._tileZoom,!!this._isValidTile(Rt)){var wt=this._tiles[this._tileCoordsToKey(Rt)];wt?wt.current=!0:v.push(Rt)}}if(v.sort(function(Gt,tn){return Gt.distanceTo(h)-tn.distanceTo(h)}),v.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Qt=document.createDocumentFragment();for(q=0;q<v.length;q++)this._addTile(v[q],Qt);this._level.el.appendChild(Qt)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(t);return bt(this.options.bounds).overlaps(r)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,i=this.getTileSize(),r=t.scaleBy(i),s=r.add(i),h=e.unproject(r,t.z),v=e.unproject(s,t.z);return[h,v]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),i=new Ht(e[0],e[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),i=new H(+e[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(lt(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){U(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=V,t.onmousemove=V,B.ielt9&&this.options.opacity<1&&Jt(t,this.options.opacity)},_addTile:function(t,e){var i=this._getTilePos(t),r=this._tileCoordsToKey(t),s=this.createTile(this._wrapCoords(t),m(this._tileReady,this,t));this._initTile(s),this.createTile.length<2&&Zt(m(this._tileReady,this,t,null,s)),yt(s,i),this._tiles[r]={el:s,coords:t,current:!0},e.appendChild(s),this.fire("tileloadstart",{tile:s,coords:t})},_tileReady:function(t,e,i){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var r=this._tileCoordsToKey(t);i=this._tiles[r],i&&(i.loaded=+new Date,this._map._fadeAnimated?(Jt(i.el,0),Kt(this._fadeFrame),this._fadeFrame=Zt(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(U(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),B.ielt9||!this._map._fadeAnimated?Zt(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new H(this._wrapX?M(t.x,this._wrapX):t.x,this._wrapY?M(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new at(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function ps(t){return new Tn(t)}var Qe=Tn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,e=it(this,e),e.detectRetina&&B.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),typeof e.subdomains=="string"&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&e===void 0&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return G(i,"load",m(this._tileOnLoad,this,e,i)),G(i,"error",m(this._tileOnError,this,e,i)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(i.referrerPolicy=this.options.referrerPolicy),i.alt="",i.src=this.getTileUrl(t),i},getTileUrl:function(t){var e={r:B.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return Fn(this._url,n(e,this.options))},_tileOnLoad:function(t,e){B.ielt9?setTimeout(m(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var r=this.options.errorTileUrl;r&&e.getAttribute("src")!==r&&(e.src=r),t(i,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,i=this.options.zoomReverse,r=this.options.zoomOffset;return i&&(t=e-t),t+r},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=V,e.onerror=V,!e.complete)){e.src=Vn;var i=this._tiles[t].coords;lt(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:i})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",Vn),Tn.prototype._removeTile.call(this,t)},_tileReady:function(t,e,i){if(!(!this._map||i&&i.getAttribute("src")===Vn))return Tn.prototype._tileReady.call(this,t,e,i)}});function _r(t,e){return new Qe(t,e)}var hr=Qe.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=n({},this.defaultWmsParams);for(var r in e)r in this.options||(i[r]=e[r]);e=it(this,e);var s=e.detectRetina&&B.retina?2:1,h=this.getTileSize();i.width=h.x*s,i.height=h.y*s,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Qe.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),i=this._crs,r=Wt(i.project(e[0]),i.project(e[1])),s=r.min,h=r.max,v=(this._wmsVersion>=1.3&&this._crs===lr?[s.y,s.x,h.y,h.x]:[s.x,s.y,h.x,h.y]).join(","),C=Qe.prototype.getTileUrl.call(this,t);return C+An(this.wmsParams,C,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+v},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});function ms(t,e){return new hr(t,e)}Qe.WMS=hr,_r.wms=ms;var we=le.extend({options:{padding:.1},initialize:function(t){it(this,t),b(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),U(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),s=this._map.project(this._center,e),h=r.multiplyBy(-i).add(s).subtract(this._map._getNewPixelOrigin(t,e));B.any3d?Ze(this._container,h,i):yt(this._container,h)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new at(i,i.add(e.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),gr=we.extend({options:{tolerance:0},getEvents:function(){var t=we.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){we.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");G(t,"mousemove",this._onMouseMove,this),G(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),G(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){Kt(this._redrawRequest),delete this._ctx,lt(this._container),ot(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var e in this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){we.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),r=B.retina?2:1;yt(e,t.min),e.width=r*i.x,e.height=r*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",B.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){we.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[b(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,i=e.next,r=e.prev;i?i.prev=r:this._drawLast=r,r?r.next=i:this._drawFirst=i,delete t._order,delete this._layers[b(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var e=t.options.dashArray.split(/[, ]+/),i=[],r,s;for(s=0;s<e.length;s++){if(r=Number(e[s]),isNaN(r))return;i.push(r)}t.options._dashArray=i}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||Zt(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new at,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var i=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)t=r.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,r,s,h,v=t._parts,C=v.length,y=this._ctx;if(C){for(y.beginPath(),i=0;i<C;i++){for(r=0,s=v[i].length;r<s;r++)h=v[i][r],y[r?"lineTo":"moveTo"](h.x,h.y);e&&y.closePath()}this._fillStroke(y,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var e=t._point,i=this._ctx,r=Math.max(Math.round(t._radius),1),s=(Math.max(Math.round(t._radiusY),1)||r)/r;s!==1&&(i.save(),i.scale(1,s)),i.beginPath(),i.arc(e.x,e.y/s,r,0,Math.PI*2,!1),s!==1&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&i.weight!==0&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var e=this._map.mouseEventToLayerPoint(t),i,r,s=this._drawFirst;s;s=s.next)i=s.layer,i.options.interactive&&i._containsPoint(e)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(i))&&(r=i);this._fireEvent(r?[r]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(ft(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var i,r,s=this._drawFirst;s;s=s.next)i=s.layer,i.options.interactive&&i._containsPoint(e)&&(r=i);r!==this._hoveredLayer&&(this._handleMouseOut(t),r&&(U(this._container,"leaflet-interactive"),this._fireEvent([r],t,"mouseover"),this._hoveredLayer=r)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var i=e.next,r=e.prev;if(i)i.prev=r;else return;r?r.next=i:i&&(this._drawFirst=i),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t)}},_bringToBack:function(t){var e=t._order;if(e){var i=e.next,r=e.prev;if(r)r.next=i;else return;i?i.prev=r:r&&(this._drawLast=r),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t)}}});function fr(t){return B.canvas?new gr(t):null}var Ln=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),_s={_initContainer:function(){this._container=K("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(we.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Ln("shape");U(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Ln("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[b(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;lt(e),t.removeInteractiveTarget(e),delete this._layers[b(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,r=t.options,s=t._container;s.stroked=!!r.stroke,s.filled=!!r.fill,r.stroke?(e||(e=t._stroke=Ln("stroke")),s.appendChild(e),e.weight=r.weight+"px",e.color=r.color,e.opacity=r.opacity,r.dashArray?e.dashStyle=qt(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=r.lineCap.replace("butt","flat"),e.joinstyle=r.lineJoin):e&&(s.removeChild(e),t._stroke=null),r.fill?(i||(i=t._fill=Ln("fill")),s.appendChild(i),i.color=r.fillColor||r.color,i.opacity=r.fillOpacity):i&&(s.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),r=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+r+" 0,"+65535*360)},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){je(t._container)},_bringToBack:function(t){$e(t._container)}},ii=B.vml?Ln:yo,Bn=we.extend({_initContainer:function(){this._container=ii("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ii("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){lt(this._container),ot(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){we.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;(!this._svgSize||!this._svgSize.equals(e))&&(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),yt(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=ii("path");t.options.className&&U(e,t.options.className),t.options.interactive&&U(e,"leaflet-interactive"),this._updateStyle(t),this._layers[b(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){lt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[b(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,xo(t._parts,e))},_updateCircle:function(t){var e=t._point,i=Math.max(Math.round(t._radius),1),r=Math.max(Math.round(t._radiusY),1)||i,s="a"+i+","+r+" 0 1,0 ",h=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+s+i*2+",0 "+s+-i*2+",0 ";this._setPath(t,h)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){je(t._path)},_bringToBack:function(t){$e(t._path)}});B.vml&&Bn.include(_s);function vr(t){return B.svg||B.vml?new Bn(t):null}X.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var e=this._paneRenderers[t];return e===void 0&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&fr(t)||vr(t)}});var Cr=Je.extend({initialize:function(t,e){Je.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=bt(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function hs(t,e){return new Cr(t,e)}Bn.create=ii,Bn.pointsToPath=xo,Me.geometryToLayer=Kn,Me.coordsToLatLng=oo,Me.coordsToLatLngs=Jn,Me.latLngToCoords=ro,Me.latLngsToCoords=Yn,Me.getFeature=Ye,Me.asFeature=Qn,X.mergeOptions({boxZoom:!0});var br=pe.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){G(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ot(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){lt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),kn(),Zi(),this._startPoint=this._map.mouseEventToContainerPoint(t),G(document,{contextmenu:Ge,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=K("div","leaflet-zoom-box",this._container),U(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new at(this._point,this._startPoint),i=e.getSize();yt(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(lt(this._box),ft(this._container,"leaflet-crosshair")),zn(),Wi(),ot(document,{contextmenu:Ge,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var e=new Ht(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});X.addInitHook("addHandler","boxZoom",br),X.mergeOptions({doubleClickZoom:!0});var yr=pe.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),r=e.options.zoomDelta,s=t.originalEvent.shiftKey?i-r:i+r;e.options.doubleClickZoom==="center"?e.setZoom(s):e.setZoomAround(t.containerPoint,s)}});X.addInitHook("addHandler","doubleClickZoom",yr),X.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var xr=pe.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Te(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}U(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ft(this._map._container,"leaflet-grab"),ft(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=bt(this._map.options.maxBounds);this._offsetLimit=Wt(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,r=this._draggable._newPos.x,s=(r-e+i)%t+e-i,h=(r+e+i)%t-e-i,v=Math.abs(s+i)<Math.abs(h+i)?s:h;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=v},_onDragEnd:function(t){var e=this._map,i=e.options,r=!i.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),r)e.fire("moveend");else{this._prunePositions(+new Date);var s=this._lastPos.subtract(this._positions[0]),h=(this._lastTime-this._times[0])/1e3,v=i.easeLinearity,C=s.multiplyBy(v/h),y=C.distanceTo([0,0]),z=Math.min(i.inertiaMaxSpeed,y),O=C.multiplyBy(z/y),I=z/(i.inertiaDeceleration*v),q=O.multiplyBy(-I/2).round();!q.x&&!q.y?e.fire("moveend"):(q=e._limitOffset(q,e.options.maxBounds),Zt(function(){e.panBy(q,{duration:I,easeLinearity:v,noMoveStart:!0,animate:!0})}))}}});X.addInitHook("addHandler","dragging",xr),X.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Pr=pe.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),G(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ot(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,i=t.scrollTop||e.scrollTop,r=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(r,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e=this._panKeys={},i=this.keyCodes,r,s;for(r=0,s=i.left.length;r<s;r++)e[i.left[r]]=[-1*t,0];for(r=0,s=i.right.length;r<s;r++)e[i.right[r]]=[t,0];for(r=0,s=i.down.length;r<s;r++)e[i.down[r]]=[0,t];for(r=0,s=i.up.length;r<s;r++)e[i.up[r]]=[0,-1*t]},_setZoomDelta:function(t){var e=this._zoomKeys={},i=this.keyCodes,r,s;for(r=0,s=i.zoomIn.length;r<s;r++)e[i.zoomIn[r]]=t;for(r=0,s=i.zoomOut.length;r<s;r++)e[i.zoomOut[r]]=-t},_addHooks:function(){G(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ot(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=t.keyCode,i=this._map,r;if(e in this._panKeys){if(!i._panAnim||!i._panAnim._inProgress)if(r=this._panKeys[e],t.shiftKey&&(r=R(r).multiplyBy(3)),i.options.maxBounds&&(r=i._limitOffset(R(r),i.options.maxBounds)),i.options.worldCopyJump){var s=i.wrapLatLng(i.unproject(i.project(i.getCenter()).add(r)));i.panTo(s)}else i.panBy(r)}else if(e in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e]);else if(e===27&&i._popup&&i._popup.options.closeOnEscapeKey)i.closePopup();else return;Ge(t)}}});X.addInitHook("addHandler","keyboard",Pr),X.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var kr=pe.extend({addHooks:function(){G(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ot(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=$o(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var r=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),r),Ge(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var r=this._delta/(this._map.options.wheelPxPerZoomLevel*4),s=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,h=i?Math.ceil(s/i)*i:s,v=t._limitZoom(e+(this._delta>0?h:-h))-e;this._delta=0,this._startTime=null,v&&(t.options.scrollWheelZoom==="center"?t.setZoom(e+v):t.setZoomAround(this._lastMousePos,e+v))}});X.addInitHook("addHandler","scrollWheelZoom",kr);var gs=600;X.mergeOptions({tapHold:B.touchNative&&B.safari&&B.mobile,tapTolerance:15});var zr=pe.extend({addHooks:function(){G(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ot(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var e=t.touches[0];this._startPos=this._newPos=new H(e.clientX,e.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(G(document,"touchend",Tt),G(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))},this),gs),G(document,"touchend touchcancel contextmenu",this._cancel,this),G(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){ot(document,"touchend",Tt),ot(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),ot(document,"touchend touchcancel contextmenu",this._cancel,this),ot(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new H(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var i=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});i._simulated=!0,e.target.dispatchEvent(i)}});X.addInitHook("addHandler","tapHold",zr),X.mergeOptions({touchZoom:B.touch,bounceAtZoomLimits:!0});var Mr=pe.extend({addHooks:function(){U(this._map._container,"leaflet-touch-zoom"),G(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ft(this._map._container,"leaflet-touch-zoom"),ot(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(!(!t.touches||t.touches.length!==2||e._animatingZoom||this._zooming)){var i=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),e.options.touchZoom!=="center"&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(r)._divideBy(2))),this._startDist=i.distanceTo(r),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),G(document,"touchmove",this._onTouchMove,this),G(document,"touchend touchcancel",this._onTouchEnd,this),Tt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]),s=i.distanceTo(r)/this._startDist;if(this._zoom=e.getScaleZoom(s,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&s<1||this._zoom>e.getMaxZoom()&&s>1)&&(this._zoom=e._limitZoom(this._zoom)),e.options.touchZoom==="center"){if(this._center=this._startLatLng,s===1)return}else{var h=i._add(r)._divideBy(2)._subtract(this._centerPoint);if(s===1&&h.x===0&&h.y===0)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(h),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),Kt(this._animRequest);var v=m(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Zt(v,this,!0),Tt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Kt(this._animRequest),ot(document,"touchmove",this._onTouchMove,this),ot(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});X.addInitHook("addHandler","touchZoom",Mr),X.BoxZoom=br,X.DoubleClickZoom=yr,X.Drag=xr,X.Keyboard=Pr,X.ScrollWheelZoom=kr,X.TapHold=zr,X.TouchZoom=Mr,o.Bounds=at,o.Browser=B,o.CRS=Pe,o.Canvas=gr,o.Circle=io,o.CircleMarker=Xn,o.Class=xe,o.Control=ae,o.DivIcon=mr,o.DivOverlay=me,o.DomEvent=Il,o.DomUtil=Ll,o.Draggable=Te,o.Evented=Cn,o.FeatureGroup=ke,o.GeoJSON=Me,o.GridLayer=Tn,o.Handler=pe,o.Icon=Ke,o.ImageOverlay=ti,o.LatLng=et,o.LatLngBounds=Ht,o.Layer=le,o.LayerGroup=Xe,o.LineUtil=jl,o.Map=X,o.Marker=$n,o.Mixin=Zl,o.Path=Le,o.Point=H,o.PolyUtil=Wl,o.Polygon=Je,o.Polyline=ze,o.Popup=ei,o.PosAnimation=Xo,o.Projection=$l,o.Rectangle=Cr,o.Renderer=we,o.SVG=Bn,o.SVGOverlay=pr,o.TileLayer=Qe,o.Tooltip=ni,o.Transformation=Si,o.Util=tl,o.VideoOverlay=ur,o.bind=m,o.bounds=Wt,o.canvas=fr,o.circle=ns,o.circleMarker=es,o.control=En,o.divIcon=us,o.extend=n,o.featureGroup=Yl,o.geoJSON=dr,o.geoJson=rs,o.gridLayer=ps,o.icon=Ql,o.imageOverlay=as,o.latLng=$,o.latLngBounds=bt,o.layerGroup=Jl,o.map=Dl,o.marker=ts,o.point=R,o.polygon=os,o.polyline=is,o.popup=cs,o.rectangle=hs,o.setOptions=it,o.stamp=b,o.svg=vr,o.svgOverlay=ss,o.tileLayer=_r,o.tooltip=ds,o.transformation=bn,o.version=a,o.videoOverlay=ls;var fs=window.L;o.noConflict=function(){return window.L=fs,this},window.L=o})});var Ia={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"],["table"]]},Da=new Lr("config",{providedIn:"root",factory:()=>({modules:Ia})});var Na=(()=>{class o{static forRoot(n){return{ngModule:o,providers:[{provide:Da,useValue:n}]}}static{this.\u0275fac=function(l){return new(l||o)}}static{this.\u0275mod=on({type:o})}static{this.\u0275inj=en({})}}return o})();var Ls=()=>({padding:"0"});function Bs(o,a){o&1&&(u(0,"div",12),P(1,"i",13),u(2,"span"),g(3,"Danh s\xE1ch s\u1EA3n ph\u1EA9m"),p()())}function Is(o,a){if(o&1){let n=Z();u(0,"button",14),k("click",function(){w(n);let m=f();return E(m.createProduct())}),P(1,"i",15),g(2,"Th\xEAm s\u1EA3n ph\u1EA9m "),p()}}function Ds(o,a){o&1&&(u(0,"nz-tag",30),g(1,"D\u1EF1 \xE1n"),p()),o&2&&d("nzColor","blue")}function Ns(o,a){o&1&&(u(0,"nz-tag",30),g(1,"Mua b\xE1n"),p()),o&2&&d("nzColor","green")}function As(o,a){o&1&&(u(0,"nz-tag",30),g(1,"Cho thu\xEA"),p()),o&2&&d("nzColor","orange")}function Fs(o,a){if(o&1&&(Q(0),u(1,"div"),g(2),p(),u(3,"div"),g(4),p(),u(5,"div"),g(6),p(),tt()),o&2){let n=f().$implicit;c(2),D("Lo\u1EA1i d\u1EF1 \xE1n: ",n.product_detail.project_type==="luxury_apartment"?"C\u0103n h\u1ED9 cao c\u1EA5p":n.product_detail.project_type==="urban_area"?"Khu \u0111\xF4 th\u1ECB":n.product_detail.project_type==="resort"?"Khu ngh\u1EC9 d\u01B0\u1EE1ng":n.product_detail.project_type==="complex"?"Khu ph\u1EE9c h\u1EE3p":"N/A",""),c(2),D("Tr\u1EA1ng th\xE1i: ",n.product_detail.project_status==="selling"?"\u0110ang m\u1EDF b\xE1n":n.product_detail.project_status==="coming_soon"?"S\u1EAFp m\u1EDF b\xE1n":n.product_detail.project_status==="delivered"?"\u0110\xE3 b\xE0n giao":n.product_detail.project_status==="completed"?"\u0110\xE3 ho\xE0n th\xE0nh":"N/A",""),c(2),D("Ch\u1EE7 \u0111\u1EA7u t\u01B0: ",n.product_detail.investor||"N/A","")}}function Vs(o,a){if(o&1&&(u(0,"div"),g(1),p()),o&2){let n=f(2).$implicit;c(),D("",n.product_detail.bedroom," ph\xF2ng ng\u1EE7")}}function Rs(o,a){if(o&1&&(u(0,"div"),g(1),p()),o&2){let n=f(2).$implicit;c(),D("",n.product_detail.bathroom," ph\xF2ng t\u1EAFm")}}function Zs(o,a){if(o&1&&(u(0,"div"),g(1),p()),o&2){let n=f(2).$implicit,l=f();c(),D("Gi\xE1 \u0111i\u1EC7n: ",l.formatPrice(n.product_detail.eletric_price),"/kwh")}}function Ws(o,a){if(o&1&&(u(0,"div"),g(1),p()),o&2){let n=f(2).$implicit,l=f();c(),D("Gi\xE1 n\u01B0\u1EDBc: ",l.formatPrice(n.product_detail.water_price),"/m\xB3")}}function Hs(o,a){if(o&1&&(u(0,"div"),g(1),p()),o&2){let n=f(2).$implicit,l=f();c(),D("Gi\xE1 internet: ",l.formatPrice(n.product_detail.internet_price),"/th\xE1ng")}}function Gs(o,a){if(o&1&&(Q(0),x(1,Vs,2,1,"div",21)(2,Rs,2,1,"div",21)(3,Zs,2,1,"div",21)(4,Ws,2,1,"div",21)(5,Hs,2,1,"div",21),tt()),o&2){let n=f().$implicit;c(),d("ngIf",n.product_detail.bedroom),c(),d("ngIf",n.product_detail.bathroom),c(),d("ngIf",n.product_detail.eletric_price),c(),d("ngIf",n.product_detail.water_price),c(),d("ngIf",n.product_detail.internet_price)}}function Us(o,a){if(o&1&&(u(0,"div"),g(1),p()),o&2){let n=f(2).$implicit;c(),D("",n.product_detail.bedroom," ph\xF2ng ng\u1EE7")}}function qs(o,a){if(o&1&&(u(0,"div"),g(1),p()),o&2){let n=f(2).$implicit;c(),D("",n.product_detail.bathroom," ph\xF2ng t\u1EAFm")}}function js(o,a){if(o&1&&(Q(0),x(1,Us,2,1,"div",21)(2,qs,2,1,"div",21),tt()),o&2){let n=f().$implicit;c(),d("ngIf",n.product_detail.bedroom),c(),d("ngIf",n.product_detail.bathroom)}}function $s(o,a){if(o&1){let n=Z();u(0,"tr")(1,"td"),g(2),p(),u(3,"td"),P(4,"nz-avatar",16),p(),u(5,"td",17),g(6),p(),u(7,"td",18),g(8),p(),u(9,"td"),x(10,Ds,2,1,"nz-tag",19)(11,Ns,2,1,"nz-tag",19)(12,As,2,1,"nz-tag",19),p(),u(13,"td")(14,"div",20)(15,"div"),g(16),p(),x(17,Fs,7,3,"ng-container",21)(18,Gs,6,5,"ng-container",21)(19,js,3,2,"ng-container",21),p()(),u(20,"td"),g(21),p(),u(22,"td",22)(23,"a",23),k("click",function(){let m=w(n).$implicit,_=f();return E(_.viewProduct(m))}),P(24,"i",24),p(),P(25,"nz-divider",25),u(26,"a",26),k("click",function(){let m=w(n).$implicit,_=f();return E(_.editProduct(m.id))}),P(27,"i",27),p(),P(28,"nz-divider",25),u(29,"a",28),k("click",function(){let m=w(n).$implicit,_=f();return E(_.confirmDelete(m.id))}),P(30,"i",29),p()()()}if(o&2){let n,l=a.$implicit,m=a.index,_=f();c(2),S(m+1),c(2),d("nzSize",64)("nzShape","square")("nzSrc","https://lh3.googleusercontent.com/d/"+((n=l==null||l.images==null||l.images[0]==null?null:l.images[0].drive_id)!==null&&n!==void 0?n:""))("nzAlt",l.name),c(2),S(l.name),c(2),S(l.address_detail.address),c(2),d("ngIf",l.category_id===7),c(),d("ngIf",l.product_detail.type_product==="sale"),c(),d("ngIf",l.product_detail.type_product==="rent"),c(4),D("Di\u1EC7n t\xEDch: ",l.product_detail.area,"m\xB2"),c(),d("ngIf",l.category_id===7),c(),d("ngIf",l.product_detail.type_product==="rent"),c(),d("ngIf",l.product_detail.type_product==="sale"),c(2),S(_.formatPrice(l.product_detail.price))}}function Xs(o,a){if(o&1&&(u(0,"div",31)(1,"span"),g(2),p()()),o&2){let n=f();c(2),S(n.selectedProduct==null?null:n.selectedProduct.name)}}function Ks(o,a){if(o&1&&(u(0,"div",50),P(1,"img",51),p()),o&2){let n,l,m=f(2);c(),d("src","https://lh3.googleusercontent.com/d/"+((n=m.selectedProduct==null||m.selectedProduct.images==null||m.selectedProduct.images[0]==null?null:m.selectedProduct.images[0].drive_id)!==null&&n!==void 0?n:""),J)("alt",(l=m.selectedProduct==null?null:m.selectedProduct.name)!==null&&l!==void 0?l:"")}}function Js(o,a){o&1&&(u(0,"nz-tag",30),g(1,"D\u1EF1 \xE1n"),p()),o&2&&d("nzColor","blue")}function Ys(o,a){o&1&&(u(0,"nz-tag",30),g(1,"Mua b\xE1n"),p()),o&2&&d("nzColor","green")}function Qs(o,a){o&1&&(u(0,"nz-tag",30),g(1,"Cho thu\xEA"),p()),o&2&&d("nzColor","orange")}function tc(o,a){if(o&1&&(u(0,"span"),g(1),p()),o&2){let n=f(2);c(),D(" - ",n.formatPrice((n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.price_to)||0),"")}}function ec(o,a){if(o&1&&(u(0,"nz-descriptions-item",55),g(1),p()),o&2){let n=f(3);c(),D(" ",n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.bedroom," ")}}function nc(o,a){if(o&1&&(u(0,"nz-descriptions-item",56),g(1),p()),o&2){let n=f(3);c(),D(" ",n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.bathroom," ")}}function ic(o,a){if(o&1&&(u(0,"div",52)(1,"h3"),g(2,"Th\xF4ng tin ph\xF2ng"),p(),u(3,"nz-descriptions",35),x(4,ec,2,1,"nz-descriptions-item",53)(5,nc,2,1,"nz-descriptions-item",54),p()()),o&2){let n=f(2);c(3),d("nzColumn",2),c(),d("ngIf",n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.bedroom),c(),d("ngIf",n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.bathroom)}}function oc(o,a){if(o&1&&(u(0,"div",57)(1,"h3"),g(2,"Th\xF4ng tin d\u1EF1 \xE1n"),p(),u(3,"nz-descriptions",35)(4,"nz-descriptions-item",58),g(5),p(),u(6,"nz-descriptions-item",59),g(7),p(),u(8,"nz-descriptions-item",60),g(9),p()()()),o&2){let n,l,m,_=f(2);c(3),d("nzColumn",2),c(2),D(" ",(n=_.selectedProduct==null||_.selectedProduct.product_detail==null?null:_.selectedProduct.product_detail.investor)!==null&&n!==void 0?n:"N/A"," "),c(2),D(" ",(l=_.selectedProduct==null||_.selectedProduct.product_detail==null?null:_.selectedProduct.product_detail.project_type)!==null&&l!==void 0?l:"N/A"," "),c(),d("nzSpan",2),c(),D(" ",(m=_.selectedProduct==null||_.selectedProduct.product_detail==null?null:_.selectedProduct.product_detail.project_status)!==null&&m!==void 0?m:"N/A"," ")}}function rc(o,a){if(o&1&&(u(0,"nz-descriptions-item",65),g(1),p()),o&2){let n=f(3);c(),D(" ",n.formatPrice((n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.eletric_price)||0),"/th\xE1ng ")}}function ac(o,a){if(o&1&&(u(0,"nz-descriptions-item",66),g(1),p()),o&2){let n=f(3);c(),D(" ",n.formatPrice((n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.water_price)||0),"/th\xE1ng ")}}function lc(o,a){if(o&1&&(u(0,"nz-descriptions-item",67),g(1),p()),o&2){let n=f(3);c(),D(" ",n.formatPrice((n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.internet_price)||0),"/th\xE1ng ")}}function sc(o,a){if(o&1&&(u(0,"div",61)(1,"h3"),g(2,"Chi ph\xED ti\u1EC7n \xEDch"),p(),u(3,"nz-descriptions",35),x(4,rc,2,1,"nz-descriptions-item",62)(5,ac,2,1,"nz-descriptions-item",63)(6,lc,2,1,"nz-descriptions-item",64),p()()),o&2){let n=f(2);c(3),d("nzColumn",3),c(),d("ngIf",n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.eletric_price),c(),d("ngIf",n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.water_price),c(),d("ngIf",n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.internet_price)}}function cc(o,a){if(o&1&&(u(0,"nz-descriptions-item",71),g(1),p()),o&2){let n=f(3);d("nzSpan",2),c(),D(" ",n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.utilities," ")}}function dc(o,a){if(o&1&&(u(0,"nz-descriptions-item",72),g(1),p()),o&2){let n=f(3);d("nzSpan",2),c(),D(" ",n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.interiol," ")}}function uc(o,a){if(o&1&&(u(0,"div",68)(1,"h3"),g(2,"Ti\u1EC7n \xEDch & N\u1ED9i th\u1EA5t"),p(),u(3,"nz-descriptions",35),x(4,cc,2,2,"nz-descriptions-item",69)(5,dc,2,2,"nz-descriptions-item",70),p()()),o&2){let n=f(2);c(3),d("nzColumn",2),c(),d("ngIf",n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.utilities),c(),d("ngIf",n.selectedProduct==null||n.selectedProduct.product_detail==null?null:n.selectedProduct.product_detail.interiol)}}function pc(o,a){if(o&1&&(u(0,"nz-tag",30),g(1),p()),o&2){let n=a.$implicit;d("nzColor",n.color),c(),D(" ",n.name," ")}}function mc(o,a){if(o&1&&(u(0,"div",73)(1,"h3"),g(2,"Tags"),p(),x(3,pc,2,2,"nz-tag",74),p()),o&2){let n=f(2);c(3),d("ngForOf",n.selectedProduct==null?null:n.selectedProduct.tag)}}function _c(o,a){if(o&1&&(u(0,"div",32),x(1,Ks,2,2,"div",33),u(2,"div",34)(3,"nz-descriptions",35)(4,"nz-descriptions-item",36),g(5),p(),u(6,"nz-descriptions-item",37),g(7),p(),u(8,"nz-descriptions-item",38),g(9),p(),u(10,"nz-descriptions-item",39),g(11),p(),u(12,"nz-descriptions-item",40),g(13),p(),u(14,"nz-descriptions-item",41),x(15,Js,2,1,"nz-tag",19)(16,Ys,2,1,"nz-tag",19)(17,Qs,2,1,"nz-tag",19),p(),u(18,"nz-descriptions-item",42),g(19),x(20,tc,2,1,"span",21),p()(),x(21,ic,6,3,"div",43)(22,oc,10,5,"div",44)(23,sc,7,4,"div",45)(24,uc,6,3,"div",46)(25,mc,4,1,"div",47),u(26,"div",48)(27,"h3"),g(28,"M\xF4 t\u1EA3 chi ti\u1EBFt"),p(),P(29,"div",49),p()()()),o&2){let n,l,m,_,b,T,M=f();c(),d("ngIf",M.selectedProduct==null||M.selectedProduct.images==null||M.selectedProduct.images[0]==null?null:M.selectedProduct.images[0].drive_id),c(2),d("nzColumn",2),c(),d("nzSpan",2),c(),D(" ",(n=M.selectedProduct==null||M.selectedProduct.address_detail==null?null:M.selectedProduct.address_detail.address)!==null&&n!==void 0?n:"N/A"," "),c(2),D(" ",(l=M.selectedProduct==null||M.selectedProduct.address_detail==null?null:M.selectedProduct.address_detail.ward)!==null&&l!==void 0?l:"N/A"," "),c(2),D(" ",(m=M.selectedProduct==null||M.selectedProduct.address_detail==null?null:M.selectedProduct.address_detail.district)!==null&&m!==void 0?m:"N/A"," "),c(2),D(" ",(_=M.selectedProduct==null||M.selectedProduct.address_detail==null?null:M.selectedProduct.address_detail.province)!==null&&_!==void 0?_:"N/A"," "),c(2),D(" ",(b=M.selectedProduct==null||M.selectedProduct.product_detail==null?null:M.selectedProduct.product_detail.area)!==null&&b!==void 0?b:0,"m\xB2 "),c(2),d("ngIf",(M.selectedProduct==null?null:M.selectedProduct.category_id)===7),c(),d("ngIf",(M.selectedProduct==null||M.selectedProduct.product_detail==null?null:M.selectedProduct.product_detail.type_product)==="sell"),c(),d("ngIf",(M.selectedProduct==null||M.selectedProduct.product_detail==null?null:M.selectedProduct.product_detail.type_product)==="rent"),c(),d("nzSpan",2),c(),D(" ",M.formatPrice((M.selectedProduct==null||M.selectedProduct.product_detail==null?null:M.selectedProduct.product_detail.price)||0)," "),c(),d("ngIf",M.selectedProduct==null||M.selectedProduct.product_detail==null?null:M.selectedProduct.product_detail.price_to),c(),d("ngIf",(M.selectedProduct==null||M.selectedProduct.product_detail==null?null:M.selectedProduct.product_detail.bedroom)||(M.selectedProduct==null||M.selectedProduct.product_detail==null?null:M.selectedProduct.product_detail.bathroom)),c(),d("ngIf",(M.selectedProduct==null?null:M.selectedProduct.category_id)===7),c(),d("ngIf",(M.selectedProduct==null||M.selectedProduct.product_detail==null?null:M.selectedProduct.product_detail.type_product)==="rent"),c(),d("ngIf",(M.selectedProduct==null||M.selectedProduct.product_detail==null?null:M.selectedProduct.product_detail.utilities)||(M.selectedProduct==null||M.selectedProduct.product_detail==null?null:M.selectedProduct.product_detail.interiol)),c(),d("ngIf",M.selectedProduct==null||M.selectedProduct.tag==null?null:M.selectedProduct.tag.length),c(4),d("innerHTML",(T=M.selectedProduct==null||M.selectedProduct.product_detail==null?null:M.selectedProduct.product_detail.content)!==null&&T!==void 0?T:"",nn)}}function hc(o,a){if(o&1){let n=Z();u(0,"button",75),k("click",function(){w(n);let m=f();return E(m.handleCancel())}),g(1,"\u0110\xF3ng"),p()}}var vi=class o{constructor(a,n,l,m){this.productService=a;this.router=n;this.message=l;this.modal=m}products=[];loading=!1;isVisible=!1;selectedProduct=null;ngOnInit(){this.loadProducts()}loadProducts(){this.loading=!0,this.productService.getAllProducts().subscribe({next:a=>{this.products=a.data,this.loading=!1},error:a=>{this.message.error("C\xF3 l\u1ED7i x\u1EA3y ra khi t\u1EA3i danh s\xE1ch s\u1EA3n ph\u1EA9m"),this.loading=!1}})}createProduct(){this.router.navigate(["/products/create"])}editProduct(a){this.router.navigate([`/products/${a}/edit`])}viewProduct(a){this.selectedProduct=a,this.isVisible=!0}confirmDelete(a){this.modal.confirm({nzTitle:"X\xE1c nh\u1EADn x\xF3a",nzContent:"B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n x\xF3a s\u1EA3n ph\u1EA9m n\xE0y?",nzOkText:"X\xF3a",nzOkType:"primary",nzOkDanger:!0,nzOnOk:()=>this.deleteProduct(a),nzCancelText:"H\u1EE7y"})}deleteProduct(a){this.loading=!0,this.productService.deleteProduct(a).subscribe({next:n=>{this.message.success("X\xF3a s\u1EA3n ph\u1EA9m th\xE0nh c\xF4ng"),this.loadProducts()},error:n=>{this.message.error("C\xF3 l\u1ED7i x\u1EA3y ra khi x\xF3a s\u1EA3n ph\u1EA9m"),this.loading=!1}})}handleCancel(){this.isVisible=!1,this.selectedProduct=null}formatPrice(a){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(a)}static \u0275fac=function(n){return new(n||o)(Lt(di),Lt(ci),Lt(ui),Lt(xa))};static \u0275cmp=Y({type:o,selectors:[["app-list-product"]],standalone:!1,decls:35,vars:15,consts:[["cardTitle",""],["extraTemplate",""],["basicTable",""],["modalTitle",""],["modalContent",""],["modalFooter",""],[1,"list-product-container"],[3,"nzTitle","nzExtra"],[3,"nzData","nzLoading","nzShowSizeChanger","nzShowPagination"],[3,"nzWidth"],[4,"ngFor","ngForOf"],["nzWidth","1000",3,"nzVisibleChange","nzOnCancel","nzVisible","nzTitle","nzContent","nzFooter","nzBodyStyle"],[1,"card-title"],["nz-icon","","nzType","shop","nzTheme","outline"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","plus"],[3,"nzSize","nzShape","nzSrc","nzAlt"],[1,"name-cell"],[1,"address-cell"],[3,"nzColor",4,"ngIf"],[1,"product-info-cell"],[4,"ngIf"],[1,"action-buttons"],["nz-button","","nzType","link","nz-tooltip","","nzTooltipTitle","Xem chi ti\u1EBFt",3,"click"],["nz-icon","","nzType","eye"],["nzType","vertical"],["nz-button","","nzType","link","nz-tooltip","","nzTooltipTitle","Ch\u1EC9nh s\u1EEDa",3,"click"],["nz-icon","","nzType","edit"],["nz-button","","nzType","link","nzDanger","","nz-tooltip","","nzTooltipTitle","X\xF3a",3,"click"],["nz-icon","","nzType","delete"],[3,"nzColor"],[1,"modal-title"],[1,"product-info"],["class","product-cover",4,"ngIf"],[1,"product-meta"],["nzBordered","",3,"nzColumn"],["nzTitle","\u0110\u1ECBa ch\u1EC9",3,"nzSpan"],["nzTitle","Ph\u01B0\u1EDDng/X\xE3"],["nzTitle","Qu\u1EADn/Huy\u1EC7n"],["nzTitle","T\u1EC9nh/Th\xE0nh ph\u1ED1"],["nzTitle","Di\u1EC7n t\xEDch"],["nzTitle","Lo\u1EA1i h\xECnh"],["nzTitle","Gi\xE1",3,"nzSpan"],["class","room-info mt-4",4,"ngIf"],["class","project-info mt-4",4,"ngIf"],["class","utility-prices mt-4",4,"ngIf"],["class","amenities mt-4",4,"ngIf"],["class","tags mt-4",4,"ngIf"],[1,"content","mt-4"],[1,"content-box",3,"innerHTML"],[1,"product-cover"],[3,"src","alt"],[1,"room-info","mt-4"],["nzTitle","S\u1ED1 ph\xF2ng ng\u1EE7",4,"ngIf"],["nzTitle","S\u1ED1 ph\xF2ng t\u1EAFm",4,"ngIf"],["nzTitle","S\u1ED1 ph\xF2ng ng\u1EE7"],["nzTitle","S\u1ED1 ph\xF2ng t\u1EAFm"],[1,"project-info","mt-4"],["nzTitle","Ch\u1EE7 \u0111\u1EA7u t\u01B0"],["nzTitle","Lo\u1EA1i d\u1EF1 \xE1n"],["nzTitle","Tr\u1EA1ng th\xE1i d\u1EF1 \xE1n",3,"nzSpan"],[1,"utility-prices","mt-4"],["nzTitle","Gi\xE1 \u0111i\u1EC7n",4,"ngIf"],["nzTitle","Gi\xE1 n\u01B0\u1EDBc",4,"ngIf"],["nzTitle","Gi\xE1 internet",4,"ngIf"],["nzTitle","Gi\xE1 \u0111i\u1EC7n"],["nzTitle","Gi\xE1 n\u01B0\u1EDBc"],["nzTitle","Gi\xE1 internet"],[1,"amenities","mt-4"],["nzTitle","Ti\u1EC7n \xEDch",3,"nzSpan",4,"ngIf"],["nzTitle","N\u1ED9i th\u1EA5t",3,"nzSpan",4,"ngIf"],["nzTitle","Ti\u1EC7n \xEDch",3,"nzSpan"],["nzTitle","N\u1ED9i th\u1EA5t",3,"nzSpan"],[1,"tags","mt-4"],[3,"nzColor",4,"ngFor","ngForOf"],["nz-button","","nzType","default",3,"click"]],template:function(n,l){if(n&1){let m=Z();u(0,"div",6)(1,"nz-card",7),x(2,Bs,4,0,"ng-template",null,0,Bt)(4,Is,3,0,"ng-template",null,1,Bt),u(6,"nz-table",8,2)(8,"thead")(9,"tr")(10,"th"),g(11,"STT"),p(),u(12,"th"),g(13,"H\xECnh \u1EA3nh"),p(),u(14,"th",9),g(15,"T\xEAn s\u1EA3n ph\u1EA9m"),p(),u(16,"th",9),g(17,"\u0110\u1ECBa ch\u1EC9"),p(),u(18,"th"),g(19,"Lo\u1EA1i h\xECnh"),p(),u(20,"th"),g(21,"Th\xF4ng tin"),p(),u(22,"th"),g(23,"Gi\xE1"),p(),u(24,"th"),g(25,"Thao t\xE1c"),p()()(),u(26,"tbody"),x(27,$s,31,15,"tr",10),p()()()(),u(28,"nz-modal",11),F("nzVisibleChange",function(b){return w(m),A(l.isVisible,b)||(l.isVisible=b),E(b)}),k("nzOnCancel",function(){return w(m),E(l.handleCancel())}),x(29,Xs,3,1,"ng-template",null,3,Bt)(31,_c,30,20,"ng-template",null,4,Bt)(33,hc,2,0,"ng-template",null,5,Bt),p()}if(n&2){let m=Et(3),_=Et(5),b=Et(7),T=Et(30),M=Et(32),V=Et(34);c(),d("nzTitle",m)("nzExtra",_),c(5),d("nzData",l.products)("nzLoading",l.loading)("nzShowSizeChanger",!0)("nzShowPagination",!0),c(8),d("nzWidth","250px"),c(2),d("nzWidth","300px"),c(11),d("ngForOf",b.data),c(),N("nzVisible",l.isVisible),d("nzTitle",T)("nzContent",M)("nzFooter",V)("nzBodyStyle",St(14,Ls))}},dependencies:[rt,Pt,dt,ta,zt,ut,Ot,ne,pa,ca,da,_a,ua,ma,gi,ha,an,Ta,Oa],styles:[".list-product-container[_ngcontent-%COMP%]{padding:24px}.list-product-container[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.list-product-container[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#1890ff}.list-product-container[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.list-product-container[_ngcontent-%COMP%]     .ant-card .ant-card-head{border-bottom:2px solid #f0f0f0}.list-product-container[_ngcontent-%COMP%]     .ant-card .ant-card-extra button i{margin-right:8px}.list-product-container[_ngcontent-%COMP%]     .ant-card .ant-table .ant-table-thead>tr>th{background:#fafafa;font-weight:500}.list-product-container[_ngcontent-%COMP%]     .ant-card .ant-table .ant-table-tbody>tr>td{vertical-align:middle}.product-info[_ngcontent-%COMP%]   .product-cover[_ngcontent-%COMP%]{height:400px;overflow:hidden;position:relative;margin-bottom:24px}.product-info[_ngcontent-%COMP%]   .product-cover[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:center;transition:transform .3s ease}.product-info[_ngcontent-%COMP%]   .product-cover[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.product-info[_ngcontent-%COMP%]   .product-meta[_ngcontent-%COMP%]{padding:0 24px 24px}.product-info[_ngcontent-%COMP%]   .product-meta[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:16px;font-size:18px;font-weight:500}.product-info[_ngcontent-%COMP%]   .product-meta[_ngcontent-%COMP%]   .mt-4[_ngcontent-%COMP%]{margin-top:24px}.product-info[_ngcontent-%COMP%]   .product-meta[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]{padding:16px;background-color:#fafafa;border-radius:4px;min-height:200px;max-height:500px;overflow-y:auto}.product-info[_ngcontent-%COMP%]   .product-meta[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:4px;margin:8px 0}.product-info[_ngcontent-%COMP%]   .product-meta[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:16px;line-height:1.6}.product-info[_ngcontent-%COMP%]   .product-meta[_ngcontent-%COMP%]   nz-tag[_ngcontent-%COMP%]{margin:4px}.product-info-cell[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:4px;font-size:14px;color:#000000d9}.product-info-cell[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{margin-bottom:0}"]})};var fn=ws(Va());var Dt=[];for(let o=0;o<256;++o)Dt.push((o+256).toString(16).slice(1));function Ra(o,a=0){return(Dt[o[a+0]]+Dt[o[a+1]]+Dt[o[a+2]]+Dt[o[a+3]]+"-"+Dt[o[a+4]]+Dt[o[a+5]]+"-"+Dt[o[a+6]]+Dt[o[a+7]]+"-"+Dt[o[a+8]]+Dt[o[a+9]]+"-"+Dt[o[a+10]]+Dt[o[a+11]]+Dt[o[a+12]]+Dt[o[a+13]]+Dt[o[a+14]]+Dt[o[a+15]]).toLowerCase()}var po,gc=new Uint8Array(16);function mo(){if(!po){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");po=crypto.getRandomValues.bind(crypto)}return po(gc)}var fc=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_o={randomUUID:fc};function vc(o,a,n){if(_o.randomUUID&&!a&&!o)return _o.randomUUID();o=o||{};let l=o.random??o.rng?.()??mo();if(l.length<16)throw new Error("Random bytes length must be >= 16");if(l[6]=l[6]&15|64,l[8]=l[8]&63|128,a){if(n=n||0,n<0||n+16>a.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let m=0;m<16;++m)a[n+m]=l[m];return a}return Ra(l)}var Ve=vc;function Cc(o,a){if(o&1&&P(0,"img",16),o&2){let n=f().$implicit;d("src",n.url,J)("alt",n.title)}}function bc(o,a){o&1&&(u(0,"div",17),P(1,"i",18),u(2,"span"),g(3,"Ch\u01B0a c\xF3 h\xECnh \u1EA3nh"),p()())}function yc(o,a){if(o&1){let n=Z();u(0,"div",5)(1,"nz-card")(2,"div",6),x(3,Cc,1,2,"img",7)(4,bc,4,0,"div",8),p(),u(5,"form",9)(6,"nz-form-item")(7,"nz-form-label"),g(8,"URL H\xECnh \u1EA3nh"),p(),u(9,"nz-form-control")(10,"input",10),F("ngModelChange",function(m){let _=w(n).$implicit;return A(_.url,m)||(_.url=m),E(m)}),k("ngModelChange",function(){w(n);let m=f();return E(m.emitChange())}),p()()(),u(11,"nz-form-item")(12,"nz-form-label"),g(13,"Ti\xEAu \u0111\u1EC1"),p(),u(14,"nz-form-control")(15,"input",11),F("ngModelChange",function(m){let _=w(n).$implicit;return A(_.title,m)||(_.title=m),E(m)}),k("ngModelChange",function(){w(n);let m=f();return E(m.emitChange())}),p()()(),u(16,"nz-form-item")(17,"nz-form-label"),g(18,"M\xF4 t\u1EA3"),p(),u(19,"nz-form-control")(20,"textarea",12),F("ngModelChange",function(m){let _=w(n).$implicit;return A(_.description,m)||(_.description=m),E(m)}),k("ngModelChange",function(){w(n);let m=f();return E(m.emitChange())}),p()()()(),u(21,"div",13)(22,"button",14),k("click",function(){let m=w(n).index,_=f();return E(_.removeImage(m))}),P(23,"i",15),g(24," X\xF3a "),p()()()()}if(o&2){let n=a.$implicit;c(3),d("ngIf",n.url),c(),d("ngIf",!n.url),c(6),N("ngModel",n.url),c(5),N("ngModel",n.title),c(5),N("ngModel",n.description)}}var ln=class o{block;blockChange=new Ct;constructor(){}ngOnInit(){this.block.images||(this.block.images=[])}addImage(){let a={url:"",title:"",description:""};this.block.images.push(a),this.emitChange()}removeImage(a){this.block.images.splice(a,1),this.emitChange()}emitChange(){this.blockChange.emit(j({},this.block))}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=Y({type:o,selectors:[["app-slider-block"]],inputs:{block:"block"},outputs:{blockChange:"blockChange"},standalone:!1,decls:6,vars:1,consts:[[1,"slider-block"],[1,"images-list"],["class","image-item",4,"ngFor","ngForOf"],["nz-button","","nzType","dashed",1,"add-image-btn",3,"click"],["nz-icon","","nzType","plus"],[1,"image-item"],[1,"image-preview"],[3,"src","alt",4,"ngIf"],["class","no-image",4,"ngIf"],["nz-form",""],["nz-input","","name","url","placeholder","Nh\u1EADp URL h\xECnh \u1EA3nh",3,"ngModelChange","ngModel"],["nz-input","","name","title","placeholder","Nh\u1EADp ti\xEAu \u0111\u1EC1",3,"ngModelChange","ngModel"],["nz-input","","name","description","placeholder","Nh\u1EADp m\xF4 t\u1EA3",3,"ngModelChange","ngModel"],[1,"image-actions"],["nz-button","","nzType","text","nzDanger","",3,"click"],["nz-icon","","nzType","delete"],[3,"src","alt"],[1,"no-image"],["nz-icon","","nzType","picture","nzTheme","outline"]],template:function(n,l){n&1&&(u(0,"div",0)(1,"div",1),x(2,yc,25,5,"div",2),p(),u(3,"button",3),k("click",function(){return l.addImage()}),P(4,"i",4),g(5," Th\xEAm h\xECnh \u1EA3nh "),p()()),n&2&&(c(2),d("ngForOf",l.block.images))},dependencies:[rt,Pt,At,kt,st,Nt,ct,Ut,dt,Mt,zt,ut,Ot,ne,mt,pt,Ft,_t,gt,ht],styles:[".slider-block[_ngcontent-%COMP%]   .images-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:16px;margin-bottom:16px}.slider-block[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{height:200px;display:flex;align-items:center;justify-content:center;background-color:#f5f5f5;margin-bottom:16px;border-radius:4px;overflow:hidden}.slider-block[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}.slider-block[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;color:#bfbfbf}.slider-block[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;margin-bottom:8px}.slider-block[_ngcontent-%COMP%]   .image-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:16px}.slider-block[_ngcontent-%COMP%]   .add-image-btn[_ngcontent-%COMP%]{width:100%}"]})};var sn=class o{block;blockChange=new Ct;contentSubject=new te;titleSubject=new te;subscription=new ai;editorConfig={height:400,menubar:!0,plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","help","wordcount"],toolbar:"undo redo | blocks | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help",content_style:'body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif; font-size: 14px; line-height: 1.5; }'};constructor(){this.subscription.add(this.contentSubject.pipe(se(500),ce()).subscribe(a=>{this.block.content=a,this.emitChange()})),this.subscription.add(this.titleSubject.pipe(se(300),ce()).subscribe(a=>{this.block.title=a,this.emitChange()}))}ngOnInit(){}ngOnDestroy(){this.subscription.unsubscribe()}onContentChange(a){this.contentSubject.next(a)}onTitleChange(a){this.titleSubject.next(a)}emitChange(){this.blockChange.emit(j({},this.block))}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=Y({type:o,selectors:[["app-paragraph-block"]],inputs:{block:"block"},outputs:{blockChange:"blockChange"},standalone:!1,decls:12,vars:3,consts:[[1,"paragraph-block"],["nz-form",""],["nz-input","","name","title","placeholder","Nh\u1EADp ti\xEAu \u0111\u1EC1",3,"ngModelChange","ngModel"],["name","content",3,"ngModelChange","ngModel","init"]],template:function(n,l){n&1&&(u(0,"div",0)(1,"form",1)(2,"nz-form-item")(3,"nz-form-label"),g(4,"Ti\xEAu \u0111\u1EC1"),p(),u(5,"nz-form-control")(6,"input",2),k("ngModelChange",function(_){return l.onTitleChange(_)}),p()()(),u(7,"nz-form-item")(8,"nz-form-label"),g(9,"N\u1ED9i dung"),p(),u(10,"nz-form-control")(11,"editor",3),k("ngModelChange",function(_){return l.onContentChange(_)}),p()()()()()),n&2&&(c(6),d("ngModel",l.block.title),c(5),d("ngModel",l.block.content)("init",l.editorConfig))},dependencies:[At,kt,st,Nt,ct,Ut,Mt,mt,pt,Ft,_t,gt,ht,fi],styles:[".paragraph-block[_ngcontent-%COMP%]   .quill-editor[_ngcontent-%COMP%]     .ql-toolbar{border-top-left-radius:4px;border-top-right-radius:4px}.paragraph-block[_ngcontent-%COMP%]   .quill-editor[_ngcontent-%COMP%]     .ql-container{border-bottom-left-radius:4px;border-bottom-right-radius:4px}.paragraph-block[_ngcontent-%COMP%]   .quill-editor[_ngcontent-%COMP%]     .ql-editor{min-height:200px;font-size:14px;line-height:1.5}.paragraph-block[_ngcontent-%COMP%]   editor[_ngcontent-%COMP%]{display:block;margin-bottom:16px}"]})};var Pc=()=>({minRows:2,maxRows:4});function kc(o,a){if(o&1&&(u(0,"label",8),g(1),p()),o&2){let n=a.$implicit;d("nzValue",n.value),c(),S(n.label)}}function zc(o,a){if(o&1){let n=Z();u(0,"nz-form-item")(1,"nz-form-label"),g(2,"Icon"),p(),u(3,"nz-form-control")(4,"input",16),F("ngModelChange",function(m){w(n);let _=f().$implicit;return A(_.icon,m)||(_.icon=m),E(m)}),p()()()}if(o&2){let n=f().$implicit;c(4),N("ngModel",n.icon)}}function Mc(o,a){if(o&1){let n=Z();u(0,"div",9)(1,"nz-card")(2,"form",1)(3,"nz-form-item")(4,"nz-form-label"),g(5,"Ti\xEAu \u0111\u1EC1"),p(),u(6,"nz-form-control")(7,"input",10),F("ngModelChange",function(m){let _=w(n).$implicit;return A(_.title,m)||(_.title=m),E(m)}),p()()(),u(8,"nz-form-item")(9,"nz-form-label"),g(10,"M\xF4 t\u1EA3"),p(),u(11,"nz-form-control")(12,"textarea",11),F("ngModelChange",function(m){let _=w(n).$implicit;return A(_.description,m)||(_.description=m),E(m)}),p()()(),x(13,zc,5,1,"nz-form-item",12),u(14,"div",13)(15,"button",14),k("click",function(){let m=w(n).index,_=f();return E(_.removeItem(m))}),P(16,"i",15),g(17," X\xF3a "),p()()()()()}if(o&2){let n=a.$implicit,l=f();c(7),N("ngModel",n.title),c(5),N("ngModel",n.description),d("nzAutosize",St(4,Pc)),c(),d("ngIf",l.block.style==="icon")}}var cn=class o{block;blockChange=new Ct;listStyles=[{label:"D\u1EA5u ch\u1EA5m",value:"bullet"},{label:"S\u1ED1 th\u1EE9 t\u1EF1",value:"number"},{label:"Icon",value:"icon"}];constructor(){}ngOnInit(){}addItem(){this.block.items.push({title:"",description:"",icon:""}),this.emitChange()}removeItem(a){this.block.items.splice(a,1),this.emitChange()}onStyleChange(a){this.block.style=a,this.emitChange()}emitChange(){this.blockChange.emit(j({},this.block))}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=Y({type:o,selectors:[["app-list-block"]],inputs:{block:"block"},outputs:{blockChange:"blockChange"},standalone:!1,decls:13,vars:3,consts:[[1,"list-block"],["nz-form",""],["name","style",3,"ngModelChange","ngModel"],["nz-radio","",3,"nzValue",4,"ngFor","ngForOf"],[1,"list-items"],["class","list-item",4,"ngFor","ngForOf"],["nz-button","","nzType","dashed",1,"add-item-btn",3,"click"],["nz-icon","","nzType","plus"],["nz-radio","",3,"nzValue"],[1,"list-item"],["nz-input","","name","title","placeholder","Nh\u1EADp ti\xEAu \u0111\u1EC1",3,"ngModelChange","ngModel"],["nz-input","","name","description","placeholder","Nh\u1EADp m\xF4 t\u1EA3",3,"ngModelChange","ngModel","nzAutosize"],[4,"ngIf"],[1,"item-actions"],["nz-button","","nzType","text","nzDanger","",3,"click"],["nz-icon","","nzType","delete"],["nz-input","","name","icon","placeholder","Nh\u1EADp t\xEAn icon",3,"ngModelChange","ngModel"]],template:function(n,l){n&1&&(u(0,"div",0)(1,"form",1)(2,"nz-form-item")(3,"nz-form-label"),g(4,"Ki\u1EC3u danh s\xE1ch"),p(),u(5,"nz-form-control")(6,"nz-radio-group",2),F("ngModelChange",function(_){return A(l.block.style,_)||(l.block.style=_),_}),k("ngModelChange",function(_){return l.onStyleChange(_)}),x(7,kc,2,2,"label",3),p()()(),u(8,"div",4),x(9,Mc,18,5,"div",5),p(),u(10,"button",6),k("click",function(){return l.addItem()}),P(11,"i",7),g(12," Th\xEAm m\u1EE5c "),p()()()),n&2&&(c(6),N("ngModel",l.block.style),c(),d("ngForOf",l.listStyles),c(2),d("ngForOf",l.block.items))},dependencies:[rt,Pt,At,kt,st,Nt,ct,Ut,dt,Mt,_e,zt,ut,Ot,ne,mt,pt,Ft,_t,gt,ht,oe,ie],styles:[".list-block[_ngcontent-%COMP%]   nz-radio-group[_ngcontent-%COMP%]{margin-bottom:16px;display:block}.list-block[_ngcontent-%COMP%]   .list-items[_ngcontent-%COMP%]{margin:16px 0;display:flex;flex-direction:column;gap:16px}.list-block[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   nz-card[_ngcontent-%COMP%]{margin-bottom:0}.list-block[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:16px}.list-block[_ngcontent-%COMP%]   .add-item-btn[_ngcontent-%COMP%]{width:100%}"]})};function wc(o,a){if(o&1&&(u(0,"label",8),g(1),p()),o&2){let n=a.$implicit;d("nzValue",n.value),c(),S(n.label)}}function Ec(o,a){if(o&1&&(u(0,"label",8),g(1),p()),o&2){let n=a.$implicit;d("nzValue",n.value),c(),S(n.label)}}function Sc(o,a){if(o&1&&P(0,"img",20),o&2){let n=f().$implicit;d("src",n.image,J)("alt",n.title)}}function Oc(o,a){o&1&&(u(0,"div",21),P(1,"i",22),u(2,"span"),g(3,"Ch\u01B0a c\xF3 h\xECnh \u1EA3nh"),p()())}function Tc(o,a){if(o&1){let n=Z();u(0,"div",9)(1,"nz-card")(2,"div",10),x(3,Sc,1,2,"img",11)(4,Oc,4,0,"div",12),p(),u(5,"form",13)(6,"nz-form-item")(7,"nz-form-label"),g(8,"URL H\xECnh \u1EA3nh"),p(),u(9,"nz-form-control")(10,"input",14),F("ngModelChange",function(m){let _=w(n).$implicit;return A(_.image,m)||(_.image=m),E(m)}),k("ngModelChange",function(){w(n);let m=f();return E(m.emitChange())}),p()()(),u(11,"nz-form-item")(12,"nz-form-label"),g(13,"Ti\xEAu \u0111\u1EC1"),p(),u(14,"nz-form-control")(15,"input",15),F("ngModelChange",function(m){let _=w(n).$implicit;return A(_.title,m)||(_.title=m),E(m)}),k("ngModelChange",function(){w(n);let m=f();return E(m.emitChange())}),p()()(),u(16,"nz-form-item")(17,"nz-form-label"),g(18,"M\xF4 t\u1EA3"),p(),u(19,"nz-form-control")(20,"textarea",16),F("ngModelChange",function(m){let _=w(n).$implicit;return A(_.description,m)||(_.description=m),E(m)}),k("ngModelChange",function(){w(n);let m=f();return E(m.emitChange())}),p()()()(),u(21,"div",17)(22,"button",18),k("click",function(){let m=w(n).index,_=f();return E(_.removeItem(m))}),P(23,"i",19),g(24," X\xF3a "),p()()()()}if(o&2){let n=a.$implicit;c(3),d("ngIf",n.image),c(),d("ngIf",!n.image),c(6),N("ngModel",n.image),c(5),N("ngModel",n.title),c(5),N("ngModel",n.description)}}var dn=class o{block;blockChange=new Ct;layouts=[{label:"L\u01B0\u1EDBi",value:"grid"},{label:"Carousel",value:"carousel"}];columns=[{label:"2 c\u1ED9t",value:2},{label:"3 c\u1ED9t",value:3},{label:"4 c\u1ED9t",value:4}];constructor(){}ngOnInit(){}addItem(){this.block.items.push({image:"",title:"",description:""}),this.emitChange()}removeItem(a){this.block.items.splice(a,1),this.emitChange()}onLayoutChange(a){this.block.layout=a,this.emitChange()}onColumnsChange(a){this.block.columns=a,this.emitChange()}emitChange(){this.blockChange.emit(j({},this.block))}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=Y({type:o,selectors:[["app-image-list-block"]],inputs:{block:"block"},outputs:{blockChange:"blockChange"},standalone:!1,decls:11,vars:9,consts:[[1,"image-list-block"],[1,"block-settings"],[3,"ngModelChange","ngModel"],["nz-radio","",3,"nzValue",4,"ngFor","ngForOf"],[1,"image-items"],["class","image-item",4,"ngFor","ngForOf"],["nz-button","","nzType","dashed",1,"add-item-btn",3,"click"],["nz-icon","","nzType","plus"],["nz-radio","",3,"nzValue"],[1,"image-item"],[1,"image-preview"],[3,"src","alt",4,"ngIf"],["class","no-image",4,"ngIf"],["nz-form",""],["nz-input","","name","image","placeholder","Nh\u1EADp URL h\xECnh \u1EA3nh",3,"ngModelChange","ngModel"],["nz-input","","name","title","placeholder","Nh\u1EADp ti\xEAu \u0111\u1EC1",3,"ngModelChange","ngModel"],["nz-input","","name","description","placeholder","Nh\u1EADp m\xF4 t\u1EA3",3,"ngModelChange","ngModel"],[1,"item-actions"],["nz-button","","nzType","text","nzDanger","",3,"click"],["nz-icon","","nzType","delete"],[3,"src","alt"],[1,"no-image"],["nz-icon","","nzType","picture","nzTheme","outline"]],template:function(n,l){n&1&&(u(0,"div",0)(1,"div",1)(2,"nz-radio-group",2),F("ngModelChange",function(_){return A(l.block.layout,_)||(l.block.layout=_),_}),k("ngModelChange",function(_){return l.onLayoutChange(_)}),x(3,wc,2,2,"label",3),p(),u(4,"nz-radio-group",2),F("ngModelChange",function(_){return A(l.block.columns,_)||(l.block.columns=_),_}),k("ngModelChange",function(_){return l.onColumnsChange(_)}),x(5,Ec,2,2,"label",3),p()(),u(6,"div",4),x(7,Tc,25,5,"div",5),p(),u(8,"button",6),k("click",function(){return l.addItem()}),P(9,"i",7),g(10," Th\xEAm h\xECnh \u1EA3nh "),p()()),n&2&&(c(2),N("ngModel",l.block.layout),c(),d("ngForOf",l.layouts),c(),N("ngModel",l.block.columns),c(),d("ngForOf",l.columns),c(),W("--columns",l.block.columns),$t("grid-layout",l.block.layout==="grid"),c(),d("ngForOf",l.block.items))},dependencies:[rt,Pt,At,kt,st,Nt,ct,Ut,dt,Mt,zt,ut,Ot,ne,mt,pt,Ft,_t,gt,ht,oe,ie],styles:[".image-list-block[_ngcontent-%COMP%]   .block-settings[_ngcontent-%COMP%]{display:flex;gap:24px;margin-bottom:16px}.image-list-block[_ngcontent-%COMP%]   .block-settings[_ngcontent-%COMP%]   nz-radio-group[_ngcontent-%COMP%]{display:block}.image-list-block[_ngcontent-%COMP%]   .image-items[_ngcontent-%COMP%]{display:grid;gap:16px;margin-bottom:16px}.image-list-block[_ngcontent-%COMP%]   .image-items.grid-layout[_ngcontent-%COMP%]{grid-template-columns:repeat(var(--columns),1fr)}.image-list-block[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{height:200px;display:flex;align-items:center;justify-content:center;background-color:#f5f5f5;margin-bottom:16px;border-radius:4px;overflow:hidden}.image-list-block[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}.image-list-block[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;color:#bfbfbf}.image-list-block[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;margin-bottom:8px}.image-list-block[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:16px}.image-list-block[_ngcontent-%COMP%]   .add-item-btn[_ngcontent-%COMP%]{width:100%}"]})};var un=class o{constructor(a){this.sanitizer=a}transform(a,n){switch(n){case"html":return this.sanitizer.bypassSecurityTrustHtml(a);case"style":return this.sanitizer.bypassSecurityTrustStyle(a);case"script":return this.sanitizer.bypassSecurityTrustScript(a);case"url":return this.sanitizer.bypassSecurityTrustUrl(a);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(a);default:return this.sanitizer.bypassSecurityTrustHtml(a)}}static \u0275fac=function(n){return new(n||o)(Lt(Rr,16))};static \u0275pipe=Br({name:"safe",type:o,pure:!0,standalone:!1})};var Lc=()=>({minRows:2,maxRows:6});function Bc(o,a){if(o&1&&P(0,"video",16),o&2){let n=f(2);d("src",n.block.url,J)("poster",n.block.poster,J)("controls",n.block.controls)("autoplay",n.block.autoplay)}}function Ic(o,a){if(o&1&&(P(0,"iframe",17),Ie(1,"safe")),o&2){let n=f(2);d("src",De(1,1,n.block.url,"resourceUrl"),Be)}}function Dc(o,a){if(o&1&&(P(0,"iframe",18),Ie(1,"safe")),o&2){let n=f(2);d("src",De(1,1,n.block.url,"resourceUrl"),Be)}}function Nc(o,a){if(o&1&&(u(0,"div",11)(1,"div",12),x(2,Bc,1,4,"video",13)(3,Ic,2,4,"iframe",14)(4,Dc,2,4,"iframe",15),p()()),o&2){let n=f();c(2),d("ngIf",!n.block.url.includes("youtube.com")&&!n.block.url.includes("vimeo.com")),c(),d("ngIf",n.block.url.includes("youtube.com")),c(),d("ngIf",n.block.url.includes("vimeo.com"))}}var pn=class o{block;blockChange=new Ct;urlSubject=new te;titleSubject=new te;descriptionSubject=new te;subscription=new ai;constructor(){this.subscription.add(this.urlSubject.pipe(se(500),ce()).subscribe(a=>{this.block.url=a,this.emitChange()})),this.subscription.add(this.titleSubject.pipe(se(300),ce()).subscribe(a=>{this.block.title=a,this.emitChange()})),this.subscription.add(this.descriptionSubject.pipe(se(300),ce()).subscribe(a=>{this.block.description=a,this.emitChange()}))}ngOnInit(){this.block.controls||(this.block.controls=!0)}ngOnDestroy(){this.subscription.unsubscribe()}onUrlChange(a){this.urlSubject.next(a)}onTitleChange(a){this.titleSubject.next(a)}onDescriptionChange(a){this.descriptionSubject.next(a)}onAutoplayChange(a){this.block.autoplay=a,this.emitChange()}onControlsChange(a){this.block.controls=a,this.emitChange()}onPosterChange(a){this.block.poster=a,this.emitChange()}emitChange(){this.blockChange.emit(j({},this.block))}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=Y({type:o,selectors:[["app-video-block"]],inputs:{block:"block"},outputs:{blockChange:"blockChange"},standalone:!1,decls:34,vars:12,consts:[[1,"video-block"],["nz-form",""],["nz-input","","name","url","placeholder","Nh\u1EADp URL video (YouTube, Vimeo, ho\u1EB7c URL tr\u1EF1c ti\u1EBFp)",3,"ngModelChange","ngModel"],["nz-input","","name","title","placeholder","Nh\u1EADp ti\xEAu \u0111\u1EC1",3,"ngModelChange","ngModel"],["nz-input","","name","description","placeholder","Nh\u1EADp m\xF4 t\u1EA3",3,"ngModelChange","ngModel","nzAutosize"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nz-checkbox","","name","autoplay",3,"ngModelChange","ngModel"],["nz-checkbox","","name","controls",3,"ngModelChange","ngModel"],["nz-input","","name","poster","placeholder","Nh\u1EADp URL \u1EA3nh poster",3,"ngModelChange","ngModel"],["class","video-preview",4,"ngIf"],[1,"video-preview"],[1,"video-container"],["class","video-player",3,"src","poster","controls","autoplay",4,"ngIf"],["frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","","class","video-player",3,"src",4,"ngIf"],["frameborder","0","allow","autoplay; fullscreen; picture-in-picture","allowfullscreen","","class","video-player",3,"src",4,"ngIf"],[1,"video-player",3,"src","poster","controls","autoplay"],["frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",1,"video-player",3,"src"],["frameborder","0","allow","autoplay; fullscreen; picture-in-picture","allowfullscreen","",1,"video-player",3,"src"]],template:function(n,l){n&1&&(u(0,"div",0)(1,"form",1)(2,"nz-form-item")(3,"nz-form-label"),g(4,"URL Video"),p(),u(5,"nz-form-control")(6,"input",2),k("ngModelChange",function(_){return l.onUrlChange(_)}),p()()(),u(7,"nz-form-item")(8,"nz-form-label"),g(9,"Ti\xEAu \u0111\u1EC1"),p(),u(10,"nz-form-control")(11,"input",3),k("ngModelChange",function(_){return l.onTitleChange(_)}),p()()(),u(12,"nz-form-item")(13,"nz-form-label"),g(14,"M\xF4 t\u1EA3"),p(),u(15,"nz-form-control")(16,"textarea",4),k("ngModelChange",function(_){return l.onDescriptionChange(_)}),p()()(),u(17,"div",5)(18,"div",6)(19,"nz-form-item")(20,"nz-form-control")(21,"label",7),k("ngModelChange",function(_){return l.onAutoplayChange(_)}),g(22," T\u1EF1 \u0111\u1ED9ng ph\xE1t "),p()()()(),u(23,"div",6)(24,"nz-form-item")(25,"nz-form-control")(26,"label",8),k("ngModelChange",function(_){return l.onControlsChange(_)}),g(27," Hi\u1EC3n th\u1ECB \u0111i\u1EC1u khi\u1EC3n "),p()()()()(),u(28,"nz-form-item")(29,"nz-form-label"),g(30,"\u1EA2nh poster"),p(),u(31,"nz-form-control")(32,"input",9),k("ngModelChange",function(_){return l.onPosterChange(_)}),p()()()(),x(33,Nc,5,3,"div",10),p()),n&2&&(c(6),d("ngModel",l.block.url),c(5),d("ngModel",l.block.title),c(5),d("ngModel",l.block.description)("nzAutosize",St(11,Lc)),c(),d("nzGutter",24),c(),d("nzSpan",12),c(3),d("ngModel",l.block.autoplay),c(2),d("nzSpan",12),c(3),d("ngModel",l.block.controls),c(6),d("ngModel",l.block.poster),c(),d("ngIf",l.block.url))},dependencies:[Pt,At,kt,st,Nt,ct,Ut,Mt,_e,mt,pt,Ft,_t,gt,ht,rn,un],styles:[".video-block[_ngcontent-%COMP%]   .video-preview[_ngcontent-%COMP%]{margin-top:16px;border-radius:4px;overflow:hidden;background-color:#f5f5f5}.video-block[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%]{position:relative;width:100%;padding-bottom:56.25%;height:0;overflow:hidden}.video-block[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}"]})};var Ac=()=>({minRows:2,maxRows:4});function Fc(o,a){if(o&1&&(u(0,"label",9),g(1),p()),o&2){let n=a.$implicit;d("nzValue",n.value),c(),S(n.label)}}function Vc(o,a){if(o&1&&(u(0,"label",9),g(1),p()),o&2){let n=a.$implicit;d("nzValue",n.value),c(),S(n.label)}}function Rc(o,a){if(o&1&&P(0,"img",22),o&2){let n=f().$implicit;d("src",n.url,J)("alt",n.title)}}function Zc(o,a){o&1&&(u(0,"div",23),P(1,"i",24),u(2,"span"),g(3,"Ch\u01B0a c\xF3 h\xECnh \u1EA3nh"),p()())}function Wc(o,a){if(o&1){let n=Z();u(0,"div",10)(1,"nz-card")(2,"div",11),x(3,Rc,1,2,"img",12)(4,Zc,4,0,"div",13),p(),u(5,"form",14)(6,"nz-form-item")(7,"nz-form-label"),g(8,"URL H\xECnh \u1EA3nh"),p(),u(9,"nz-form-control")(10,"input",15),F("ngModelChange",function(m){let _=w(n).$implicit;return A(_.url,m)||(_.url=m),E(m)}),k("ngModelChange",function(m){let _=w(n).index,b=f();return E(b.onImageChange(_,"url",m))}),p()()(),u(11,"nz-form-item")(12,"nz-form-label"),g(13,"URL Thumbnail"),p(),u(14,"nz-form-control")(15,"input",16),F("ngModelChange",function(m){let _=w(n).$implicit;return A(_.thumbnail,m)||(_.thumbnail=m),E(m)}),k("ngModelChange",function(m){let _=w(n).index,b=f();return E(b.onImageChange(_,"thumbnail",m))}),p()()(),u(16,"nz-form-item")(17,"nz-form-label"),g(18,"Ti\xEAu \u0111\u1EC1"),p(),u(19,"nz-form-control")(20,"input",17),F("ngModelChange",function(m){let _=w(n).$implicit;return A(_.title,m)||(_.title=m),E(m)}),k("ngModelChange",function(m){let _=w(n).index,b=f();return E(b.onImageChange(_,"title",m))}),p()()(),u(21,"nz-form-item")(22,"nz-form-label"),g(23,"M\xF4 t\u1EA3"),p(),u(24,"nz-form-control")(25,"textarea",18),F("ngModelChange",function(m){let _=w(n).$implicit;return A(_.description,m)||(_.description=m),E(m)}),k("ngModelChange",function(m){let _=w(n).index,b=f();return E(b.onImageChange(_,"description",m))}),p()()()(),u(26,"div",19)(27,"button",20),k("click",function(){let m=w(n).index,_=f();return E(_.removeImage(m))}),P(28,"i",21),g(29," X\xF3a "),p()()()()}if(o&2){let n=a.$implicit;c(3),d("ngIf",n.url),c(),d("ngIf",!n.url),c(6),N("ngModel",n.url),c(5),N("ngModel",n.thumbnail),c(5),N("ngModel",n.title),c(5),N("ngModel",n.description),d("nzAutosize",St(7,Ac))}}var mn=class o{block;blockChange=new Ct;layouts=[{label:"L\u01B0\u1EDBi",value:"grid"},{label:"Masonry",value:"masonry"}];columns=[{label:"2 c\u1ED9t",value:2},{label:"3 c\u1ED9t",value:3},{label:"4 c\u1ED9t",value:4}];constructor(){}ngOnInit(){this.block.images||(this.block.images=[]),this.block.spacing||(this.block.spacing=16)}addImage(){this.block.images.push({url:"",thumbnail:"",title:"",description:""}),this.emitChange()}removeImage(a){this.block.images.splice(a,1),this.emitChange()}onLayoutChange(a){this.block.layout=a,this.emitChange()}onColumnsChange(a){this.block.columns=a,this.emitChange()}onSpacingChange(a){this.block.spacing=a,this.emitChange()}onImageChange(a,n,l){this.block.images[a]=vt(j({},this.block.images[a]),{[n]:l}),this.emitChange()}emitChange(){this.blockChange.emit(j({},this.block))}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=Y({type:o,selectors:[["app-gallery-block"]],inputs:{block:"block"},outputs:{blockChange:"blockChange"},standalone:!1,decls:24,vars:15,consts:[[1,"gallery-block"],[1,"block-settings"],[3,"ngModelChange","ngModel"],["nz-radio","",3,"nzValue",4,"ngFor","ngForOf"],[3,"ngModelChange","ngModel","nzMin","nzMax","nzStep"],[1,"gallery-items"],["class","gallery-item",4,"ngFor","ngForOf"],["nz-button","","nzType","dashed",1,"add-image-btn",3,"click"],["nz-icon","","nzType","plus"],["nz-radio","",3,"nzValue"],[1,"gallery-item"],[1,"image-preview"],[3,"src","alt",4,"ngIf"],["class","no-image",4,"ngIf"],["nz-form",""],["nz-input","","name","url","placeholder","Nh\u1EADp URL h\xECnh \u1EA3nh",3,"ngModelChange","ngModel"],["nz-input","","name","thumbnail","placeholder","Nh\u1EADp URL thumbnail",3,"ngModelChange","ngModel"],["nz-input","","name","title","placeholder","Nh\u1EADp ti\xEAu \u0111\u1EC1",3,"ngModelChange","ngModel"],["nz-input","","name","description","placeholder","Nh\u1EADp m\xF4 t\u1EA3",3,"ngModelChange","ngModel","nzAutosize"],[1,"image-actions"],["nz-button","","nzType","text","nzDanger","",3,"click"],["nz-icon","","nzType","delete"],[3,"src","alt"],[1,"no-image"],["nz-icon","","nzType","picture","nzTheme","outline"]],template:function(n,l){n&1&&(u(0,"div",0)(1,"div",1)(2,"nz-form-item")(3,"nz-form-label"),g(4,"Ki\u1EC3u hi\u1EC3n th\u1ECB"),p(),u(5,"nz-form-control")(6,"nz-radio-group",2),F("ngModelChange",function(_){return A(l.block.layout,_)||(l.block.layout=_),_}),k("ngModelChange",function(_){return l.onLayoutChange(_)}),x(7,Fc,2,2,"label",3),p()()(),u(8,"nz-form-item")(9,"nz-form-label"),g(10,"S\u1ED1 c\u1ED9t"),p(),u(11,"nz-form-control")(12,"nz-radio-group",2),F("ngModelChange",function(_){return A(l.block.columns,_)||(l.block.columns=_),_}),k("ngModelChange",function(_){return l.onColumnsChange(_)}),x(13,Vc,2,2,"label",3),p()()(),u(14,"nz-form-item")(15,"nz-form-label"),g(16,"Kho\u1EA3ng c\xE1ch (px)"),p(),u(17,"nz-form-control")(18,"nz-input-number",4),F("ngModelChange",function(_){return A(l.block.spacing,_)||(l.block.spacing=_),_}),k("ngModelChange",function(_){return l.onSpacingChange(_)}),p()()()(),u(19,"div",5),x(20,Wc,30,8,"div",6),p(),u(21,"button",7),k("click",function(){return l.addImage()}),P(22,"i",8),g(23," Th\xEAm h\xECnh \u1EA3nh "),p()()),n&2&&(c(6),N("ngModel",l.block.layout),c(),d("ngForOf",l.layouts),c(5),N("ngModel",l.block.columns),c(),d("ngForOf",l.columns),c(5),N("ngModel",l.block.spacing),d("nzMin",0)("nzMax",48)("nzStep",4),c(),ee(l.block.layout+"-layout"),W("--columns",l.block.columns)("--spacing",l.block.spacing+"px"),c(),d("ngForOf",l.block.images))},dependencies:[rt,Pt,At,kt,st,Nt,ct,Ut,dt,Mt,_e,zt,ut,Ot,ne,mt,pt,Ft,_t,gt,ht,oe,ie,he],styles:[".gallery-block[_ngcontent-%COMP%]   .block-settings[_ngcontent-%COMP%]{display:flex;gap:24px;margin-bottom:16px;flex-wrap:wrap}.gallery-block[_ngcontent-%COMP%]   .block-settings[_ngcontent-%COMP%]   nz-radio-group[_ngcontent-%COMP%]{display:block}.gallery-block[_ngcontent-%COMP%]   .gallery-items[_ngcontent-%COMP%]{margin-bottom:16px;gap:var(--spacing)}.gallery-block[_ngcontent-%COMP%]   .gallery-items.grid-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(var(--columns),1fr)}.gallery-block[_ngcontent-%COMP%]   .gallery-items.masonry-layout[_ngcontent-%COMP%]{column-count:var(--columns);column-gap:var(--spacing)}.gallery-block[_ngcontent-%COMP%]   .gallery-items.masonry-layout[_ngcontent-%COMP%]   .gallery-item[_ngcontent-%COMP%]{break-inside:avoid;margin-bottom:var(--spacing)}.gallery-block[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{height:200px;display:flex;align-items:center;justify-content:center;background-color:#f5f5f5;margin-bottom:16px;border-radius:4px;overflow:hidden}.gallery-block[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}.gallery-block[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;color:#bfbfbf}.gallery-block[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;margin-bottom:8px}.gallery-block[_ngcontent-%COMP%]   .image-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:16px}.gallery-block[_ngcontent-%COMP%]   .add-image-btn[_ngcontent-%COMP%]{width:100%}"]})};var Hc=()=>[];function Gc(o,a){if(o&1&&(u(0,"h1"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px")("text-align",n.alignment),c(),S(n.content)}}function Uc(o,a){if(o&1&&(u(0,"h2"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px")("text-align",n.alignment),c(),S(n.content)}}function qc(o,a){if(o&1&&(u(0,"h3"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px")("text-align",n.alignment),c(),S(n.content)}}function jc(o,a){if(o&1&&(u(0,"h4"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px")("text-align",n.alignment),c(),S(n.content)}}function $c(o,a){if(o&1&&(u(0,"h5"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px")("text-align",n.alignment),c(),S(n.content)}}function Xc(o,a){if(o&1&&(u(0,"h6"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px")("text-align",n.alignment),c(),S(n.content)}}function Kc(o,a){if(o&1&&(u(0,"div",16),Q(1,17),x(2,Gc,2,7,"h1",18)(3,Uc,2,7,"h2",18)(4,qc,2,7,"h3",18)(5,jc,2,7,"h4",18)(6,$c,2,7,"h5",18)(7,Xc,2,7,"h6",18),tt(),p()),o&2){let n=f().$implicit;c(),d("ngSwitch",n.level),c(),d("ngSwitchCase","h1"),c(),d("ngSwitchCase","h2"),c(),d("ngSwitchCase","h3"),c(),d("ngSwitchCase","h4"),c(),d("ngSwitchCase","h5"),c(),d("ngSwitchCase","h6")}}function Jc(o,a){if(o&1&&(u(0,"div",19)(1,"a",20),g(2),p()()),o&2){let n=f().$implicit;W("text-align",n.alignment),c(),d("href",n.url,J)("target",n.target)("nzType",n.style)("nzSize",n.size)("nzBlock",n.fullWidth),c(),D(" ",n.text," ")}}function Yc(o,a){if(o&1&&(u(0,"h3"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.title)}}function Qc(o,a){if(o&1&&(u(0,"p"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.description)}}function td(o,a){if(o&1&&(u(0,"div",27),x(1,Yc,2,1,"h3",28)(2,Qc,2,1,"p",28),p()),o&2){let n=f().$implicit;c(),d("ngIf",n.title),c(),d("ngIf",n.description)}}function ed(o,a){if(o&1&&(u(0,"div",24),P(1,"img",25),x(2,td,3,2,"div",26),p()),o&2){let n=a.$implicit;c(),d("src",n.url,J)("alt",n.title),c(),d("ngIf",n.title||n.description)}}function nd(o,a){if(o&1&&(u(0,"div",21)(1,"nz-carousel",22),x(2,ed,3,3,"div",23),p()()),o&2){let n=f().$implicit;c(),d("nzAutoPlay",!0),c(),d("ngForOf",n.images)}}function id(o,a){if(o&1&&(u(0,"h2"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.title)}}function od(o,a){if(o&1&&(u(0,"div",29),x(1,id,2,1,"h2",28),P(2,"div",30),p()),o&2){let n=f().$implicit;c(),d("ngIf",n.title),c(),d("innerHTML",n.content,nn)}}function rd(o,a){if(o&1&&P(0,"i",34),o&2){let n=f().$implicit;d("nzType",n.icon)}}function ad(o,a){if(o&1&&(u(0,"p"),g(1),p()),o&2){let n=f().$implicit;c(),S(n.description)}}function ld(o,a){if(o&1&&(u(0,"li"),x(1,rd,1,1,"i",32),u(2,"div",33)(3,"h4"),g(4),p(),x(5,ad,2,1,"p",28),p()()),o&2){let n=a.$implicit,l=f(2).$implicit;c(),d("ngIf",l.style==="icon"&&n.icon),c(3),S(n.title),c(),d("ngIf",n.description)}}function sd(o,a){if(o&1&&(u(0,"div",31)(1,"ul"),x(2,ld,6,3,"li",2),p()()),o&2){let n=f().$implicit;c(),ee(n.style),c(),d("ngForOf",n.items)}}function cd(o,a){if(o&1&&(u(0,"h4"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.title)}}function dd(o,a){if(o&1&&(u(0,"p"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.description)}}function ud(o,a){if(o&1&&(u(0,"div",27),x(1,cd,2,1,"h4",28)(2,dd,2,1,"p",28),p()),o&2){let n=f().$implicit;c(),d("ngIf",n.title),c(),d("ngIf",n.description)}}function pd(o,a){if(o&1&&(u(0,"div",38),P(1,"img",25),x(2,ud,3,2,"div",26),p()),o&2){let n=a.$implicit;c(),d("src",n.image,J)("alt",n.title),c(),d("ngIf",n.title||n.description)}}function md(o,a){if(o&1&&(u(0,"div",35)(1,"div",36),x(2,pd,3,3,"div",37),p()()),o&2){let n=f().$implicit;c(),W("--columns",n.columns),$t("carousel",n.layout==="carousel"),c(),d("ngForOf",n.items)}}function _d(o,a){if(o&1&&(u(0,"h3"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.title)}}function hd(o,a){if(o&1&&(u(0,"p"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.description)}}function gd(o,a){if(o&1&&P(0,"video",43),o&2){let n=f(2).$implicit;d("src",n.url,J)("poster",n.poster,J)("controls",n.controls)("autoplay",n.autoplay)}}function fd(o,a){if(o&1&&(P(0,"iframe",44),Ie(1,"safe")),o&2){let n=f(2).$implicit;d("src",De(1,1,n.url,"resourceUrl"),Be)}}function vd(o,a){if(o&1&&(P(0,"iframe",44),Ie(1,"safe")),o&2){let n=f(2).$implicit;d("src",De(1,1,n.url,"resourceUrl"),Be)}}function Cd(o,a){if(o&1&&(u(0,"div",39),x(1,_d,2,1,"h3",28)(2,hd,2,1,"p",28),u(3,"div",40),x(4,gd,1,4,"video",41)(5,fd,2,4,"iframe",42)(6,vd,2,4,"iframe",42),p()()),o&2){let n=f().$implicit;c(),d("ngIf",n.title),c(),d("ngIf",n.description),c(2),d("ngIf",!n.url.includes("youtube.com")&&!n.url.includes("vimeo.com")),c(),d("ngIf",n.url.includes("youtube.com")),c(),d("ngIf",n.url.includes("vimeo.com"))}}function bd(o,a){if(o&1&&(u(0,"h4"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.title)}}function yd(o,a){if(o&1&&(u(0,"p"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.description)}}function xd(o,a){if(o&1&&(u(0,"div",27),x(1,bd,2,1,"h4",28)(2,yd,2,1,"p",28),p()),o&2){let n=f().$implicit;c(),d("ngIf",n.title),c(),d("ngIf",n.description)}}function Pd(o,a){if(o&1&&(u(0,"div",48),P(1,"img",25),x(2,xd,3,2,"div",26),p()),o&2){let n=a.$implicit;c(),d("src",n.url,J)("alt",n.title),c(),d("ngIf",n.title||n.description)}}function kd(o,a){if(o&1&&(u(0,"div",45)(1,"div",46),x(2,Pd,3,3,"div",47),p()()),o&2){let n=f().$implicit;c(),ee(n.layout+"-layout"),W("--columns",n.columns)("--spacing",n.spacing+"px"),c(),d("ngForOf",n.images)}}function zd(o,a){if(o&1&&(Q(0),x(1,Kc,8,7,"div",11)(2,Jc,3,8,"div",12)(3,nd,3,2,"div",4)(4,od,3,2,"div",5)(5,sd,3,3,"div",6)(6,md,3,5,"div",7)(7,Cd,7,5,"div",8)(8,kd,3,7,"div",9),tt()),o&2){let n=a.$implicit,l=f(4);c(),d("ngIf",l.isHeadingBlock(n)),c(),d("ngIf",l.isButtonBlock(n)),c(),d("ngIf",l.isSliderBlock(n)),c(),d("ngIf",l.isParagraphBlock(n)),c(),d("ngIf",l.isListBlock(n)),c(),d("ngIf",l.isImageListBlock(n)),c(),d("ngIf",l.isVideoBlock(n)),c(),d("ngIf",l.isGalleryBlock(n))}}function Md(o,a){if(o&1&&(Q(0),u(1,"div",15),x(2,zd,9,8,"ng-container",2),p(),tt()),o&2){let n=a.index,l=f(2).$implicit,m=f();c(2),d("ngForOf",m.getColumnBlocks(l,n))}}function wd(o,a){if(o&1&&(u(0,"div",13)(1,"div",14),x(2,Md,3,1,"ng-container",2),p()()),o&2){let n=f().$implicit;c(),W("--columns",n.columns)("--gap",n.columnGap+"px"),c(),d("ngForOf",St(5,Hc).constructor(n.columns))}}function Ed(o,a){if(o&1&&(u(0,"h3"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.title)}}function Sd(o,a){if(o&1&&(u(0,"p"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.description)}}function Od(o,a){if(o&1&&(u(0,"div",27),x(1,Ed,2,1,"h3",28)(2,Sd,2,1,"p",28),p()),o&2){let n=f().$implicit;c(),d("ngIf",n.title),c(),d("ngIf",n.description)}}function Td(o,a){if(o&1&&(u(0,"div",24),P(1,"img",25),x(2,Od,3,2,"div",26),p()),o&2){let n=a.$implicit;c(),d("src",n.url,J)("alt",n.title),c(),d("ngIf",n.title||n.description)}}function Ld(o,a){if(o&1&&(u(0,"div",21)(1,"nz-carousel",22),x(2,Td,3,3,"div",23),p()()),o&2){let n=f().$implicit;c(),d("nzAutoPlay",!0),c(),d("ngForOf",n.images)}}function Bd(o,a){if(o&1&&(u(0,"h2"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.title)}}function Id(o,a){if(o&1&&(u(0,"div",29),x(1,Bd,2,1,"h2",28),P(2,"div",30),p()),o&2){let n=f().$implicit;c(),d("ngIf",n.title),c(),d("innerHTML",n.content,nn)}}function Dd(o,a){if(o&1&&P(0,"i",34),o&2){let n=f().$implicit;d("nzType",n.icon)}}function Nd(o,a){if(o&1&&(u(0,"p"),g(1),p()),o&2){let n=f().$implicit;c(),S(n.description)}}function Ad(o,a){if(o&1&&(u(0,"li"),x(1,Dd,1,1,"i",32),u(2,"div",33)(3,"h4"),g(4),p(),x(5,Nd,2,1,"p",28),p()()),o&2){let n=a.$implicit,l=f(2).$implicit;c(),d("ngIf",l.style==="icon"&&n.icon),c(3),S(n.title),c(),d("ngIf",n.description)}}function Fd(o,a){if(o&1&&(u(0,"div",31)(1,"ul"),x(2,Ad,6,3,"li",2),p()()),o&2){let n=f().$implicit;c(),ee(n.style),c(),d("ngForOf",n.items)}}function Vd(o,a){if(o&1&&(u(0,"h4"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.title)}}function Rd(o,a){if(o&1&&(u(0,"p"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.description)}}function Zd(o,a){if(o&1&&(u(0,"div",27),x(1,Vd,2,1,"h4",28)(2,Rd,2,1,"p",28),p()),o&2){let n=f().$implicit;c(),d("ngIf",n.title),c(),d("ngIf",n.description)}}function Wd(o,a){if(o&1&&(u(0,"div",38),P(1,"img",25),x(2,Zd,3,2,"div",26),p()),o&2){let n=a.$implicit;c(),d("src",n.image,J)("alt",n.title),c(),d("ngIf",n.title||n.description)}}function Hd(o,a){if(o&1&&(u(0,"div",35)(1,"div",36),x(2,Wd,3,3,"div",37),p()()),o&2){let n=f().$implicit;c(),W("--columns",n.columns),$t("carousel",n.layout==="carousel"),c(),d("ngForOf",n.items)}}function Gd(o,a){if(o&1&&(u(0,"h3"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.title)}}function Ud(o,a){if(o&1&&(u(0,"p"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.description)}}function qd(o,a){if(o&1&&P(0,"video",43),o&2){let n=f(2).$implicit;d("src",n.url,J)("poster",n.poster,J)("controls",n.controls)("autoplay",n.autoplay)}}function jd(o,a){if(o&1&&(P(0,"iframe",44),Ie(1,"safe")),o&2){let n=f(2).$implicit;d("src",De(1,1,n.url,"resourceUrl"),Be)}}function $d(o,a){if(o&1&&(P(0,"iframe",44),Ie(1,"safe")),o&2){let n=f(2).$implicit;d("src",De(1,1,n.url,"resourceUrl"),Be)}}function Xd(o,a){if(o&1&&(u(0,"div",39),x(1,Gd,2,1,"h3",28)(2,Ud,2,1,"p",28),u(3,"div",40),x(4,qd,1,4,"video",41)(5,jd,2,4,"iframe",42)(6,$d,2,4,"iframe",42),p()()),o&2){let n=f().$implicit;c(),d("ngIf",n.title),c(),d("ngIf",n.description),c(2),d("ngIf",!n.url.includes("youtube.com")&&!n.url.includes("vimeo.com")),c(),d("ngIf",n.url.includes("youtube.com")),c(),d("ngIf",n.url.includes("vimeo.com"))}}function Kd(o,a){if(o&1&&(u(0,"h4"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.title)}}function Jd(o,a){if(o&1&&(u(0,"p"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.description)}}function Yd(o,a){if(o&1&&(u(0,"div",27),x(1,Kd,2,1,"h4",28)(2,Jd,2,1,"p",28),p()),o&2){let n=f().$implicit;c(),d("ngIf",n.title),c(),d("ngIf",n.description)}}function Qd(o,a){if(o&1&&(u(0,"div",48),P(1,"img",25),x(2,Yd,3,2,"div",26),p()),o&2){let n=a.$implicit;c(),d("src",n.url,J)("alt",n.title),c(),d("ngIf",n.title||n.description)}}function tu(o,a){if(o&1&&(u(0,"div",45)(1,"div",46),x(2,Qd,3,3,"div",47),p()()),o&2){let n=f().$implicit;c(),ee(n.layout+"-layout"),W("--columns",n.columns)("--spacing",n.spacing+"px"),c(),d("ngForOf",n.images)}}function eu(o,a){if(o&1&&(u(0,"h2"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.title||"Ti\xEAu \u0111\u1EC1 m\u1EABu")}}function nu(o,a){if(o&1&&(u(0,"h3"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.title||"Ti\xEAu \u0111\u1EC1 m\u1EABu")}}function iu(o,a){if(o&1&&(u(0,"h4"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.title||"Ti\xEAu \u0111\u1EC1 m\u1EABu")}}function ou(o,a){if(o&1&&(u(0,"h5"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.title||"Ti\xEAu \u0111\u1EC1 m\u1EABu")}}function ru(o,a){if(o&1&&(u(0,"h6"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.title||"Ti\xEAu \u0111\u1EC1 m\u1EABu")}}function au(o,a){if(o&1){let n=Z();u(0,"div",49)(1,"div",50)(2,"div",51)(3,"img",52),k("error",function(m){w(n);let _=f(2);return E(_.onImageError(m))}),p()(),u(4,"div",53),Q(5,17),x(6,eu,2,1,"h2",54)(7,nu,2,1,"h3",54)(8,iu,2,1,"h4",54)(9,ou,2,1,"h5",54)(10,ru,2,1,"h6",54),tt(),u(11,"p"),g(12),p()()()()}if(o&2){let n=f().$implicit;c(),ee("layout-"+n.layout),W("background-color",n.backgroundColor||"#ffffff")("color",n.textColor||"#000000")("padding",n.padding||0,"px"),c(),$t("rounded",n.imageRounded)("shadow",n.imageShadow),c(),W("width",n.image==null?null:n.image.width,"px")("height",n.image==null?null:n.image.height,"px"),d("src",(n.image==null?null:n.image.url)||"assets/images/placeholder.png",J)("alt",(n.image==null?null:n.image.alt)||"Preview image"),c(),W("margin-left",n.layout==="right"?n.spacing||16:null,"px")("margin-right",n.layout==="left"?n.spacing||16:null,"px")("margin-top",n.layout==="bottom"?n.spacing||16:null,"px")("margin-bottom",n.layout==="top"?n.spacing||16:null,"px"),c(),d("ngSwitch",n.titleTag||"h2"),c(),d("ngSwitchCase","h2"),c(),d("ngSwitchCase","h3"),c(),d("ngSwitchCase","h4"),c(),d("ngSwitchCase","h5"),c(),d("ngSwitchCase","h6"),c(2),S(n.description||"Nh\u1EADp m\xF4 t\u1EA3 cho block n\xE0y...")}}function lu(o,a){if(o&1&&(u(0,"h1"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px")("text-align",n.alignment),c(),S(n.content)}}function su(o,a){if(o&1&&(u(0,"h2"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px")("text-align",n.alignment),c(),S(n.content)}}function cu(o,a){if(o&1&&(u(0,"h3"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px")("text-align",n.alignment),c(),S(n.content)}}function du(o,a){if(o&1&&(u(0,"h4"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px")("text-align",n.alignment),c(),S(n.content)}}function uu(o,a){if(o&1&&(u(0,"h5"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px")("text-align",n.alignment),c(),S(n.content)}}function pu(o,a){if(o&1&&(u(0,"h6"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px")("text-align",n.alignment),c(),S(n.content)}}function mu(o,a){if(o&1&&(u(0,"div",16),Q(1,17),x(2,lu,2,7,"h1",18)(3,su,2,7,"h2",18)(4,cu,2,7,"h3",18)(5,du,2,7,"h4",18)(6,uu,2,7,"h5",18)(7,pu,2,7,"h6",18),tt(),p()),o&2){let n=f().$implicit;c(),d("ngSwitch",n.level),c(),d("ngSwitchCase","h1"),c(),d("ngSwitchCase","h2"),c(),d("ngSwitchCase","h3"),c(),d("ngSwitchCase","h4"),c(),d("ngSwitchCase","h5"),c(),d("ngSwitchCase","h6")}}function _u(o,a){if(o&1&&(u(0,"div",19)(1,"a",20),g(2),p()()),o&2){let n=f().$implicit;W("text-align",n.alignment),c(),d("href",n.url,J)("target",n.target)("nzType",n.style)("nzSize",n.size)("nzBlock",n.fullWidth),c(),D(" ",n.text," ")}}function hu(o,a){if(o&1&&(Q(0),x(1,wd,3,6,"div",3)(2,Ld,3,2,"div",4)(3,Id,3,2,"div",5)(4,Fd,3,3,"div",6)(5,Hd,3,5,"div",7)(6,Xd,7,5,"div",8)(7,tu,3,7,"div",9)(8,au,13,33,"div",10)(9,mu,8,7,"div",11)(10,_u,3,8,"div",12),tt()),o&2){let n=a.$implicit,l=f();c(),d("ngIf",l.isLayoutSection(n)),c(),d("ngIf",l.isSliderBlock(n)),c(),d("ngIf",l.isParagraphBlock(n)),c(),d("ngIf",l.isListBlock(n)),c(),d("ngIf",l.isImageListBlock(n)),c(),d("ngIf",l.isVideoBlock(n)),c(),d("ngIf",l.isGalleryBlock(n)),c(),d("ngIf",l.isImageBoxBlock(n)),c(),d("ngIf",l.isHeadingBlock(n)),c(),d("ngIf",l.isButtonBlock(n))}}var yi=class o{content;onImageError(a){let n=a.target;n&&(n.src="assets/images/placeholder.png")}isHeadingBlock(a){return"type"in a&&a.type==="heading"}isButtonBlock(a){return"type"in a&&a.type==="button"}isSliderBlock(a){return"type"in a&&a.type==="slider"}isParagraphBlock(a){return"type"in a&&a.type==="paragraph"}isListBlock(a){return"type"in a&&a.type==="list"}isImageListBlock(a){return"type"in a&&a.type==="image-list"}isVideoBlock(a){return"type"in a&&a.type==="video"}isGalleryBlock(a){return"type"in a&&a.type==="gallery"}isLayoutSection(a){return!("type"in a)&&"columns"in a}isImageBoxBlock(a){return"type"in a&&a.type==="image-box"}getLayoutBlocks(a){return a.blocks.sort((n,l)=>{if(n.columnIndex!==l.columnIndex)return n.columnIndex-l.columnIndex;let m=n.block.order||0,_=l.block.order||0;return m!==_?m-_:(n.block.id||"").localeCompare(l.block.id||"")}).map(n=>n.block)}getColumnBlocks(a,n){return a.blocks.filter(l=>l.columnIndex===n).sort((l,m)=>{let _=l.block.order||0,b=m.block.order||0;return _!==b?_-b:(l.block.id||"").localeCompare(m.block.id||"")}).map(l=>l.block)}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=Y({type:o,selectors:[["app-page-preview"]],inputs:{content:"content"},standalone:!1,decls:3,vars:1,consts:[[1,"page-preview"],[1,"preview-content"],[4,"ngFor","ngForOf"],["class","preview-block layout-section",4,"ngIf"],["class","preview-block slider-block",4,"ngIf"],["class","preview-block paragraph-block",4,"ngIf"],["class","preview-block list-block",4,"ngIf"],["class","preview-block image-list-block",4,"ngIf"],["class","preview-block video-block",4,"ngIf"],["class","preview-block gallery-block",4,"ngIf"],["class","preview-block image-box-block",4,"ngIf"],["class","preview-block heading-block",4,"ngIf"],["class","preview-block button-block",3,"textAlign",4,"ngIf"],[1,"preview-block","layout-section"],[1,"layout-grid"],[1,"layout-column"],[1,"preview-block","heading-block"],[3,"ngSwitch"],[3,"color","fontSize","textAlign",4,"ngSwitchCase"],[1,"preview-block","button-block"],["nz-button","",3,"href","target","nzType","nzSize","nzBlock"],[1,"preview-block","slider-block"],[3,"nzAutoPlay"],["nz-carousel-content","",4,"ngFor","ngForOf"],["nz-carousel-content",""],[3,"src","alt"],["class","caption",4,"ngIf"],[1,"caption"],[4,"ngIf"],[1,"preview-block","paragraph-block"],[1,"content",3,"innerHTML"],[1,"preview-block","list-block"],["nz-icon","",3,"nzType",4,"ngIf"],[1,"item-content"],["nz-icon","",3,"nzType"],[1,"preview-block","image-list-block"],[1,"image-grid"],["class","image-item",4,"ngFor","ngForOf"],[1,"image-item"],[1,"preview-block","video-block"],[1,"video-container"],[3,"src","poster","controls","autoplay",4,"ngIf"],["frameborder","0","allowfullscreen","",3,"src",4,"ngIf"],[3,"src","poster","controls","autoplay"],["frameborder","0","allowfullscreen","",3,"src"],[1,"preview-block","gallery-block"],[1,"gallery-grid"],["class","gallery-item",4,"ngFor","ngForOf"],[1,"gallery-item"],[1,"preview-block","image-box-block"],[1,"image-box"],[1,"image-wrapper"],[3,"error","src","alt"],[1,"content"],[4,"ngSwitchCase"]],template:function(n,l){n&1&&(u(0,"div",0)(1,"div",1),x(2,hu,11,10,"ng-container",2),p()()),n&2&&(c(2),d("ngForOf",l.content.blocks))},dependencies:[rt,Pt,li,si,dt,zt,ut,Ma,za,un],styles:['@charset "UTF-8";.page-preview[_ngcontent-%COMP%]{width:100%;overflow-x:hidden}.page-preview[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:24px;width:100%}.page-preview[_ngcontent-%COMP%]   .preview-block[_ngcontent-%COMP%]{margin-bottom:48px;width:100%}.page-preview[_ngcontent-%COMP%]   .preview-block[_ngcontent-%COMP%]:last-child{margin-bottom:0}.page-preview[_ngcontent-%COMP%]   .layout-section[_ngcontent-%COMP%]   .layout-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(var(--columns),minmax(0,1fr));gap:var(--gap);width:100%}@media (max-width: 768px){.page-preview[_ngcontent-%COMP%]   .layout-section[_ngcontent-%COMP%]   .layout-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.page-preview[_ngcontent-%COMP%]   .layout-section[_ngcontent-%COMP%]   .layout-grid[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{min-width:0;width:100%;overflow-wrap:break-word;word-wrap:break-word;hyphens:auto}.page-preview[_ngcontent-%COMP%]   .heading-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .heading-block[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .heading-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .heading-block[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .heading-block[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .heading-block[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0;line-height:1.2;overflow-wrap:break-word;word-wrap:break-word;hyphens:auto}.page-preview[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   [nz-button].ant-btn-block[_ngcontent-%COMP%]{display:block;width:100%}.page-preview[_ngcontent-%COMP%]   .slider-block[_ngcontent-%COMP%]{width:100%}.page-preview[_ngcontent-%COMP%]   .slider-block[_ngcontent-%COMP%]   nz-carousel[_ngcontent-%COMP%]{width:100%;height:400px}.page-preview[_ngcontent-%COMP%]   .slider-block[_ngcontent-%COMP%]   nz-carousel[_ngcontent-%COMP%]     .slick-list{height:100%}.page-preview[_ngcontent-%COMP%]   .slider-block[_ngcontent-%COMP%]   nz-carousel[_ngcontent-%COMP%]     .slick-track{height:100%}.page-preview[_ngcontent-%COMP%]   .slider-block[_ngcontent-%COMP%]   nz-carousel[_ngcontent-%COMP%]     .slick-slide{height:100%}.page-preview[_ngcontent-%COMP%]   .slider-block[_ngcontent-%COMP%]   nz-carousel[_ngcontent-%COMP%]     .slick-slide>div{height:100%}.page-preview[_ngcontent-%COMP%]   .slider-block[_ngcontent-%COMP%]   nz-carousel[_ngcontent-%COMP%]     [nz-carousel-content]{height:100%;position:relative;overflow:hidden}.page-preview[_ngcontent-%COMP%]   .slider-block[_ngcontent-%COMP%]   nz-carousel[_ngcontent-%COMP%]     [nz-carousel-content] img{width:100%;height:100%;object-fit:cover;display:block}.page-preview[_ngcontent-%COMP%]   .slider-block[_ngcontent-%COMP%]   nz-carousel[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;padding:20px;background:linear-gradient(to top,rgba(0,0,0,.8),transparent);color:#fff;z-index:1}.page-preview[_ngcontent-%COMP%]   .slider-block[_ngcontent-%COMP%]   nz-carousel[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:24px;color:#fff}.page-preview[_ngcontent-%COMP%]   .slider-block[_ngcontent-%COMP%]   nz-carousel[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#ffffffe6}@media (max-width: 768px){.page-preview[_ngcontent-%COMP%]   .slider-block[_ngcontent-%COMP%]   nz-carousel[_ngcontent-%COMP%]{height:250px}}.page-preview[_ngcontent-%COMP%]   .paragraph-block[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:16px;font-size:28px}.page-preview[_ngcontent-%COMP%]   .paragraph-block[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:16px;line-height:1.6}.page-preview[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.page-preview[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   ul.bullet[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;padding-left:24px}.page-preview[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   ul.bullet[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2022";position:absolute;left:0}.page-preview[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   ul.number[_ngcontent-%COMP%]{counter-reset:item}.page-preview[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   ul.number[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{counter-increment:item;position:relative;padding-left:32px}.page-preview[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   ul.number[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:counter(item) ".";position:absolute;left:0;font-weight:700}.page-preview[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   ul.icon[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.page-preview[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   ul.icon[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:12px;font-size:20px}.page-preview[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:16px}.page-preview[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.page-preview[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:18px}.page-preview[_ngcontent-%COMP%]   .list-block[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666}.page-preview[_ngcontent-%COMP%]   .image-list-block[_ngcontent-%COMP%]   .image-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(var(--columns),1fr);gap:24px}.page-preview[_ngcontent-%COMP%]   .image-list-block[_ngcontent-%COMP%]   .image-grid.carousel[_ngcontent-%COMP%]{display:flex;overflow-x:auto;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch;padding-bottom:16px}.page-preview[_ngcontent-%COMP%]   .image-list-block[_ngcontent-%COMP%]   .image-grid.carousel[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]{flex:0 0 calc((100% - (var(--columns) - 1) * 24px) / var(--columns));scroll-snap-align:start}.page-preview[_ngcontent-%COMP%]   .image-list-block[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]{position:relative;border-radius:8px;overflow:hidden}.page-preview[_ngcontent-%COMP%]   .image-list-block[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.page-preview[_ngcontent-%COMP%]   .image-list-block[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;padding:16px;background:linear-gradient(to top,rgba(0,0,0,.8),transparent);color:#fff}.page-preview[_ngcontent-%COMP%]   .image-list-block[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;font-size:16px}.page-preview[_ngcontent-%COMP%]   .image-list-block[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.page-preview[_ngcontent-%COMP%]   .video-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:24px}.page-preview[_ngcontent-%COMP%]   .video-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 16px;color:#666}.page-preview[_ngcontent-%COMP%]   .video-block[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%]{position:relative;width:100%;padding-bottom:56.25%;height:0;overflow:hidden}.page-preview[_ngcontent-%COMP%]   .video-block[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .video-block[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}.page-preview[_ngcontent-%COMP%]   .gallery-block[_ngcontent-%COMP%]   .gallery-grid.grid-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(var(--columns),1fr);gap:var(--spacing)}@media (max-width: 768px){.page-preview[_ngcontent-%COMP%]   .gallery-block[_ngcontent-%COMP%]   .gallery-grid.grid-layout[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}}.page-preview[_ngcontent-%COMP%]   .gallery-block[_ngcontent-%COMP%]   .gallery-grid.masonry-layout[_ngcontent-%COMP%]{column-count:var(--columns);column-gap:var(--spacing)}.page-preview[_ngcontent-%COMP%]   .gallery-block[_ngcontent-%COMP%]   .gallery-grid.masonry-layout[_ngcontent-%COMP%]   .gallery-item[_ngcontent-%COMP%]{break-inside:avoid;margin-bottom:var(--spacing)}.page-preview[_ngcontent-%COMP%]   .gallery-block[_ngcontent-%COMP%]   .gallery-item[_ngcontent-%COMP%]{position:relative;border-radius:8px;overflow:hidden}.page-preview[_ngcontent-%COMP%]   .gallery-block[_ngcontent-%COMP%]   .gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.page-preview[_ngcontent-%COMP%]   .gallery-block[_ngcontent-%COMP%]   .gallery-item[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;padding:16px;background:linear-gradient(to top,rgba(0,0,0,.8),transparent);color:#fff}.page-preview[_ngcontent-%COMP%]   .gallery-block[_ngcontent-%COMP%]   .gallery-item[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;font-size:16px}.page-preview[_ngcontent-%COMP%]   .gallery-block[_ngcontent-%COMP%]   .gallery-item[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]{display:flex;border-radius:8px;overflow:hidden}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-left[_ngcontent-%COMP%]{flex-direction:row}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-right[_ngcontent-%COMP%]{flex-direction:row-reverse}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-top[_ngcontent-%COMP%]{flex-direction:column}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-bottom[_ngcontent-%COMP%]{flex-direction:column-reverse}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-overlay[_ngcontent-%COMP%]{position:relative}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-overlay[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;padding:20px;background:linear-gradient(to top,rgba(0,0,0,.8),transparent);color:#fff}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-overlay[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-overlay[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-overlay[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-overlay[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-overlay[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#fff;margin-bottom:8px}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-overlay[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffe6;margin:0}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{flex:0 0 50%}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .image-wrapper.rounded[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:8px}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .image-wrapper.shadow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{box-shadow:0 4px 12px #00000026}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0 0 12px}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;line-height:1.6}@media (max-width: 768px){.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-left[_ngcontent-%COMP%], .page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-right[_ngcontent-%COMP%]{flex-direction:column}.page-preview[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{flex:0 0 auto}}']})};function fu(o,a){if(o&1&&P(0,"nz-option",8),o&2){let n=a.$implicit;d("nzValue",n.value)("nzLabel",n.label)}}function vu(o,a){if(o&1&&(u(0,"label",9),P(1,"i",10),p()),o&2){let n=a.$implicit;d("nzValue",n.value),c(),d("nzType",n.icon)}}var _n=class o{block;blockChange=new Ct;levelOptions=[{label:"H1",value:"h1"},{label:"H2",value:"h2"},{label:"H3",value:"h3"},{label:"H4",value:"h4"},{label:"H5",value:"h5"},{label:"H6",value:"h6"}];alignmentOptions=[{label:"Tr\xE1i",value:"left",icon:"align-left"},{label:"Gi\u1EEFa",value:"center",icon:"align-center"},{label:"Ph\u1EA3i",value:"right",icon:"align-right"}];onContentChange(a){this.block.content=a,this.blockChange.emit(this.block)}onLevelChange(a){this.block.level=a,this.blockChange.emit(this.block)}onAlignmentChange(a){this.block.alignment=a,this.blockChange.emit(this.block)}onColorChange(a){this.block.color=a,this.blockChange.emit(this.block)}onFontSizeChange(a){this.block.fontSize=a,this.blockChange.emit(this.block)}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=Y({type:o,selectors:[["app-heading-block"]],inputs:{block:"block"},outputs:{blockChange:"blockChange"},standalone:!1,decls:27,vars:10,consts:[[1,"heading-block"],["nz-input","","placeholder","Nh\u1EADp n\u1ED9i dung ti\xEAu \u0111\u1EC1",3,"ngModelChange","ngModel"],[1,"block-settings"],[3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nz-radio","",3,"nzValue",4,"ngFor","ngForOf"],["nz-input","","type","color",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel","nzMin","nzMax","nzStep"],[3,"nzValue","nzLabel"],["nz-radio","",3,"nzValue"],["nz-icon","",3,"nzType"]],template:function(n,l){n&1&&(u(0,"div",0)(1,"nz-form-item")(2,"nz-form-control")(3,"input",1),F("ngModelChange",function(_){return A(l.block.content,_)||(l.block.content=_),_}),k("ngModelChange",function(_){return l.onContentChange(_)}),p()()(),u(4,"div",2)(5,"nz-form-item")(6,"nz-form-label"),g(7,"C\u1EA5p \u0111\u1ED9"),p(),u(8,"nz-form-control")(9,"nz-select",3),F("ngModelChange",function(_){return A(l.block.level,_)||(l.block.level=_),_}),k("ngModelChange",function(_){return l.onLevelChange(_)}),x(10,fu,1,2,"nz-option",4),p()()(),u(11,"nz-form-item")(12,"nz-form-label"),g(13,"C\u0103n ch\u1EC9nh"),p(),u(14,"nz-form-control")(15,"nz-radio-group",3),F("ngModelChange",function(_){return A(l.block.alignment,_)||(l.block.alignment=_),_}),k("ngModelChange",function(_){return l.onAlignmentChange(_)}),x(16,vu,2,2,"label",5),p()()(),u(17,"nz-form-item")(18,"nz-form-label"),g(19,"M\xE0u s\u1EAFc"),p(),u(20,"nz-form-control")(21,"input",6),F("ngModelChange",function(_){return A(l.block.color,_)||(l.block.color=_),_}),k("ngModelChange",function(_){return l.onColorChange(_)}),p()()(),u(22,"nz-form-item")(23,"nz-form-label"),g(24,"C\u1EE1 ch\u1EEF (px)"),p(),u(25,"nz-form-control")(26,"nz-input-number",7),F("ngModelChange",function(_){return A(l.block.fontSize,_)||(l.block.fontSize=_),_}),k("ngModelChange",function(_){return l.onFontSizeChange(_)}),p()()()()()),n&2&&(c(3),N("ngModel",l.block.content),c(6),N("ngModel",l.block.level),c(),d("ngForOf",l.levelOptions),c(5),N("ngModel",l.block.alignment),c(),d("ngForOf",l.alignmentOptions),c(5),N("ngModel",l.block.color),c(5),N("ngModel",l.block.fontSize),d("nzMin",12)("nzMax",72)("nzStep",1))},dependencies:[rt,kt,st,ct,dt,Mt,ut,mt,pt,_t,gt,ht,Ne,Ae,oe,ie,he],styles:[".heading-block[_ngcontent-%COMP%]   .block-settings[_ngcontent-%COMP%]{margin-top:16px;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.heading-block[_ngcontent-%COMP%]   nz-form-item[_ngcontent-%COMP%]{margin-bottom:0}.heading-block[_ngcontent-%COMP%]   nz-radio-group[_ngcontent-%COMP%]{display:flex;gap:8px}.heading-block[_ngcontent-%COMP%]   [nz-radio][_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border:1px solid #d9d9d9;border-radius:4px;margin-right:0}.heading-block[_ngcontent-%COMP%]   [nz-radio].ant-radio-wrapper-checked[_ngcontent-%COMP%]{background-color:#1890ff;border-color:#1890ff;color:#fff}.heading-block[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%]{width:100%;height:32px;padding:2px}"]})};function Cu(o,a){if(o&1&&P(0,"nz-option",12),o&2){let n=a.$implicit;d("nzValue",n.value)("nzLabel",n.label)}}function bu(o,a){if(o&1&&P(0,"nz-option",12),o&2){let n=a.$implicit;d("nzValue",n.value)("nzLabel",n.label)}}function yu(o,a){if(o&1&&(u(0,"label",13),P(1,"i",14),p()),o&2){let n=a.$implicit;d("nzValue",n.value),c(),d("nzType",n.icon)}}var hn=class o{block;blockChange=new Ct;styleOptions=[{label:"Primary",value:"primary"},{label:"Default",value:"default"},{label:"Dashed",value:"dashed"},{label:"Link",value:"link"},{label:"Text",value:"text"}];sizeOptions=[{label:"Nh\u1ECF",value:"small"},{label:"L\u1EDBn",value:"large"}];alignmentOptions=[{label:"Tr\xE1i",value:"left",icon:"align-left"},{label:"Gi\u1EEFa",value:"center",icon:"align-center"},{label:"Ph\u1EA3i",value:"right",icon:"align-right"}];onTextChange(a){this.block.text=a,this.blockChange.emit(this.block)}onUrlChange(a){this.block.url=a,this.blockChange.emit(this.block)}onTargetChange(a){this.block.target=a,this.blockChange.emit(this.block)}onStyleChange(a){this.block.style=a,this.blockChange.emit(this.block)}onSizeChange(a){this.block.size=a,this.blockChange.emit(this.block)}onFullWidthChange(a){this.block.fullWidth=a,this.blockChange.emit(this.block)}onAlignmentChange(a){this.block.alignment=a,this.blockChange.emit(this.block)}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=Y({type:o,selectors:[["app-button-block"]],inputs:{block:"block"},outputs:{blockChange:"blockChange"},standalone:!1,decls:46,vars:18,consts:[[1,"button-block"],[1,"button-preview"],["nz-button","",3,"nzType","nzSize","nzBlock"],[1,"block-settings"],["nz-input","","placeholder","Nh\u1EADp n\u1ED9i dung n\xFAt",3,"ngModelChange","ngModel"],["nz-input","","placeholder","Nh\u1EADp \u0111\u01B0\u1EDDng d\u1EABn",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["nz-radio","","value","_self"],["nz-radio","","value","_blank"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nz-radio","",3,"nzValue",4,"ngFor","ngForOf"],["nz-checkbox","",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel"],["nz-radio","",3,"nzValue"],["nz-icon","",3,"nzType"]],template:function(n,l){n&1&&(u(0,"div",0)(1,"div",1)(2,"button",2),g(3),p()(),u(4,"div",3)(5,"nz-form-item")(6,"nz-form-label"),g(7,"N\u1ED9i dung"),p(),u(8,"nz-form-control")(9,"input",4),F("ngModelChange",function(_){return A(l.block.text,_)||(l.block.text=_),_}),k("ngModelChange",function(_){return l.onTextChange(_)}),p()()(),u(10,"nz-form-item")(11,"nz-form-label"),g(12,"\u0110\u01B0\u1EDDng d\u1EABn"),p(),u(13,"nz-form-control")(14,"input",5),F("ngModelChange",function(_){return A(l.block.url,_)||(l.block.url=_),_}),k("ngModelChange",function(_){return l.onUrlChange(_)}),p()()(),u(15,"nz-form-item")(16,"nz-form-label"),g(17,"M\u1EDF trong"),p(),u(18,"nz-form-control")(19,"nz-radio-group",6),F("ngModelChange",function(_){return A(l.block.target,_)||(l.block.target=_),_}),k("ngModelChange",function(_){return l.onTargetChange(_)}),u(20,"label",7),g(21,"C\u1EEDa s\u1ED5 hi\u1EC7n t\u1EA1i"),p(),u(22,"label",8),g(23,"C\u1EEDa s\u1ED5 m\u1EDBi"),p()()()(),u(24,"nz-form-item")(25,"nz-form-label"),g(26,"Ki\u1EC3u n\xFAt"),p(),u(27,"nz-form-control")(28,"nz-select",6),F("ngModelChange",function(_){return A(l.block.style,_)||(l.block.style=_),_}),k("ngModelChange",function(_){return l.onStyleChange(_)}),x(29,Cu,1,2,"nz-option",9),p()()(),u(30,"nz-form-item")(31,"nz-form-label"),g(32,"K\xEDch th\u01B0\u1EDBc"),p(),u(33,"nz-form-control")(34,"nz-select",6),F("ngModelChange",function(_){return A(l.block.size,_)||(l.block.size=_),_}),k("ngModelChange",function(_){return l.onSizeChange(_)}),x(35,bu,1,2,"nz-option",9),p()()(),u(36,"nz-form-item")(37,"nz-form-label"),g(38,"C\u0103n ch\u1EC9nh"),p(),u(39,"nz-form-control")(40,"nz-radio-group",6),F("ngModelChange",function(_){return A(l.block.alignment,_)||(l.block.alignment=_),_}),k("ngModelChange",function(_){return l.onAlignmentChange(_)}),x(41,yu,2,2,"label",10),p()()(),u(42,"nz-form-item")(43,"nz-form-control")(44,"label",11),F("ngModelChange",function(_){return A(l.block.fullWidth,_)||(l.block.fullWidth=_),_}),k("ngModelChange",function(_){return l.onFullWidthChange(_)}),g(45," Chi\u1EC1u r\u1ED9ng 100% "),p()()()()()),n&2&&(c(),W("text-align",l.block.alignment),$t("full-width",l.block.fullWidth),c(),d("nzType",l.block.style)("nzSize",l.block.size)("nzBlock",l.block.fullWidth),c(),D(" ",l.block.text," "),c(6),N("ngModel",l.block.text),c(5),N("ngModel",l.block.url),c(5),N("ngModel",l.block.target),c(9),N("ngModel",l.block.style),c(),d("ngForOf",l.styleOptions),c(5),N("ngModel",l.block.size),c(),d("ngForOf",l.sizeOptions),c(5),N("ngModel",l.block.alignment),c(),d("ngForOf",l.alignmentOptions),c(3),N("ngModel",l.block.fullWidth))},dependencies:[rt,kt,st,ct,dt,Mt,zt,ut,Ot,mt,pt,_t,gt,ht,Ne,Ae,rn,oe,ie],styles:[".button-block[_ngcontent-%COMP%]   .button-preview[_ngcontent-%COMP%]{margin-bottom:16px;padding:16px;background-color:#f5f5f5;border-radius:4px}.button-block[_ngcontent-%COMP%]   .block-settings[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.button-block[_ngcontent-%COMP%]   nz-form-item[_ngcontent-%COMP%]{margin-bottom:0}.button-block[_ngcontent-%COMP%]   nz-radio-group[_ngcontent-%COMP%]{display:flex;gap:8px}.button-block[_ngcontent-%COMP%]   [nz-radio].ant-radio-wrapper[_ngcontent-%COMP%]{margin-right:0}.button-block[_ngcontent-%COMP%]   [nz-radio][nzValue][_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border:1px solid #d9d9d9;border-radius:4px}.button-block[_ngcontent-%COMP%]   [nz-radio][nzValue].ant-radio-wrapper-checked[_ngcontent-%COMP%]{background-color:#1890ff;border-color:#1890ff;color:#fff}"]})};var xu=()=>({minRows:2,maxRows:6});function Pu(o,a){if(o&1&&P(0,"nz-option",18),o&2){let n=a.$implicit;d("nzValue",n.value)("nzLabel",n.label)}}function ku(o,a){if(o&1&&P(0,"nz-option",18),o&2){let n=a.$implicit;d("nzValue",n.value)("nzLabel",n.label)}}var gn=class o{block;blockChange=new Ct;destroy$=new te;updateSubject=new te;layoutOptions=[{label:"\u1EA2nh b\xEAn tr\xE1i",value:"left"},{label:"\u1EA2nh b\xEAn ph\u1EA3i",value:"right"},{label:"\u1EA2nh b\xEAn tr\xEAn",value:"top"},{label:"\u1EA2nh b\xEAn d\u01B0\u1EDBi",value:"bottom"},{label:"Ch\u1ED3ng l\xEAn nhau",value:"overlay"}];titleTagOptions=[{label:"H2",value:"h2"},{label:"H3",value:"h3"},{label:"H4",value:"h4"},{label:"H5",value:"h5"},{label:"H6",value:"h6"}];constructor(){this.updateSubject.pipe(se(500),ce((a,n)=>JSON.stringify(a)===JSON.stringify(n)),Or(this.destroy$)).subscribe(a=>{this.blockChange.emit(j(j({},this.block),a))})}ngOnInit(){this.block.image||(this.block.image={url:"",alt:""}),this.block.layout||(this.block.layout="left"),this.block.titleTag||(this.block.titleTag="h2"),this.block.imageRounded===void 0&&(this.block.imageRounded=!1),this.block.imageShadow===void 0&&(this.block.imageShadow=!1),this.block.padding||(this.block.padding=24),this.block.spacing||(this.block.spacing=16),this.block.title||(this.block.title="Ti\xEAu \u0111\u1EC1 m\u1EABu"),this.block.description||(this.block.description="M\xF4 t\u1EA3 m\u1EABu"),this.blockChange.emit(this.block)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onImageUrlChange(a){this.updateBlock({image:vt(j({},this.block.image),{url:a})})}onImageAltChange(a){this.updateBlock({image:vt(j({},this.block.image),{alt:a})})}onImageWidthChange(a){this.updateBlock({image:vt(j({},this.block.image),{width:a})})}onImageHeightChange(a){this.updateBlock({image:vt(j({},this.block.image),{height:a})})}onTitleChange(a){this.updateBlock({title:a})}onDescriptionChange(a){this.updateBlock({description:a})}onLayoutChange(a){this.blockChange.emit(vt(j({},this.block),{layout:a}))}onTitleTagChange(a){this.blockChange.emit(vt(j({},this.block),{titleTag:a}))}onImageRoundedChange(a){this.blockChange.emit(vt(j({},this.block),{imageRounded:a}))}onImageShadowChange(a){this.blockChange.emit(vt(j({},this.block),{imageShadow:a}))}onBackgroundColorChange(a){this.updateBlock({backgroundColor:a})}onTextColorChange(a){this.updateBlock({textColor:a})}onPaddingChange(a){this.updateBlock({padding:a})}onSpacingChange(a){this.updateBlock({spacing:a})}onImageError(a){let n=a.target;n&&(n.src="assets/images/placeholder.png")}updateBlock(a){this.updateSubject.next(a)}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=Y({type:o,selectors:[["app-image-box-block"]],inputs:{block:"block"},outputs:{blockChange:"blockChange"},standalone:!1,decls:71,vars:28,consts:[[1,"image-box-block"],["nz-form",""],["nz-input","","name","imageUrl","placeholder","Nh\u1EADp URL \u1EA3nh",3,"ngModelChange","ngModel"],["nz-input","","name","imageAlt","placeholder","Nh\u1EADp alt text",3,"ngModelChange","ngModel"],[1,"size-inputs"],[3,"ngModelChange","ngModel","nzPlaceHolder","nzMin"],[1,"separator"],["nz-input","","name","title","placeholder","Nh\u1EADp ti\xEAu \u0111\u1EC1",3,"ngModelChange","ngModel"],["nz-input","","name","description","placeholder","Nh\u1EADp m\xF4 t\u1EA3",3,"ngModelChange","ngModel","nzAutosize"],["name","layout",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["name","titleTag",3,"ngModelChange","ngModel"],[1,"effects"],["nz-checkbox","","name","imageRounded",3,"ngModelChange","ngModel"],["nz-checkbox","","name","imageShadow",3,"ngModelChange","ngModel"],["name","backgroundColor",3,"ngModelChange","ngModel"],["name","textColor",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel","nzMin","nzMax","nzStep"],[3,"nzValue","nzLabel"]],template:function(n,l){n&1&&(u(0,"div",0)(1,"form",1)(2,"nz-form-item")(3,"nz-form-label"),g(4,"URL \u1EA3nh"),p(),u(5,"nz-form-control")(6,"input",2),k("ngModelChange",function(_){return l.onImageUrlChange(_)}),p()()(),u(7,"nz-form-item")(8,"nz-form-label"),g(9,"Alt text"),p(),u(10,"nz-form-control")(11,"input",3),k("ngModelChange",function(_){return l.onImageAltChange(_)}),p()()(),u(12,"div",4)(13,"nz-form-item")(14,"nz-form-label"),g(15,"K\xEDch th\u01B0\u1EDBc \u1EA3nh"),p(),u(16,"nz-form-control")(17,"nz-input-number",5),k("ngModelChange",function(_){return l.onImageWidthChange(_)}),p(),u(18,"span",6),g(19,"x"),p(),u(20,"nz-input-number",5),k("ngModelChange",function(_){return l.onImageHeightChange(_)}),p()()()(),u(21,"nz-form-item")(22,"nz-form-label"),g(23,"Ti\xEAu \u0111\u1EC1"),p(),u(24,"nz-form-control")(25,"input",7),k("ngModelChange",function(_){return l.onTitleChange(_)}),p()()(),u(26,"nz-form-item")(27,"nz-form-label"),g(28,"M\xF4 t\u1EA3"),p(),u(29,"nz-form-control")(30,"textarea",8),k("ngModelChange",function(_){return l.onDescriptionChange(_)}),p()()(),u(31,"nz-form-item")(32,"nz-form-label"),g(33,"B\u1ED1 c\u1EE5c"),p(),u(34,"nz-form-control")(35,"nz-select",9),k("ngModelChange",function(_){return l.onLayoutChange(_)}),x(36,Pu,1,2,"nz-option",10),p()()(),u(37,"nz-form-item")(38,"nz-form-label"),g(39,"Th\u1EBB ti\xEAu \u0111\u1EC1"),p(),u(40,"nz-form-control")(41,"nz-select",11),k("ngModelChange",function(_){return l.onTitleTagChange(_)}),x(42,ku,1,2,"nz-option",10),p()()(),u(43,"nz-form-item")(44,"nz-form-label"),g(45,"Hi\u1EC7u \u1EE9ng \u1EA3nh"),p(),u(46,"nz-form-control",12)(47,"label",13),k("ngModelChange",function(_){return l.onImageRoundedChange(_)}),g(48,"Bo tr\xF2n"),p(),u(49,"label",14),k("ngModelChange",function(_){return l.onImageShadowChange(_)}),g(50,"\u0110\u1ED5 b\xF3ng"),p()()(),u(51,"nz-form-item")(52,"nz-form-label"),g(53,"M\xE0u n\u1EC1n"),p(),u(54,"nz-form-control")(55,"nz-color-picker",15),k("ngModelChange",function(_){return l.onBackgroundColorChange(_)}),p()()(),u(56,"nz-form-item")(57,"nz-form-label"),g(58,"M\xE0u ch\u1EEF"),p(),u(59,"nz-form-control")(60,"nz-color-picker",16),k("ngModelChange",function(_){return l.onTextColorChange(_)}),p()()(),u(61,"nz-form-item")(62,"nz-form-label"),g(63,"Padding (px)"),p(),u(64,"nz-form-control")(65,"nz-input-number",17),k("ngModelChange",function(_){return l.onPaddingChange(_)}),p()()(),u(66,"nz-form-item")(67,"nz-form-label"),g(68,"Kho\u1EA3ng c\xE1ch (px)"),p(),u(69,"nz-form-control")(70,"nz-input-number",17),k("ngModelChange",function(_){return l.onSpacingChange(_)}),p()()()()()),n&2&&(c(6),d("ngModel",l.block.image.url),c(5),d("ngModel",l.block.image.alt),c(6),d("ngModel",l.block.image.width)("nzPlaceHolder","R\u1ED9ng")("nzMin",0),c(3),d("ngModel",l.block.image.height)("nzPlaceHolder","Cao")("nzMin",0),c(5),d("ngModel",l.block.title),c(5),d("ngModel",l.block.description)("nzAutosize",St(27,xu)),c(5),d("ngModel",l.block.layout),c(),d("ngForOf",l.layoutOptions),c(5),d("ngModel",l.block.titleTag),c(),d("ngForOf",l.titleTagOptions),c(5),d("ngModel",l.block.imageRounded),c(2),d("ngModel",l.block.imageShadow),c(6),d("ngModel",l.block.backgroundColor),c(5),d("ngModel",l.block.textColor),c(5),d("ngModel",l.block.padding)("nzMin",0)("nzMax",48)("nzStep",8),c(5),d("ngModel",l.block.spacing)("nzMin",0)("nzMax",48)("nzStep",8))},dependencies:[rt,At,kt,st,Nt,ct,Ut,Mt,_e,mt,pt,Ft,_t,gt,ht,Ne,Ae,rn,he],styles:[".image-box-block[_ngcontent-%COMP%]   .size-inputs[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.image-box-block[_ngcontent-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{color:#595959}.image-box-block[_ngcontent-%COMP%]   .size-inputs[_ngcontent-%COMP%]   nz-input-number[_ngcontent-%COMP%]{width:120px}.image-box-block[_ngcontent-%COMP%]   .effects[_ngcontent-%COMP%]{display:flex;gap:16px}.image-box-block[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{margin-top:24px;border:1px solid #f0f0f0;border-radius:4px;overflow:hidden}.image-box-block[_ngcontent-%COMP%]   .preview.layout-left[_ngcontent-%COMP%], .image-box-block[_ngcontent-%COMP%]   .preview.layout-right[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.image-box-block[_ngcontent-%COMP%]   .preview.layout-right[_ngcontent-%COMP%]{flex-direction:row-reverse}.image-box-block[_ngcontent-%COMP%]   .preview.layout-top[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%], .image-box-block[_ngcontent-%COMP%]   .preview.layout-bottom[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{width:100%;text-align:center}.image-box-block[_ngcontent-%COMP%]   .preview.layout-bottom[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse}.image-box-block[_ngcontent-%COMP%]   .preview.layout-overlay[_ngcontent-%COMP%]{position:relative}.image-box-block[_ngcontent-%COMP%]   .preview.layout-overlay[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{width:100%}.image-box-block[_ngcontent-%COMP%]   .preview.layout-overlay[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.image-box-block[_ngcontent-%COMP%]   .preview.layout-overlay[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;padding:24px;background:#00000080;color:#fff}.image-box-block[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block}.image-box-block[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .image-wrapper.rounded[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:8px}.image-box-block[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .image-wrapper.shadow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{box-shadow:0 4px 12px #00000026}.image-box-block[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;vertical-align:middle}.image-box-block[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .image-box-block[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .image-box-block[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .image-box-block[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .image-box-block[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0 0 16px;line-height:1.4}.image-box-block[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;line-height:1.6}"]})};var Mu=()=>[];function wu(o,a){if(o&1&&(u(0,"label",15),g(1),p()),o&2){let n=a.$implicit;d("nzValue",n.value),c(),D(" ",n.label," ")}}function Eu(o,a){if(o&1&&(u(0,"h1"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px"),c(),S(n.content||"Nh\u1EADp n\u1ED9i dung ti\xEAu \u0111\u1EC1...")}}function Su(o,a){if(o&1&&(u(0,"h2"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px"),c(),S(n.content||"Nh\u1EADp n\u1ED9i dung ti\xEAu \u0111\u1EC1...")}}function Ou(o,a){if(o&1&&(u(0,"h3"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px"),c(),S(n.content||"Nh\u1EADp n\u1ED9i dung ti\xEAu \u0111\u1EC1...")}}function Tu(o,a){if(o&1&&(u(0,"h4"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px"),c(),S(n.content||"Nh\u1EADp n\u1ED9i dung ti\xEAu \u0111\u1EC1...")}}function Lu(o,a){if(o&1&&(u(0,"h5"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px"),c(),S(n.content||"Nh\u1EADp n\u1ED9i dung ti\xEAu \u0111\u1EC1...")}}function Bu(o,a){if(o&1&&(u(0,"h6"),g(1),p()),o&2){let n=f(2).$implicit;W("color",n.color)("font-size",n.fontSize,"px"),c(),S(n.content||"Nh\u1EADp n\u1ED9i dung ti\xEAu \u0111\u1EC1...")}}function Iu(o,a){if(o&1&&(u(0,"div",30),x(1,Eu,2,5,"h1",31)(2,Su,2,5,"h2",31)(3,Ou,2,5,"h3",31)(4,Tu,2,5,"h4",31)(5,Lu,2,5,"h5",31)(6,Bu,2,5,"h6",31),p()),o&2){let n=f().$implicit;W("text-align",n.alignment),d("ngSwitch",n.level),c(),d("ngSwitchCase","h1"),c(),d("ngSwitchCase","h2"),c(),d("ngSwitchCase","h3"),c(),d("ngSwitchCase","h4"),c(),d("ngSwitchCase","h5"),c(),d("ngSwitchCase","h6")}}function Du(o,a){if(o&1&&(u(0,"div")(1,"button",32),g(2),p()()),o&2){let n=f().$implicit;W("text-align",n.alignment),c(),d("nzType",n.style)("nzSize",n.size)("nzBlock",n.fullWidth),c(),D(" ",n.text," ")}}function Nu(o,a){if(o&1&&(u(0,"h4"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.title)}}function Au(o,a){if(o&1&&(u(0,"p"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.description)}}function Fu(o,a){if(o&1&&(u(0,"div",39),x(1,Nu,2,1,"h4",40)(2,Au,2,1,"p",40),p()),o&2){let n=f().$implicit;c(),d("ngIf",n.title),c(),d("ngIf",n.description)}}function Vu(o,a){if(o&1&&(u(0,"div",36),P(1,"img",37),x(2,Fu,3,2,"div",38),p()),o&2){let n=a.$implicit;c(),d("src",n.url,J)("alt",n.title),c(),d("ngIf",n.title||n.description)}}function Ru(o,a){if(o&1&&(u(0,"div",33)(1,"div",34),x(2,Vu,3,3,"div",35),p()()),o&2){let n=f().$implicit;c(),ee(n.layout+"-layout"),W("--columns",n.columns)("--spacing",n.spacing+"px"),c(),d("ngForOf",n.images)}}function Zu(o,a){if(o&1&&(u(0,"h2"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.title)}}function Wu(o,a){if(o&1&&(u(0,"h3"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.title)}}function Hu(o,a){if(o&1&&(u(0,"h4"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.title)}}function Gu(o,a){if(o&1&&(u(0,"h5"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.title)}}function Uu(o,a){if(o&1&&(u(0,"h6"),g(1),p()),o&2){let n=f(2).$implicit;c(),S(n.title)}}function qu(o,a){if(o&1&&(u(0,"div",41)(1,"div",42)(2,"div",43),P(3,"img",37),p(),u(4,"div",44),Q(5,30),x(6,Zu,2,1,"h2",45)(7,Wu,2,1,"h3",45)(8,Hu,2,1,"h4",45)(9,Gu,2,1,"h5",45)(10,Uu,2,1,"h6",45),tt(),u(11,"p"),g(12),p()()()()),o&2){let n=f().$implicit;c(),ee("layout-"+n.layout),W("background-color",n.backgroundColor)("color",n.textColor)("padding",n.padding,"px"),c(),$t("rounded",n.imageRounded)("shadow",n.imageShadow),c(),W("width",n.image.width,"px")("height",n.image.height,"px"),d("src",n.image.url,J)("alt",n.image.alt),c(),W("margin-left",n.layout==="right"?n.spacing:null,"px")("margin-right",n.layout==="left"?n.spacing:null,"px")("margin-top",n.layout==="bottom"?n.spacing:null,"px")("margin-bottom",n.layout==="top"?n.spacing:null,"px"),c(),d("ngSwitch",n.titleTag),c(),d("ngSwitchCase","h2"),c(),d("ngSwitchCase","h3"),c(),d("ngSwitchCase","h4"),c(),d("ngSwitchCase","h5"),c(),d("ngSwitchCase","h6"),c(2),S(n.description)}}function ju(o,a){if(o&1){let n=Z();u(0,"app-heading-block",46),k("blockChange",function(m){w(n);let _=f().index,b=f().index,T=f();return E(T.updateBlock(b,_,m))}),p()}if(o&2){let n=f().$implicit;d("block",n)}}function $u(o,a){if(o&1){let n=Z();u(0,"app-button-block",46),k("blockChange",function(m){w(n);let _=f().index,b=f().index,T=f();return E(T.updateBlock(b,_,m))}),p()}if(o&2){let n=f().$implicit;d("block",n)}}function Xu(o,a){if(o&1){let n=Z();u(0,"app-slider-block",46),k("blockChange",function(m){w(n);let _=f().index,b=f().index,T=f();return E(T.updateBlock(b,_,m))}),p()}if(o&2){let n=f().$implicit;d("block",n)}}function Ku(o,a){if(o&1){let n=Z();u(0,"app-paragraph-block",46),k("blockChange",function(m){w(n);let _=f().index,b=f().index,T=f();return E(T.updateBlock(b,_,m))}),p()}if(o&2){let n=f().$implicit;d("block",n)}}function Ju(o,a){if(o&1){let n=Z();u(0,"app-list-block",46),k("blockChange",function(m){w(n);let _=f().index,b=f().index,T=f();return E(T.updateBlock(b,_,m))}),p()}if(o&2){let n=f().$implicit;d("block",n)}}function Yu(o,a){if(o&1){let n=Z();u(0,"app-image-list-block",46),k("blockChange",function(m){w(n);let _=f().index,b=f().index,T=f();return E(T.updateBlock(b,_,m))}),p()}if(o&2){let n=f().$implicit;d("block",n)}}function Qu(o,a){if(o&1){let n=Z();u(0,"app-video-block",46),k("blockChange",function(m){w(n);let _=f().index,b=f().index,T=f();return E(T.updateBlock(b,_,m))}),p()}if(o&2){let n=f().$implicit;d("block",n)}}function tp(o,a){if(o&1){let n=Z();u(0,"app-gallery-block",46),k("blockChange",function(m){w(n);let _=f().index,b=f().index,T=f();return E(T.updateBlock(b,_,m))}),p()}if(o&2){let n=f().$implicit;d("block",n)}}function ep(o,a){if(o&1){let n=Z();u(0,"app-image-box-block",46),k("blockChange",function(m){w(n);let _=f().index,b=f().index,T=f();return E(T.updateBlock(b,_,m))}),p()}if(o&2){let n=f().$implicit;d("block",n)}}function np(o,a){if(o&1){let n=Z();u(0,"div",19)(1,"div",20)(2,"div",21),P(3,"i",4),g(4),p(),u(5,"div",22)(6,"button",11),k("click",function(){let m=w(n).index,_=f().index,b=f();return E(b.removeBlock(_,m))}),P(7,"i",12),p()()(),u(8,"div",23),x(9,Iu,7,9,"div",24)(10,Du,3,6,"div",25)(11,Ru,3,7,"div",26)(12,qu,13,33,"div",27),p(),u(13,"div",28),x(14,ju,1,1,"app-heading-block",29)(15,$u,1,1,"app-button-block",29)(16,Xu,1,1,"app-slider-block",29)(17,Ku,1,1,"app-paragraph-block",29)(18,Ju,1,1,"app-list-block",29)(19,Yu,1,1,"app-image-list-block",29)(20,Qu,1,1,"app-video-block",29)(21,tp,1,1,"app-gallery-block",29)(22,ep,1,1,"app-image-box-block",29),p()()}if(o&2){let n=a.$implicit,l=f(2);d("cdkDragData",n),c(3),d("nzType",l.getBlockIcon(n.type)),c(),D(" ",l.getBlockLabel(n.type)," "),c(5),d("ngIf",l.isHeadingBlock(n)),c(),d("ngIf",l.isButtonBlock(n)),c(),d("ngIf",l.isGalleryBlock(n)),c(),d("ngIf",l.isImageBoxBlock(n)),c(2),d("ngIf",l.isHeadingBlock(n)),c(),d("ngIf",l.isButtonBlock(n)),c(),d("ngIf",l.isSliderBlock(n)),c(),d("ngIf",l.isParagraphBlock(n)),c(),d("ngIf",l.isListBlock(n)),c(),d("ngIf",l.isImageListBlock(n)),c(),d("ngIf",l.isVideoBlock(n)),c(),d("ngIf",l.isGalleryBlock(n)),c(),d("ngIf",l.isImageBoxBlock(n))}}function ip(o,a){o&1&&(u(0,"div",47),P(1,"i",48),u(2,"span"),g(3,"K\xE9o block v\xE0o \u0111\xE2y"),p()())}function op(o,a){if(o&1){let n=Z();u(0,"div",16),k("cdkDropListDropped",function(m){let _=w(n).index,b=f();return E(b.onDrop(m,_))}),x(1,np,23,16,"div",17)(2,ip,4,0,"div",18),p()}if(o&2){let n=a.index,l=f();d("cdkDropListData",l.getColumnBlocks(n))("id","column-"+l.sectionIndex+"-"+n)("cdkDropListConnectedTo",l.connectedLists),c(),d("ngForOf",l.getColumnBlocks(n)),c(),d("ngIf",l.getColumnBlocks(n).length===0)}}var xi=class o{section;sectionIndex;sectionChange=new Ct;deleteSection=new Ct;isCollapsed=!1;columnOptions=[{label:"1 c\u1ED9t",value:1},{label:"2 c\u1ED9t",value:2},{label:"3 c\u1ED9t",value:3},{label:"4 c\u1ED9t",value:4}];get columnIds(){return Array(this.section.columns).fill(0).map((a,n)=>`column-${this.sectionIndex}-${n}`)}get connectedLists(){return["block-templates","main-container"].concat(this.columnIds)}getColumnBlocks(a){return this.section.blocks.filter(n=>n.columnIndex===a).sort((n,l)=>{let m=n.block.order||0,_=l.block.order||0;return m!==_?m-_:(n.block.id||"").localeCompare(l.block.id||"")}).map(n=>n.block)}onColumnsChange(a){if(a<this.section.columns){let n=a-1;this.section.blocks=this.section.blocks.map(l=>vt(j({},l),{columnIndex:Math.min(l.columnIndex,n)}))}this.section.columns=a,this.emitChange()}onColumnGapChange(a){this.section.columnGap=a,this.emitChange()}onDrop(a,n){if(console.log("Drop event:",{previousContainer:a.previousContainer.id,container:a.container.id,previousIndex:a.previousIndex,currentIndex:a.currentIndex,item:a.item.data}),a.previousContainer===a.container){let l=this.getColumnBlocks(n);pi(l,a.previousIndex,a.currentIndex),l.forEach((m,_)=>{let b=this.section.blocks.findIndex(T=>T.block.id===m.id);b!==-1&&(this.section.blocks[b]=vt(j({},this.section.blocks[b]),{block:vt(j({},this.section.blocks[b].block),{order:_})}))})}else{let l=a.previousContainer.data[a.previousIndex],m;if(a.previousContainer.id==="block-templates")m=this.createNewBlock(l.type);else if(a.previousContainer.id==="main-container")m=vt(j({},l),{id:Ve()});else{let T=a.previousContainer.id.match(/column-(\d+)-(\d+)/);if(T){let M=parseInt(T[2]),Vt=this.getColumnBlocks(M)[a.previousIndex];this.section.blocks=this.section.blocks.filter(Re=>Re.block.id!==Vt.id),m=j({},Vt)}else{console.warn("Unknown source container:",a.previousContainer.id);return}}let _=this.getColumnBlocks(n),b=a.currentIndex;this.section.blocks.filter(T=>T.columnIndex===n).forEach(T=>{T.block.order&&T.block.order>=b&&(T.block.order+=1)}),this.section.blocks.push({columnIndex:n,block:vt(j({},m),{order:b})})}this.emitChange()}createNewBlock(a){let n={id:Ve(),type:a,order:0};switch(a){case"heading":n.content="",n.level="h2",n.alignment="left",n.color="#000000",n.fontSize=28;break;case"button":n.text="Click me",n.url="#",n.target="_self",n.style="primary",n.size="small",n.fullWidth=!1,n.alignment="left";break;case"slider":n.images=[];break;case"paragraph":n.content="";break;case"list":n.items=[],n.style="bullet";break;case"image-list":n.images=[],n.layout="grid",n.columns=3;break;case"video":n.url="",n.controls=!0;break;case"gallery":n.images=[],n.layout="grid",n.columns=3,n.spacing=16;break;case"image-box":n.image={url:"",alt:"",width:null,height:null},n.title="",n.description="",n.layout="left",n.titleTag="h3",n.imageRounded=!1,n.imageShadow=!1,n.backgroundColor=null,n.textColor=null,n.padding=24,n.spacing=24;break}return n}updateBlock(a,n,l){let _=this.getColumnBlocks(a)[n];this.section.blocks=this.section.blocks.map(b=>b.block.id===_.id?vt(j({},b),{block:l}):b),this.emitChange()}removeBlock(a,n){let m=this.getColumnBlocks(a)[n];this.section.blocks=this.section.blocks.filter(_=>_.block.id!==m.id),this.emitChange()}emitChange(){this.sectionChange.emit(this.section)}isHeadingBlock(a){return a.type==="heading"}isButtonBlock(a){return a.type==="button"}isSliderBlock(a){return a.type==="slider"}isParagraphBlock(a){return a.type==="paragraph"}isListBlock(a){return a.type==="list"}isImageListBlock(a){return a.type==="image-list"}isVideoBlock(a){return a.type==="video"}isGalleryBlock(a){return a.type==="gallery"}isImageBoxBlock(a){return a.type==="image-box"}getBlockIcon(a){return{heading:"font-colors",button:"link",slider:"picture",paragraph:"font-size",list:"ordered-list","image-list":"table",video:"play-square",gallery:"appstore"}[a]||"block"}getBlockLabel(a){return{heading:"Ti\xEAu \u0111\u1EC1",button:"N\xFAt",slider:"Slider",paragraph:"\u0110o\u1EA1n v\u0103n b\u1EA3n",list:"Danh s\xE1ch","image-list":"Danh s\xE1ch \u1EA3nh",video:"Video",gallery:"Th\u01B0 vi\u1EC7n \u1EA3nh"}[a]||a}toggleCollapse(){this.isCollapsed=!this.isCollapsed}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=Y({type:o,selectors:[["app-layout-section"]],inputs:{section:"section",sectionIndex:"sectionIndex"},outputs:{sectionChange:"sectionChange",deleteSection:"deleteSection"},standalone:!1,decls:25,vars:20,consts:[[1,"layout-section"],[1,"section-header"],[1,"section-left"],["nz-button","","nzType","text",1,"collapse-btn",3,"click"],["nz-icon","",3,"nzType"],[1,"section-title"],[1,"section-settings"],["name","columns",3,"ngModelChange","ngModel"],["nz-radio","",3,"nzValue",4,"ngFor","ngForOf"],[3,"ngModelChange","ngModel","nzMin","nzMax","nzStep"],[1,"section-actions"],["nz-button","","nzType","text","nzDanger","",3,"click"],["nz-icon","","nzType","delete"],[1,"columns-container"],["class","column","cdkDropList","",3,"cdkDropListData","id","cdkDropListConnectedTo","cdkDropListDropped",4,"ngFor","ngForOf"],["nz-radio","",3,"nzValue"],["cdkDropList","",1,"column",3,"cdkDropListDropped","cdkDropListData","id","cdkDropListConnectedTo"],["class","block","cdkDrag","",3,"cdkDragData",4,"ngFor","ngForOf"],["class","column-placeholder",4,"ngIf"],["cdkDrag","",1,"block",3,"cdkDragData"],["cdkDragHandle","",1,"block-header"],[1,"block-title"],[1,"block-actions"],[1,"block-preview"],[3,"ngSwitch","textAlign",4,"ngIf"],[3,"textAlign",4,"ngIf"],["class","preview-block gallery-block",4,"ngIf"],["class","preview-block image-box-block",4,"ngIf"],[1,"block-content"],[3,"block","blockChange",4,"ngIf"],[3,"ngSwitch"],[3,"color","fontSize",4,"ngSwitchCase"],["nz-button","",3,"nzType","nzSize","nzBlock"],[1,"preview-block","gallery-block"],[1,"gallery-grid"],["class","gallery-item",4,"ngFor","ngForOf"],[1,"gallery-item"],[3,"src","alt"],["class","caption",4,"ngIf"],[1,"caption"],[4,"ngIf"],[1,"preview-block","image-box-block"],[1,"image-box"],[1,"image-wrapper"],[1,"content"],[4,"ngSwitchCase"],[3,"blockChange","block"],[1,"column-placeholder"],["nz-icon","","nzType","plus","nzTheme","outline"]],template:function(n,l){n&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),k("click",function(){return l.toggleCollapse()}),P(4,"i",4),p(),u(5,"span",5),g(6),p()(),u(7,"div",6)(8,"nz-form-item")(9,"nz-form-label"),g(10,"S\u1ED1 c\u1ED9t"),p(),u(11,"nz-form-control")(12,"nz-radio-group",7),F("ngModelChange",function(_){return A(l.section.columns,_)||(l.section.columns=_),_}),k("ngModelChange",function(_){return l.onColumnsChange(_)}),x(13,wu,2,2,"label",8),p()()(),u(14,"nz-form-item")(15,"nz-form-label"),g(16,"Kho\u1EA3ng c\xE1ch (px)"),p(),u(17,"nz-form-control")(18,"nz-input-number",9),F("ngModelChange",function(_){return A(l.section.columnGap,_)||(l.section.columnGap=_),_}),k("ngModelChange",function(_){return l.onColumnGapChange(_)}),p()()()(),u(19,"div",10)(20,"button",11),k("click",function(){return l.deleteSection.emit()}),P(21,"i",12),g(22," X\xF3a section "),p()()(),u(23,"div",13),x(24,op,3,5,"div",14),p()()),n&2&&($t("collapsed",l.isCollapsed),c(4),d("nzType",l.isCollapsed?"right":"down"),c(2),D("Section ",l.sectionIndex+1,""),c(),$t("hidden",l.isCollapsed),c(5),N("ngModel",l.section.columns),c(),d("ngForOf",l.columnOptions),c(5),N("ngModel",l.section.columnGap),d("nzMin",0)("nzMax",48)("nzStep",8),c(5),W("--columns",l.section.columns)("--gap",l.section.columnGap+"px"),$t("hidden",l.isCollapsed),c(),d("ngForOf",St(19,Mu).constructor(l.section.columns)))},dependencies:[rt,Pt,li,si,st,ct,dt,zt,ut,Ot,mt,pt,_t,gt,ht,oe,ie,hi,_i,mi,he,ln,sn,cn,dn,pn,mn,_n,hn,gn],styles:['.layout-section[_ngcontent-%COMP%]{width:100%;overflow:hidden;background:#fff;border-radius:4px;border:1px solid #f0f0f0;margin-bottom:24px;transition:all .3s ease}.layout-section.collapsed[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:0;border-bottom:none}.layout-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:16px;display:flex;justify-content:space-between;align-items:center;padding:16px;background:#fafafa;border-bottom:1px solid #f0f0f0;flex-wrap:wrap;gap:16px;transition:all .3s ease}.layout-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.layout-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-left[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]{padding:0 8px;height:32px}.layout-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-left[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s ease}.layout-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-left[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:14px;color:#595959;font-weight:500}.layout-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-settings[_ngcontent-%COMP%]{display:flex;gap:24px;align-items:flex-start;flex-wrap:wrap;transition:opacity .3s ease}.layout-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-settings.hidden[_ngcontent-%COMP%]{display:none}.layout-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-settings[_ngcontent-%COMP%]   nz-form-item[_ngcontent-%COMP%]{margin-bottom:0;min-width:200px}.layout-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-settings[_ngcontent-%COMP%]   nz-radio-group[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.layout-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-actions[_ngcontent-%COMP%]{margin-left:auto}@media (max-width: 768px){.layout-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.layout-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-actions[_ngcontent-%COMP%]{margin-left:0}}.layout-section[_ngcontent-%COMP%]   .columns-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(var(--columns),1fr);gap:var(--gap);padding:16px;width:100%;min-height:100px;transition:all .3s ease}.layout-section[_ngcontent-%COMP%]   .columns-container.hidden[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.layout-section[_ngcontent-%COMP%]   .columns-container[_ngcontent-%COMP%]{grid-template-columns:1fr}}.layout-section[_ngcontent-%COMP%]   .columns-container[style*="--columns:1"][_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.layout-section[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{min-height:100px;background-color:#fafafa;border:1px dashed #d9d9d9;border-radius:4px;padding:8px}.layout-section[_ngcontent-%COMP%]   .column.cdk-drop-list-dragging[_ngcontent-%COMP%]{border-color:#1890ff}.layout-section[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #d9d9d9;border-radius:4px;margin-bottom:8px;width:100%}.layout-section[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]:last-child{margin-bottom:0}.layout-section[_ngcontent-%COMP%]   .block.cdk-drag-preview[_ngcontent-%COMP%]{box-shadow:0 4px 12px #00000026}.layout-section[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]   .block-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;background-color:#fafafa;border-bottom:1px solid #d9d9d9;border-top-left-radius:4px;border-top-right-radius:4px;cursor:move}.layout-section[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]   .block-header[_ngcontent-%COMP%]   .block-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;color:#595959}.layout-section[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]   .block-header[_ngcontent-%COMP%]   .block-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.layout-section[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]   .block-preview[_ngcontent-%COMP%]{padding:16px;border-bottom:1px solid #f0f0f0;overflow:hidden}.layout-section[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]   .block-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto}.layout-section[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]{padding:16px;width:100%}.layout-section[_ngcontent-%COMP%]   .column-placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100px;color:#8c8c8c}.layout-section[_ngcontent-%COMP%]   .column-placeholder[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;margin-bottom:8px}.layout-section[_ngcontent-%COMP%]   .cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.layout-section[_ngcontent-%COMP%]   .cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-left[_ngcontent-%COMP%], .layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-right[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-right[_ngcontent-%COMP%]{flex-direction:row-reverse}.layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-top[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%], .layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-bottom[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{width:100%;text-align:center}.layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-bottom[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse}.layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-overlay[_ngcontent-%COMP%]{position:relative}.layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-overlay[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{width:100%}.layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-overlay[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box.layout-overlay[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;padding:24px;background:#00000080;color:#fff}.layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block}.layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .image-wrapper.rounded[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:8px}.layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .image-wrapper.shadow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{box-shadow:0 4px 12px #00000026}.layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;vertical-align:middle}.layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0 0 16px;line-height:1.4}.layout-section[_ngcontent-%COMP%]   .image-box-block[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;line-height:1.6}']})};function ap(o,a){if(o&1&&(u(0,"div",13)(1,"button",14),P(2,"i",10),g(3),p()()),o&2){let n=a.$implicit,l=f();d("cdkDragData",n),c(2),d("nzType",l.getBlockIcon(n.type)),c(),D(" ",l.getBlockLabel(n.type)," ")}}function lp(o,a){if(o&1){let n=Z();u(0,"app-layout-section",19),k("sectionChange",function(m){w(n);let _=f().index,b=f(2);return E(b.updateBlock(_,m))})("deleteSection",function(){w(n);let m=f().index,_=f(2);return E(_.removeBlock(m))}),p()}if(o&2){let n=f(),l=n.$implicit,m=n.index;d("section",l)("sectionIndex",m)}}function sp(o,a){if(o&1){let n=Z();u(0,"app-heading-block",31),k("blockChange",function(m){w(n);let _=f(2).index,b=f(2);return E(b.updateBlock(_,m))}),p()}if(o&2){let n=f(2).$implicit;d("block",n)}}function cp(o,a){if(o&1){let n=Z();u(0,"app-button-block",31),k("blockChange",function(m){w(n);let _=f(2).index,b=f(2);return E(b.updateBlock(_,m))}),p()}if(o&2){let n=f(2).$implicit;d("block",n)}}function dp(o,a){if(o&1){let n=Z();u(0,"app-slider-block",31),k("blockChange",function(m){w(n);let _=f(2).index,b=f(2);return E(b.updateBlock(_,m))}),p()}if(o&2){let n=f(2).$implicit;d("block",n)}}function up(o,a){if(o&1){let n=Z();u(0,"app-paragraph-block",31),k("blockChange",function(m){w(n);let _=f(2).index,b=f(2);return E(b.updateBlock(_,m))}),p()}if(o&2){let n=f(2).$implicit;d("block",n)}}function pp(o,a){if(o&1){let n=Z();u(0,"app-list-block",31),k("blockChange",function(m){w(n);let _=f(2).index,b=f(2);return E(b.updateBlock(_,m))}),p()}if(o&2){let n=f(2).$implicit;d("block",n)}}function mp(o,a){if(o&1){let n=Z();u(0,"app-image-list-block",31),k("blockChange",function(m){w(n);let _=f(2).index,b=f(2);return E(b.updateBlock(_,m))}),p()}if(o&2){let n=f(2).$implicit;d("block",n)}}function _p(o,a){if(o&1){let n=Z();u(0,"app-video-block",31),k("blockChange",function(m){w(n);let _=f(2).index,b=f(2);return E(b.updateBlock(_,m))}),p()}if(o&2){let n=f(2).$implicit;d("block",n)}}function hp(o,a){if(o&1){let n=Z();u(0,"app-gallery-block",31),k("blockChange",function(m){w(n);let _=f(2).index,b=f(2);return E(b.updateBlock(_,m))}),p()}if(o&2){let n=f(2).$implicit;d("block",n)}}function gp(o,a){if(o&1){let n=Z();u(0,"app-image-box-block",31),k("blockChange",function(m){w(n);let _=f(2).index,b=f(2);return E(b.updateBlock(_,m))}),p()}if(o&2){let n=f(2).$implicit;d("block",n)}}function fp(o,a){if(o&1){let n=Z();u(0,"div",20)(1,"div",21)(2,"div",22),g(3),p(),u(4,"div",23)(5,"button",24),k("click",function(){w(n);let m=f().index,_=f(2);return E(_.moveBlock(m,"up"))}),P(6,"i",25),p(),u(7,"button",24),k("click",function(){w(n);let m=f().index,_=f(2);return E(_.moveBlock(m,"down"))}),P(8,"i",26),p(),u(9,"button",27),k("click",function(){w(n);let m=f().index,_=f(2);return E(_.removeBlock(m))}),P(10,"i",28),p()()(),u(11,"div",29),x(12,sp,1,1,"app-heading-block",30)(13,cp,1,1,"app-button-block",30)(14,dp,1,1,"app-slider-block",30)(15,up,1,1,"app-paragraph-block",30)(16,pp,1,1,"app-list-block",30)(17,mp,1,1,"app-image-list-block",30)(18,_p,1,1,"app-video-block",30)(19,hp,1,1,"app-gallery-block",30)(20,gp,1,1,"app-image-box-block",30),p()()}if(o&2){let n=f(),l=n.$implicit,m=n.index,_=f(2);d("cdkDragData",l),c(3),S(_.getBlockLabel(l.type)),c(2),d("disabled",m===0),c(2),d("disabled",m===_.content.blocks.length-1),c(5),d("ngIf",_.isHeadingBlock(l)),c(),d("ngIf",_.isButtonBlock(l)),c(),d("ngIf",_.isSliderBlock(l)),c(),d("ngIf",_.isParagraphBlock(l)),c(),d("ngIf",_.isListBlock(l)),c(),d("ngIf",_.isImageListBlock(l)),c(),d("ngIf",_.isVideoBlock(l)),c(),d("ngIf",_.isGalleryBlock(l)),c(),d("ngIf",_.isImageBoxBlock(l))}}function vp(o,a){if(o&1&&(Q(0),x(1,lp,1,2,"app-layout-section",17)(2,fp,21,13,"div",18),tt()),o&2){let n=a.$implicit,l=f(2);c(),d("ngIf",l.isLayoutSection(n)),c(),d("ngIf",!l.isLayoutSection(n))}}function Cp(o,a){if(o&1){let n=Z();u(0,"div",15),k("cdkDropListDropped",function(m){w(n);let _=f();return E(_.drop(m))}),x(1,vp,3,2,"ng-container",16),p()}if(o&2){let n=f();d("cdkDropListData",n.content.blocks)("cdkDropListConnectedTo",n.getLayoutColumnIds()),c(),d("ngForOf",n.content.blocks)}}function bp(o,a){if(o&1&&P(0,"app-page-preview",32),o&2){let n=f();d("content",n.content)}}var Pi=class o{content={blocks:[]};isPreview=!1;blockTemplates=[{type:"heading",label:"Ti\xEAu \u0111\u1EC1"},{type:"button",label:"N\xFAt"},{type:"slider",label:"Slider"},{type:"paragraph",label:"\u0110o\u1EA1n v\u0103n b\u1EA3n"},{type:"list",label:"Danh s\xE1ch"},{type:"image-list",label:"Danh s\xE1ch \u1EA3nh"},{type:"video",label:"Video"},{type:"gallery",label:"Th\u01B0 vi\u1EC7n \u1EA3nh"},{type:"image-box",label:"H\u1ED9p \u1EA3nh"}];onChange=()=>{};onTouch=()=>{};constructor(){}ngOnInit(){}writeValue(a){a&&(this.content=a)}registerOnChange(a){this.onChange=a}registerOnTouched(a){this.onTouch=a}togglePreview(){this.isPreview=!this.isPreview}getLayoutColumnIds(){let a=[];return this.content.blocks.forEach((n,l)=>{if(this.isLayoutSection(n))for(let m=0;m<n.columns;m++)a.push(`column-${l}-${m}`)}),a}addBlock(a){let n={id:Ve(),type:a,order:this.content.blocks.length};switch(a){case"slider":n.images=[];break;case"paragraph":n.content="";break;case"list":n.items=[],n.style="bullet";break;case"image-list":n.items=[],n.layout="grid",n.columns=3;break;case"video":n.url="",n.controls=!0,n.autoplay=!1;break;case"gallery":n.images=[],n.layout="grid",n.columns=3,n.spacing=16;break}this.content.blocks.push(n),this.onChange(this.content)}addLayoutSection(){let a={id:Ve(),columns:2,columnGap:24,blocks:[]};this.content.blocks.push(a),this.onChange(this.content)}removeBlock(a){this.content.blocks.splice(a,1),this.reorderBlocks(),this.onChange(this.content)}moveBlock(a,n){let l=n==="up"?a-1:a+1;if(l>=0&&l<this.content.blocks.length){let m=this.content.blocks[a];this.content.blocks.splice(a,1),this.content.blocks.splice(l,0,m),this.reorderBlocks(),this.onChange(this.content)}}drop(a){if(console.log("Main container drop:",a),a.previousContainer===a.container)pi(this.content.blocks,a.previousIndex,a.currentIndex),this.reorderBlocks();else if(a.previousContainer.id==="block-templates"){let n=a.previousContainer.data[a.previousIndex],l=this.createNewBlock(n.type);this.content.blocks.splice(a.currentIndex,0,l),this.reorderBlocks()}this.onChange(this.content)}reorderBlocks(){this.content.blocks.forEach((a,n)=>{this.isLayoutSection(a)||(a.order=n)})}updateBlock(a,n){this.content.blocks[a]=n,this.onChange(this.content)}isSliderBlock(a){return a.type==="slider"}isParagraphBlock(a){return a.type==="paragraph"}isListBlock(a){return a.type==="list"}isImageListBlock(a){return a.type==="image-list"}isVideoBlock(a){return a.type==="video"}isGalleryBlock(a){return a.type==="gallery"}isLayoutSection(a){return"columns"in a}getBlockIcon(a){return{heading:"font-colors",button:"link",slider:"picture",paragraph:"font-size",list:"ordered-list","image-list":"table",video:"play-square",gallery:"appstore","image-box":"picture"}[a]||"block"}getBlockLabel(a){let n=this.blockTemplates.find(l=>l.type===a);return n?n.label:a}createNewBlock(a){let n={id:Ve(),type:a,order:this.content.blocks.length};switch(a){case"heading":n.content="",n.level="h2",n.alignment="left",n.color="#000000",n.fontSize=28;break;case"button":n.text="Click me",n.url="#",n.target="_self",n.style="primary",n.size="medium",n.fullWidth=!1,n.alignment="left";break;case"slider":n.images=[];break;case"paragraph":n.content="";break;case"list":n.items=[],n.style="bullet";break;case"image-list":n.items=[],n.layout="grid",n.columns=3;break;case"video":n.url="",n.controls=!0,n.autoplay=!1;break;case"gallery":n.images=[],n.layout="grid",n.columns=3,n.spacing=16;break;case"image-box":n.image={url:"assets/images/placeholder.png",alt:"Preview image"},n.layout="left",n.titleTag="h2",n.title="Ti\xEAu \u0111\u1EC1 m\u1EABu",n.description="M\xF4 t\u1EA3 m\u1EABu",n.imageRounded=!1,n.imageShadow=!1,n.backgroundColor="#ffffff",n.textColor="#000000",n.padding=24,n.spacing=16;break}return n}isHeadingBlock(a){return a.type==="heading"}isButtonBlock(a){return a.type==="button"}isImageBoxBlock(a){return a.type==="image-box"}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=Y({type:o,selectors:[["app-page-builder"]],standalone:!1,features:[co([{provide:Zr,useExisting:Tr(()=>o),multi:!0}])],decls:15,vars:7,consts:[[1,"page-builder"],[1,"toolbar"],[1,"left-actions"],["nz-button","","nzType","default",3,"click"],["nz-icon","","nzType","layout","nzTheme","outline"],["nzType","vertical"],["cdkDropList","","id","block-templates",1,"block-templates",3,"cdkDropListData","cdkDropListConnectedTo"],["class","block-template","cdkDrag","",3,"cdkDragData",4,"ngFor","ngForOf"],[1,"right-actions"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzTheme","outline",3,"nzType"],["class","blocks-container","cdkDropList","","id","main-container",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped",4,"ngIf"],[3,"content",4,"ngIf"],["cdkDrag","",1,"block-template",3,"cdkDragData"],["nz-button","","nzType","default"],["cdkDropList","","id","main-container",1,"blocks-container",3,"cdkDropListDropped","cdkDropListData","cdkDropListConnectedTo"],[4,"ngFor","ngForOf"],["cdkDrag","",3,"section","sectionIndex","sectionChange","deleteSection",4,"ngIf"],["class","block","cdkDrag","",3,"cdkDragData",4,"ngIf"],["cdkDrag","",3,"sectionChange","deleteSection","section","sectionIndex"],["cdkDrag","",1,"block",3,"cdkDragData"],["cdkDragHandle","",1,"block-header"],[1,"block-title"],[1,"block-actions"],["nz-button","","nzType","text",3,"click","disabled"],["nz-icon","","nzType","arrow-up"],["nz-icon","","nzType","arrow-down"],["nz-button","","nzType","text","nzDanger","",3,"click"],["nz-icon","","nzType","delete"],[1,"block-content"],[3,"block","blockChange",4,"ngIf"],[3,"blockChange","block"],[3,"content"]],template:function(n,l){n&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),k("click",function(){return l.addLayoutSection()}),P(4,"i",4),g(5," Th\xEAm Layout "),p(),P(6,"nz-divider",5),u(7,"div",6),x(8,ap,4,3,"div",7),p()(),u(9,"div",8)(10,"button",9),k("click",function(){return l.togglePreview()}),P(11,"i",10),g(12),p()()(),x(13,Cp,2,3,"div",11)(14,bp,1,1,"app-page-preview",12),p()),n&2&&(c(7),d("cdkDropListData",l.blockTemplates)("cdkDropListConnectedTo",l.getLayoutColumnIds()),c(),d("ngForOf",l.blockTemplates),c(3),d("nzType",l.isPreview?"edit":"eye"),c(),D(" ",l.isPreview?"Ch\u1EC9nh s\u1EEDa":"Xem tr\u01B0\u1EDBc"," "),c(),d("ngIf",!l.isPreview),c(),d("ngIf",l.isPreview))},dependencies:[rt,Pt,dt,zt,ut,Ot,an,hi,_i,mi,ln,sn,cn,dn,pn,mn,yi,xi,_n,hn,gn],styles:[".page-builder[_ngcontent-%COMP%]{padding:20px}.page-builder[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;flex-wrap:wrap;gap:16px}.page-builder[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-actions[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap;align-items:center}.page-builder[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-actions[_ngcontent-%COMP%]   .block-templates[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.page-builder[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-actions[_ngcontent-%COMP%]   .block-templates[_ngcontent-%COMP%]   .block-template.cdk-drag-preview[_ngcontent-%COMP%]{box-shadow:0 4px 12px #00000026}.page-builder[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-actions[_ngcontent-%COMP%]   .block-templates[_ngcontent-%COMP%]   .block-template[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.page-builder[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-actions[_ngcontent-%COMP%]   .block-templates[_ngcontent-%COMP%]   .block-template[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.page-builder[_ngcontent-%COMP%]   .blocks-container[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]{margin-bottom:24px;background:#fff;border-radius:4px;border:1px solid #f0f0f0}.page-builder[_ngcontent-%COMP%]   .blocks-container[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]:last-child{margin-bottom:0}.page-builder[_ngcontent-%COMP%]   .blocks-container[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]   .block-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:#fafafa;border-bottom:1px solid #f0f0f0;border-top-left-radius:4px;border-top-right-radius:4px;cursor:move}.page-builder[_ngcontent-%COMP%]   .blocks-container[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]   .block-header[_ngcontent-%COMP%]   .block-title[_ngcontent-%COMP%]{font-weight:500}.page-builder[_ngcontent-%COMP%]   .blocks-container[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]   .block-header[_ngcontent-%COMP%]   .block-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.page-builder[_ngcontent-%COMP%]   .blocks-container[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]   .block-content[_ngcontent-%COMP%]{padding:16px}.page-builder[_ngcontent-%COMP%]   .cdk-drag-preview[_ngcontent-%COMP%]{box-shadow:0 4px 12px #00000026}.page-builder[_ngcontent-%COMP%]   .cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.page-builder[_ngcontent-%COMP%]   .cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.page-builder[_ngcontent-%COMP%]   .blocks-container.cdk-drop-list-dragging[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]})};var xp=["mapContainer"],Pp=()=>({standalone:!0}),Ya=()=>({minRows:3,maxRows:5}),kp=o=>({color:o});function zp(o,a){if(o&1&&(u(0,"div",74),P(1,"i",75),g(2),p()),o&2){let n=f();c(),d("nzType",n.isEdit?"edit":"plus"),c(),D(" ",n.isEdit?"Ch\u1EC9nh s\u1EEDa s\u1EA3n ph\u1EA9m":"Th\xEAm s\u1EA3n ph\u1EA9m m\u1EDBi"," ")}}function Mp(o,a){o&1&&(Q(0),g(1,"Vui l\xF2ng nh\u1EADp t\xEAn s\u1EA3n ph\u1EA9m"),tt())}function wp(o,a){o&1&&(Q(0),g(1,"T\xEAn s\u1EA3n ph\u1EA9m ph\u1EA3i c\xF3 \xEDt nh\u1EA5t 3 k\xFD t\u1EF1"),tt())}function Ep(o,a){if(o&1&&x(0,Mp,2,0,"ng-container",53)(1,wp,2,0,"ng-container",53),o&2){let n=a.$implicit;d("ngIf",n.hasError("required")),c(),d("ngIf",n.hasError("minlength"))}}function Sp(o,a){o&1&&(Q(0),g(1,"Vui l\xF2ng nh\u1EADp slug"),tt())}function Op(o,a){o&1&&(Q(0),g(1,"Slug ch\u1EC9 ch\u1EA5p nh\u1EADn ch\u1EEF th\u01B0\u1EDDng, s\u1ED1 v\xE0 d\u1EA5u g\u1EA1ch ngang"),tt())}function Tp(o,a){if(o&1&&x(0,Sp,2,0,"ng-container",53)(1,Op,2,0,"ng-container",53),o&2){let n=a.$implicit;d("ngIf",n.hasError("required")),c(),d("ngIf",n.hasError("pattern"))}}function Lp(o,a){if(o&1&&P(0,"nz-option",76),o&2){let n=a.$implicit;d("nzValue",n.id)("nzLabel",n.name)}}function Bp(o,a){o&1&&(Q(0),g(1,"Vui l\xF2ng ch\u1ECDn d\u1EF1 \xE1n"),tt())}function Ip(o,a){if(o&1&&x(0,Bp,2,0,"ng-container",53),o&2){let n=a.$implicit;d("ngIf",n.hasError("required"))}}function Dp(o,a){if(o&1&&P(0,"nz-option",76),o&2){let n=a.$implicit;d("nzValue",n.id)("nzLabel",n.name)}}function Np(o,a){o&1&&(Q(0),g(1,"Vui l\xF2ng ch\u1ECDn danh m\u1EE5c"),tt())}function Ap(o,a){o&1&&(Q(0),g(1,"Kh\xF4ng th\u1EC3 ch\u1ECDn danh m\u1EE5c n\xE0y khi s\u1EA3n ph\u1EA9m thu\u1ED9c d\u1EF1 \xE1n"),tt())}function Fp(o,a){if(o&1&&x(0,Np,2,0,"ng-container",53)(1,Ap,2,0,"ng-container",53),o&2){let n=a.$implicit;d("ngIf",n.hasError("required")),c(),d("ngIf",n.hasError("invalidCategory"))}}function Vp(o,a){if(o&1){let n=Z();u(0,"button",77),k("click",function(){w(n);let m=f();return E(m.onSearch())}),P(1,"i",78),p()}}function Rp(o,a){if(o&1&&P(0,"nz-option",76),o&2){let n=a.$implicit;d("nzValue",n.value)("nzLabel",n.label)}}function Zp(o,a){o&1&&(Q(0),g(1,"Vui l\xF2ng nh\u1EADp gi\xE1"),tt())}function Wp(o,a){o&1&&(Q(0),g(1,"Gi\xE1 ph\u1EA3i l\u1EDBn h\u01A1n 0"),tt())}function Hp(o,a){if(o&1&&x(0,Zp,2,0,"ng-container",53)(1,Wp,2,0,"ng-container",53),o&2){let n=a.$implicit;d("ngIf",n.hasError("required")),c(),d("ngIf",n.hasError("min"))}}function Gp(o,a){o&1&&(Q(0),g(1,"Gi\xE1 ph\u1EA3i l\u1EDBn h\u01A1n 0"),tt())}function Up(o,a){o&1&&(Q(0),g(1,"Gi\xE1 \u0111\u1EBFn ph\u1EA3i l\u1EDBn h\u01A1n gi\xE1 t\u1EEB"),tt())}function qp(o,a){if(o&1&&x(0,Gp,2,0,"ng-container",53)(1,Up,2,0,"ng-container",53),o&2){let n=a.$implicit;d("ngIf",n.hasError("min")),c(),d("ngIf",n.parent==null?null:n.parent.hasError("priceRange"))}}function jp(o,a){if(o&1&&P(0,"nz-option",76),o&2){let n=a.$implicit;d("nzValue",n.value)("nzLabel",n.label)}}function $p(o,a){if(o&1&&P(0,"nz-option",76),o&2){let n=a.$implicit;d("nzValue",n.value)("nzLabel",n.label)}}function Xp(o,a){if(o&1&&(Q(0),u(1,"div",17)(2,"div",18)(3,"nz-form-item")(4,"nz-form-label",19),g(5,"Lo\u1EA1i d\u1EF1 \xE1n"),p(),u(6,"nz-form-control",79)(7,"nz-select",80),x(8,jp,1,2,"nz-option",24),p()()()(),u(9,"div",18)(10,"nz-form-item")(11,"nz-form-label",19),g(12,"Tr\u1EA1ng th\xE1i d\u1EF1 \xE1n"),p(),u(13,"nz-form-control",81)(14,"nz-select",82),x(15,$p,1,2,"nz-option",24),p()()()()(),tt()),o&2){let n=f();c(),d("nzGutter",24),c(),d("nzXs",24)("nzSm",12)("nzMd",8),c(6),d("ngForOf",n.projectTypes),c(),d("nzXs",24)("nzSm",12)("nzMd",8),c(6),d("ngForOf",n.projectStatus)}}function Kp(o,a){o&1&&(u(0,"div",17)(1,"div",29)(2,"nz-form-item")(3,"nz-form-label",19),g(4,"Ch\u1EE7 \u0111\u1EA7u t\u01B0"),p(),u(5,"nz-form-control",83),P(6,"input",84),p()()()()),o&2&&(d("nzGutter",24),c(),d("nzSpan",24))}function Jp(o,a){if(o&1&&(Q(0),u(1,"nz-divider",85),P(2,"i",86),g(3," Chi ph\xED ti\u1EC7n \xEDch "),p(),u(4,"div",17)(5,"div",18)(6,"nz-form-item")(7,"nz-form-label"),g(8,"Gi\xE1 \u0111i\u1EC7n (VN\u0110/th\xE1ng)"),p(),u(9,"nz-form-control"),P(10,"nz-input-number",87),p()()(),u(11,"div",18)(12,"nz-form-item")(13,"nz-form-label"),g(14,"Gi\xE1 n\u01B0\u1EDBc (VN\u0110/th\xE1ng)"),p(),u(15,"nz-form-control"),P(16,"nz-input-number",88),p()()(),u(17,"div",18)(18,"nz-form-item")(19,"nz-form-label"),g(20,"Gi\xE1 internet (VN\u0110/th\xE1ng)"),p(),u(21,"nz-form-control"),P(22,"nz-input-number",89),p()()()(),tt()),o&2){let n=f();c(4),d("nzGutter",24),c(),d("nzXs",24)("nzSm",12)("nzMd",8),c(5),d("nzMin",0)("nzStep",1e3)("nzFormatter",n.formatterVND)("nzParser",n.parserVND),c(),d("nzXs",24)("nzSm",12)("nzMd",8),c(5),d("nzMin",0)("nzStep",1e3)("nzFormatter",n.formatterVND)("nzParser",n.parserVND),c(),d("nzXs",24)("nzSm",12)("nzMd",8),c(5),d("nzMin",0)("nzStep",1e3)("nzFormatter",n.formatterVND)("nzParser",n.parserVND)}}function Yp(o,a){if(o&1&&(u(0,"nz-form-item")(1,"nz-form-label",90),g(2,"N\u1ED9i dung"),p(),u(3,"nz-form-control",90),P(4,"app-page-builder",91),p()()),o&2){let n=f();c(),d("nzSpan",24),c(2),d("nzSpan",24),c(),d("formControl",n.contentControl)}}function Qp(o,a){if(o&1&&(u(0,"nz-form-item")(1,"nz-form-label",19),g(2,"M\xF4 t\u1EA3 chi ti\u1EBFt"),p(),u(3,"nz-form-control",92),P(4,"editor",93),p()()),o&2){let n=f();c(4),d("init",n.editorConfig)}}function tm(o,a){if(o&1&&(u(0,"nz-option",94)(1,"span",95),g(2),p()()),o&2){let n=a.$implicit;d("nzValue",n.id)("nzLabel",n.name)("nzCustomContent",!0),c(),d("ngStyle",Ar(5,kp,n.color)),c(),S(n.name)}}function em(o,a){if(o&1&&g(0),o&2){let n=a.$implicit;D("v\xE0 ",n.length," tag kh\xE1c")}}function nm(o,a){if(o&1&&P(0,"img",96),o&2){let n=f();d("src",n.previewImage,J)}}var Nn=class o{constructor(a,n,l,m,_,b,T,M){this.fb=a;this.productService=n;this.tagService=l;this.router=m;this.route=_;this.message=b;this.ngZone=T;this.categoryService=M;this.initForm()}mapContainer;productForm;loading=!1;isEdit=!1;productId;fileList=[];previewImage="";previewVisible=!1;map;marker;searchResults=[];searchQuery="";searchSubject=new te;tags=[];editorConfig={base_url:"/tinymce",suffix:".min",plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","help","wordcount","emoticons"],toolbar:"undo redo | blocks | formatselect | bold italic |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | link image media | removeformat | help",height:500,menubar:!0,branding:!1,language:"vi",language_url:"/tinymce/langs/vi.js",content_style:'body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif; }',images_upload_handler:(a,n)=>new Promise((l,m)=>{let _=new FormData;_.append("file",a.blob(),a.filename());let b=localStorage.getItem("access_token");fetch(`${Jr.apiUrl}media/upload`,{method:"POST",headers:{Authorization:`Bearer ${b}`},body:_}).then(T=>T.json()).then(T=>{T.data.drive_id?l("https://lh3.googleusercontent.com/d/"+T.data.drive_id):m("Kh\xF4ng nh\u1EADn \u0111\u01B0\u1EE3c URL \u1EA3nh t\u1EEB server")}).catch(T=>{m("L\u1ED7i upload \u1EA3nh: "+T)})})};typeProducts=[{label:"B\xE1n",value:"sale"},{label:"Cho thu\xEA",value:"rent"}];projectTypes=[{label:"C\u0103n h\u1ED9 cao c\u1EA5p",value:"luxury_apartment"},{label:"Khu \u0111\xF4 th\u1ECB",value:"urban_area"},{label:"Khu ngh\u1EC9 d\u01B0\u1EE1ng",value:"resort"},{label:"Khu ph\u1EE9c h\u1EE3p",value:"complex"}];projectStatus=[{label:"\u0110ang m\u1EDF b\xE1n",value:"selling"},{label:"S\u1EAFp m\u1EDF b\xE1n",value:"coming_soon"},{label:"\u0110\xE3 b\xE0n giao",value:"delivered"},{label:"\u0110\xE3 ho\xE0n th\xE0nh",value:"completed"}];investmentTypes=[{label:"Mua b\xE1n",value:"sell"},{label:"Cho thu\xEA",value:"rent"}];coverImageList=[];productImageList=[];tempCoverFile;tempProductFiles=[];categories=[];existingCoverImage=null;existingProductImages=[];removedImageIds=[];projects=[];ngOnInit(){this.route.params.subscribe(a=>{a.id&&(this.productId=+a.id,this.isEdit=!0),this.initForm(),this.isEdit&&this.loadProduct(this.productId)}),setTimeout(()=>{this.initMap()}),this.productForm.get("name")?.valueChanges.subscribe(a=>{if(!this.isEdit){let n=this.generateSlug(a);this.productForm.patchValue({slug:n},{emitEvent:!1})}}),this.searchSubject.pipe(se(500),ce()).subscribe(a=>{this.performSearch(a)}),this.loadTags(),this.loadCategories(),this.loadProjects()}initMap(){this.mapContainer&&(this.map=fn.map(this.mapContainer.nativeElement,{attributionControl:!1}).setView([16.0544,108.2022],13),fn.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"\xA9 Danahomes"}).addTo(this.map),this.marker=fn.marker([16.0544,108.2022],{draggable:!0}).addTo(this.map),this.marker.on("dragend",()=>{let a=this.marker.getLatLng();this.reverseGeocode(a.lat,a.lng)}))}onSearch(){this.searchSubject.next(this.searchQuery)}performSearch(a){a&&fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(a)}&countrycodes=vn`).then(n=>n.json()).then(n=>{if(this.searchResults=n,n.length>0){let l=n[0],m=parseFloat(l.lat),_=parseFloat(l.lon);this.map.setView([m,_],16),this.marker.setLatLng([m,_]),this.updateAddressDetails(l)}else this.message.warning("Kh\xF4ng t\xECm th\u1EA5y \u0111\u1ECBa ch\u1EC9")}).catch(n=>{this.message.error("C\xF3 l\u1ED7i x\u1EA3y ra khi t\xECm ki\u1EBFm \u0111\u1ECBa ch\u1EC9")})}reverseGeocode(a,n){fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${a}&lon=${n}`).then(l=>l.json()).then(l=>{this.updateAddressDetails(l)}).catch(l=>{this.message.error("C\xF3 l\u1ED7i x\u1EA3y ra khi l\u1EA5y th\xF4ng tin \u0111\u1ECBa ch\u1EC9")})}updateAddressDetails(a){let n=a.address||{},l=parseFloat(a.lat),m=parseFloat(a.lon);console.log("Raw address data:",n);let _=()=>n.city==="\u0110\xE0 N\u1EB5ng"?"Th\xE0nh ph\u1ED1 \u0110\xE0 N\u1EB5ng":n.city||n.state||"",b=()=>n.suburb&&n.suburb.includes("Ng\u0169 H\xE0nh S\u01A1n")?"Qu\u1EADn Ng\u0169 H\xE0nh S\u01A1n":n.district||(n.suburb&&n.suburb.includes("Qu\u1EADn")?n.suburb:"")||n.city_district||"",T=()=>n.quarter||(n.neighbourhood&&!n.neighbourhood.includes("Qu\u1EADn")?n.neighbourhood:"")||(n.suburb&&!n.suburb.includes("Qu\u1EADn")?n.suburb:"")||"",M=this.productForm.get("address_detail");if(M){let V={address:a.display_name||"",province:_(),district:b(),ward:T(),google_address_link:`https://www.openstreetmap.org/?mlat=${l}&mlon=${m}#map=16/${l}/${m}`};console.log("Mapped address values:",V),M.patchValue(V),this.map&&l&&m&&(this.map.setView([l,m],16),this.marker.setLatLng([l,m]))}}loadTags(){this.tagService.getAllTags().subscribe({next:a=>{this.tags=a.data},error:a=>{this.message.error("C\xF3 l\u1ED7i x\u1EA3y ra khi t\u1EA3i danh s\xE1ch tags")}})}generateSlug(a){return a.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[]/g,"d").replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"-")}priceRangeValidator(a){let n=a.get("price")?.value,l=a.get("price_to")?.value;return n&&l&&n>=l?{priceRange:!0}:null}loadCategories(){this.categoryService.getCategories().subscribe({next:a=>{this.categories=a.data},error:a=>{this.message.error("C\xF3 l\u1ED7i x\u1EA3y ra khi t\u1EA3i danh s\xE1ch danh m\u1EE5c")}})}updateValidators(){let a=this.productForm.get("cover_image"),n=this.productForm.get("product_images");this.isEdit?(a?.clearValidators(),n?.clearValidators()):(a?.setValidators([nt.required]),n?.setValidators([nt.required,nt.minLength(1)])),a?.updateValueAndValidity(),n?.updateValueAndValidity()}initForm(){this.productForm=this.fb.group({name:["",[nt.required]],slug:["",[nt.required]],category_id:[null,[nt.required,this.categoryValidator.bind(this)]],product_parent_id:[null],address_detail:this.fb.group({address:["",[nt.required]],province:["",[nt.required]],district:["",[nt.required]],ward:["",[nt.required]],google_address_link:[""]}),product_detail:this.fb.group({bedroom:[0],bathroom:[0],area:[0,[nt.required,nt.min(0)]],price:[0,[nt.required,nt.min(0)]],price_to:[0,[nt.min(0)]],content:[{blocks:[]},[nt.required]],investor:[""],project_type:[""],project_status:[""],type_of_investment:[""],type_product:["",[nt.required]],eletric_price:[0],water_price:[0],internet_price:[0],utilities:[""],interiol:[""]},{validators:this.priceRangeValidator}),tag_ids:[[]]}),this.productForm.get("product_parent_id")?.valueChanges.subscribe(a=>{let n=this.productForm.get("category_id");a?n?.addValidators(this.categoryValidator.bind(this)):n?.removeValidators(this.categoryValidator.bind(this)),n?.updateValueAndValidity()}),this.productForm.get("category_id")?.valueChanges.subscribe(a=>{let n=this.productForm.get("product_detail.project_type"),l=this.productForm.get("product_detail.project_status"),m=this.productForm.get("product_detail.investor");a===7?(n?.addValidators([nt.required]),l?.addValidators([nt.required]),m?.addValidators([nt.required,nt.minLength(3)])):(n?.clearValidators(),l?.clearValidators(),m?.clearValidators()),n?.updateValueAndValidity(),l?.updateValueAndValidity(),m?.updateValueAndValidity()}),this.productForm.get("product_detail.type_product")?.valueChanges.subscribe(a=>{let n=this.productForm.get("product_detail.eletric_price"),l=this.productForm.get("product_detail.water_price"),m=this.productForm.get("product_detail.internet_price");a==="rent"?(n?.setValidators([nt.required,nt.min(0)]),l?.setValidators([nt.required,nt.min(0)]),m?.setValidators([nt.required,nt.min(0)])):(n?.clearValidators(),l?.clearValidators(),m?.clearValidators()),n?.updateValueAndValidity(),l?.updateValueAndValidity(),m?.updateValueAndValidity()}),this.updateValidators()}loadProduct(a){this.loading=!0,this.productService.getProduct(a).subscribe({next:n=>{let l=n.data;console.log("Raw product data:",l),this.initForm();let m;try{if(l?.product_detail?.content)if(l.category_id===7)try{m=typeof l.product_detail.content=="string"?JSON.parse(l.product_detail.content):l.product_detail.content,console.log("Parsed project content:",m)}catch(b){console.error("Error parsing content:",b),m={blocks:[]}}else m=l.product_detail.content;else m=l?.category_id===7?{blocks:[]}:""}catch(b){console.error("Error processing content:",b),m=l?.category_id===7?{blocks:[]}:""}let _={name:l?.name||"",slug:l?.slug||"",category_id:l?.category_id||null,product_parent_id:l?.product_parent_id||null,address_detail:l?.address_detail||{},product_detail:vt(j({},l?.product_detail||{}),{content:m,bedroom:l?.product_detail?.bedroom||0,bathroom:l?.product_detail?.bathroom||0,area:l?.product_detail?.area||0,price:l?.product_detail?.price||0,price_to:l?.product_detail?.price_to||0,eletric_price:l?.product_detail?.eletric_price||0,water_price:l?.product_detail?.water_price||0,internet_price:l?.product_detail?.internet_price||0}),tag_ids:l?.tag?.map(b=>b.id)||[]};console.log("Form data to patch:",_),console.log("Content type:",typeof m),console.log("Content value:",m),setTimeout(()=>{this.productForm.patchValue(_);let b=l.address_detail.google_address_link;if(b&&this.map){let T=b.match(/mlat=([\d.]+)&mlon=([\d.]+)/);if(T){let M=parseFloat(T[1]),V=parseFloat(T[2]);this.map.setView([M,V],16),this.marker.setLatLng([M,V]),this.searchQuery=l.address_detail.address}}if(l.images?.length){let T=l.images.find(V=>V.file_type==="cover");T&&(this.existingCoverImage=T,this.coverImageList=[{uid:T.id.toString(),name:T.file_name,status:"done",url:`https://lh3.googleusercontent.com/d/${T.drive_id}`,isExisting:!0,originalData:T}]);let M=l.images.filter(V=>V.file_type==="product");M.length&&(this.existingProductImages=M,this.productImageList=M.map(V=>({uid:V.id.toString(),name:V.file_name,status:"done",url:`https://lh3.googleusercontent.com/d/${V.drive_id}`,isExisting:!0,originalData:V})))}this.loading=!1})},error:n=>{this.message.error("C\xF3 l\u1ED7i x\u1EA3y ra khi t\u1EA3i th\xF4ng tin s\u1EA3n ph\u1EA9m"),this.loading=!1}})}beforeUploadCover=a=>{this.coverImageList=[a],this.tempCoverFile=a,this.productForm.patchValue({cover_image:a});let n=new FileReader;return n.readAsDataURL(a),n.onload=()=>{this.previewImage=n.result},!1};beforeUploadProductImages=a=>{this.productImageList=[...this.productImageList,a],this.tempProductFiles.push(a);let n=this.productForm.get("product_images")?.value||[];return this.productForm.patchValue({product_images:[...n,a]}),!1};handleRemoveCover=a=>this.onRemoveImage(a,"cover");handleRemoveProduct=a=>this.onRemoveImage(a,"product");onRemoveImage=(a,n)=>{if(a.isExisting){let l=parseInt(a.uid);isNaN(l)||this.removedImageIds.push(l)}if(n==="cover")this.coverImageList=[],this.productForm.patchValue({cover_image:null});else{let l=this.productImageList.indexOf(a);this.productImageList=this.productImageList.filter(b=>b.uid!==a.uid);let _=[...this.productForm.get("product_images")?.value||[]];_.splice(l,1),this.productForm.patchValue({product_images:_})}return!0};onSubmit(){return ri(this,null,function*(){console.log(this.productForm,"check");let a=()=>{let n=[],l=this.productForm.controls;for(let m in l){let _=l[m];if(_.invalid)if(console.log(`Control ${m} is invalid:`,{errors:_.errors,value:_.value}),_ instanceof Wr)for(let b in _.controls){let T=_.controls[b];T.invalid&&(console.log(`Child control ${m}.${b} is invalid:`,{errors:T.errors,value:T.value}),n.push(`${m}.${b}`))}else n.push(m)}return n};if(this.productForm.invalid){console.log("Invalid controls:",a()),this.message.warning("Vui l\xF2ng \u0111i\u1EC1n \u0111\u1EA7y \u0111\u1EE7 th\xF4ng tin b\u1EAFt bu\u1ED9c");return}if(this.productForm.valid){this.loading=!0;try{let n=this.productForm.value,l=n.category_id,m=n.product_detail.content;if(l===7)try{m=typeof m=="object"?JSON.stringify(m):m}catch(M){console.error("Error processing project content:",M),m=JSON.stringify({blocks:[]})}else m=typeof m=="string"?m:"";let _={name:n.name,slug:n.slug,category_id:n.category_id,product_parent_id:n.product_parent_id,address_detail:n.address_detail,product_detail:vt(j({},n.product_detail),{content:m}),tag_ids:n.tag_ids||[]},b;this.isEdit&&this.productId?(b=yield this.productService.updateProduct(this.productId,_).toPromise(),this.message.success("C\u1EADp nh\u1EADt s\u1EA3n ph\u1EA9m th\xE0nh c\xF4ng")):(b=yield this.productService.createProduct(_).toPromise(),this.message.success("T\u1EA1o s\u1EA3n ph\u1EA9m th\xE0nh c\xF4ng"));let T=b?.data?.product_detail?.id;if(!T)throw new Error("Kh\xF4ng nh\u1EADn \u0111\u01B0\u1EE3c product_detail_id t\u1EEB server");try{if(this.removedImageIds.length>0){let M=this.removedImageIds.map(V=>this.productService.deleteImage(V,this.existingCoverImage?.drive_id).toPromise());yield Promise.all(M)}if(this.tempCoverFile&&(yield this.productService.uploadImage(this.tempCoverFile,"cover",T).toPromise()),this.tempProductFiles.length>0){let M=this.tempProductFiles.map(V=>this.productService.uploadImage(V,"product",T).toPromise());yield Promise.all(M)}}catch(M){this.message.warning("S\u1EA3n ph\u1EA9m \u0111\xE3 \u0111\u01B0\u1EE3c t\u1EA1o nh\u01B0ng c\xF3 l\u1ED7i khi t\u1EA3i \u1EA3nh l\xEAn"),console.error("Upload image error:",M)}this.router.navigate(["/products"])}catch(n){this.message.error("C\xF3 l\u1ED7i x\u1EA3y ra: "+(n.error?.message||n.message||"Vui l\xF2ng th\u1EED l\u1EA1i"))}finally{this.loading=!1}}})}onCancel(){this.router.navigate(["/products"])}handlePreview=a=>ri(this,null,function*(){!a.url&&!a.preview&&(a.preview=yield new Promise((n,l)=>{let m=new FileReader;m.readAsDataURL(a.originFileObj),m.onload=()=>n(m.result),m.onerror=_=>l(_)})),this.previewImage=a.url||a.preview,this.previewVisible=!0});formatterVND=a=>a?`${a.toLocaleString("vi-VN")} VN\u0110`:"0 VN\u0110";parserVND=a=>{try{let n=String(a);return Number(n.replace(/[^\d]/g,""))||0}catch{return 0}};categoryValidator(a){let n=a.value;return this.productForm?.get("product_parent_id")?.value&&n===7?{invalidCategory:!0}:null}loadProjects(){this.productService.getProductByProject().subscribe({next:a=>{a.data&&(this.projects=a.data)},error:a=>{this.message.error("C\xF3 l\u1ED7i x\u1EA3y ra khi t\u1EA3i danh s\xE1ch d\u1EF1 \xE1n")}})}get contentControl(){return this.productForm.get("product_detail.content")}static \u0275fac=function(n){return new(n||o)(Lt(jr),Lt(di),Lt(va),Lt(ci),Lt(Kr),Lt(ui),Lt(so),Lt(Ca))};static \u0275cmp=Y({type:o,selectors:[["app-product-form"]],viewQuery:function(n,l){if(n&1&&Ir(xp,5),n&2){let m;Dr(m=Nr())&&(l.mapContainer=m.first)}},standalone:!1,decls:197,vars:121,consts:[["pageTitle",""],["nameErrorTpl",""],["slugErrorTpl",""],["projectErrorTpl",""],["categoryErrorTpl",""],["searchButton",""],["mapContainer",""],["priceErrorTpl",""],["priceToErrorTpl",""],["tagPlaceHolder",""],["modalContent",""],[3,"nzSpinning","nzTip"],[1,"container-fluid"],[3,"nzTitle"],["nz-form","",3,"formGroup"],["nzText","Th\xF4ng tin c\u01A1 b\u1EA3n"],["nz-icon","","nzType","info-circle",2,"margin-right","8px"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzXs","nzSm","nzMd"],["nzRequired",""],[3,"nzErrorTip"],["nz-input","","formControlName","name","placeholder","Nh\u1EADp t\xEAn s\u1EA3n ph\u1EA9m"],["nz-input","","formControlName","slug","placeholder","Nh\u1EADp slug"],["formControlName","product_parent_id","nzPlaceHolder","Ch\u1ECDn d\u1EF1 \xE1n","nzAllowClear","",3,"nzShowSearch"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["formControlName","category_id","nzPlaceHolder","Ch\u1ECDn danh m\u1EE5c",3,"nzShowSearch"],["nzText","\u0110\u1ECBa ch\u1EC9 v\xE0 v\u1ECB tr\xED"],["nz-icon","","nzType","environment",2,"margin-right","8px"],["formGroupName","address_detail"],["nz-col","",3,"nzSpan"],[3,"nzSuffix"],["nz-input","","placeholder","Nh\u1EADp \u0111\u1ECBa ch\u1EC9 \u0111\u1EC3 t\xECm ki\u1EBFm",3,"ngModelChange","keyup.enter","ngModel","ngModelOptions"],[1,"map-container",2,"height","400px"],["nzErrorTip","Vui l\xF2ng nh\u1EADp \u0111\u1ECBa ch\u1EC9 \u0111\u1EA7y \u0111\u1EE7"],["nz-input","","formControlName","address","placeholder","\u0110\u1ECBa ch\u1EC9 \u0111\u1EA7y \u0111\u1EE7"],["nzErrorTip","Vui l\xF2ng ch\u1ECDn t\u1EC9nh/th\xE0nh ph\u1ED1"],["nz-input","","formControlName","province","placeholder","T\u1EC9nh/Th\xE0nh ph\u1ED1"],["nzErrorTip","Vui l\xF2ng ch\u1ECDn qu\u1EADn/huy\u1EC7n"],["nz-input","","formControlName","district","placeholder","Qu\u1EADn/Huy\u1EC7n"],["nzErrorTip","Vui l\xF2ng ch\u1ECDn ph\u01B0\u1EDDng/x\xE3"],["nz-input","","formControlName","ward","placeholder","Ph\u01B0\u1EDDng/X\xE3"],["nzText","Th\xF4ng tin chi ti\u1EBFt"],["nz-icon","","nzType","profile",2,"margin-right","8px"],["formGroupName","product_detail"],["nzErrorTip","Vui l\xF2ng ch\u1ECDn lo\u1EA1i h\xECnh s\u1EA3n ph\u1EA9m"],["formControlName","type_product","nzPlaceHolder","Ch\u1ECDn lo\u1EA1i h\xECnh s\u1EA3n ph\u1EA9m"],["formControlName","bedroom",3,"nzMin","nzStep","nzPrecision"],["formControlName","bathroom",3,"nzMin","nzStep","nzPrecision"],["nzErrorTip","Vui l\xF2ng nh\u1EADp di\u1EC7n t\xEDch"],["formControlName","area",3,"nzMin","nzStep","nzPrecision"],["nz-col","",3,"nzXs","nzSm"],["formControlName","price",3,"nzMin","nzStep","nzFormatter","nzParser"],["formControlName","price_to",3,"nzMin","nzStep","nzFormatter","nzParser"],[4,"ngIf"],["nz-row","",3,"nzGutter",4,"ngIf"],["nz-input","","formControlName","utilities","placeholder","Nh\u1EADp th\xF4ng tin ti\u1EC7n \xEDch",3,"nzAutosize"],["nz-input","","formControlName","interiol","placeholder","Nh\u1EADp th\xF4ng tin n\u1ED9i th\u1EA5t",3,"nzAutosize"],["nzText","Tags"],["nz-icon","","nzType","tags",2,"margin-right","8px"],["formControlName","tag_ids","nzMode","multiple","nzPlaceHolder","Ch\u1ECDn tags",3,"nzMaxTagCount","nzMaxTagPlaceholder"],[3,"nzValue","nzLabel","nzCustomContent",4,"ngFor","ngForOf"],["nzText","H\xECnh \u1EA3nh"],["nz-icon","","nzType","picture",2,"margin-right","8px"],["nzErrorTip","Vui l\xF2ng t\u1EA3i l\xEAn \u1EA3nh b\xECa"],["nzListType","picture-card",3,"nzFileListChange","nzFileList","nzShowButton","nzBeforeUpload","nzRemove","nzPreview"],["nz-icon","","nzType","plus"],[2,"margin-top","8px"],["nzErrorTip","Vui l\xF2ng t\u1EA3i l\xEAn \xEDt nh\u1EA5t m\u1ED9t \u1EA3nh s\u1EA3n ph\u1EA9m"],[3,"nzOnCancel","nzVisible","nzContent","nzFooter"],["nz-row","",1,"button-group",3,"nzJustify"],["nz-button","","nzType","default",3,"click"],["nz-icon","","nzType","close-circle"],["nz-button","","nzType","primary",3,"click","nzLoading"],["nz-icon","",3,"nzType"],[2,"display","flex","align-items","center"],["nz-icon","",2,"margin-right","8px",3,"nzType"],[3,"nzValue","nzLabel"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","search"],["nzErrorTip","Vui l\xF2ng ch\u1ECDn lo\u1EA1i d\u1EF1 \xE1n"],["formControlName","project_type","nzPlaceHolder","Ch\u1ECDn lo\u1EA1i d\u1EF1 \xE1n"],["nzErrorTip","Vui l\xF2ng ch\u1ECDn tr\u1EA1ng th\xE1i d\u1EF1 \xE1n"],["formControlName","project_status","nzPlaceHolder","Ch\u1ECDn tr\u1EA1ng th\xE1i"],["nzErrorTip","Vui l\xF2ng nh\u1EADp t\xEAn ch\u1EE7 \u0111\u1EA7u t\u01B0"],["nz-input","","formControlName","investor","placeholder","Nh\u1EADp t\xEAn ch\u1EE7 \u0111\u1EA7u t\u01B0"],["nzText","Chi ph\xED ti\u1EC7n \xEDch"],["nz-icon","","nzType","dollar",2,"margin-right","8px"],["formControlName","eletric_price",3,"nzMin","nzStep","nzFormatter","nzParser"],["formControlName","water_price",3,"nzMin","nzStep","nzFormatter","nzParser"],["formControlName","internet_price",3,"nzMin","nzStep","nzFormatter","nzParser"],[3,"nzSpan"],[3,"formControl"],["nzErrorTip","Vui l\xF2ng nh\u1EADp m\xF4 t\u1EA3 chi ti\u1EBFt"],["formControlName","content",3,"init"],[3,"nzValue","nzLabel","nzCustomContent"],[3,"ngStyle"],["onerror","this.src='assets/images/default_property.jpeg'",2,"width","100%",3,"src"]],template:function(n,l){if(n&1){let m=Z();u(0,"nz-spin",11)(1,"div",12)(2,"nz-card",13),x(3,zp,3,2,"ng-template",null,0,Bt),u(5,"form",14)(6,"nz-divider",15),P(7,"i",16),g(8," Th\xF4ng tin c\u01A1 b\u1EA3n "),p(),u(9,"div",17)(10,"div",18)(11,"nz-form-item")(12,"nz-form-label",19),g(13,"T\xEAn s\u1EA3n ph\u1EA9m"),p(),u(14,"nz-form-control",20),P(15,"input",21),x(16,Ep,2,2,"ng-template",null,1,Bt),p()()(),u(18,"div",18)(19,"nz-form-item")(20,"nz-form-label",19),g(21,"Slug"),p(),u(22,"nz-form-control",20),P(23,"input",22),x(24,Tp,2,2,"ng-template",null,2,Bt),p()()()(),u(26,"div",17)(27,"div",18)(28,"nz-form-item")(29,"nz-form-label"),g(30,"Thu\u1ED9c d\u1EF1 \xE1n"),p(),u(31,"nz-form-control",20)(32,"nz-select",23),x(33,Lp,1,2,"nz-option",24),p(),x(34,Ip,1,1,"ng-template",null,3,Bt),p()()(),u(36,"div",18)(37,"nz-form-item")(38,"nz-form-label",19),g(39,"Danh m\u1EE5c"),p(),u(40,"nz-form-control",20)(41,"nz-select",25),x(42,Dp,1,2,"nz-option",24),p(),x(43,Fp,2,2,"ng-template",null,4,Bt),p()()()(),u(45,"nz-divider",26),P(46,"i",27),g(47," \u0110\u1ECBa ch\u1EC9 v\xE0 v\u1ECB tr\xED "),p(),u(48,"div",28)(49,"div",17)(50,"div",29)(51,"nz-form-item")(52,"nz-form-label",19),g(53,"T\xECm ki\u1EBFm \u0111\u1ECBa ch\u1EC9"),p(),u(54,"nz-form-control")(55,"nz-input-group",30)(56,"input",31),F("ngModelChange",function(b){return w(m),A(l.searchQuery,b)||(l.searchQuery=b),E(b)}),k("keyup.enter",function(){return w(m),E(l.onSearch())}),p()(),x(57,Vp,2,0,"ng-template",null,5,Bt),p()()()(),u(59,"div",17)(60,"div",29),P(61,"div",32,6),p()(),u(63,"div",17)(64,"div",29)(65,"nz-form-item")(66,"nz-form-label",19),g(67,"\u0110\u1ECBa ch\u1EC9 \u0111\u1EA7y \u0111\u1EE7"),p(),u(68,"nz-form-control",33),P(69,"input",34),p()()()(),u(70,"div",17)(71,"div",18)(72,"nz-form-item")(73,"nz-form-label",19),g(74,"T\u1EC9nh/Th\xE0nh ph\u1ED1"),p(),u(75,"nz-form-control",35),P(76,"input",36),p()()(),u(77,"div",18)(78,"nz-form-item")(79,"nz-form-label",19),g(80,"Qu\u1EADn/Huy\u1EC7n"),p(),u(81,"nz-form-control",37),P(82,"input",38),p()()(),u(83,"div",18)(84,"nz-form-item")(85,"nz-form-label",19),g(86,"Ph\u01B0\u1EDDng/X\xE3"),p(),u(87,"nz-form-control",39),P(88,"input",40),p()()()()(),u(89,"nz-divider",41),P(90,"i",42),g(91," Th\xF4ng tin chi ti\u1EBFt "),p(),u(92,"div",43)(93,"div",17)(94,"div",18)(95,"nz-form-item")(96,"nz-form-label",19),g(97,"Lo\u1EA1i h\xECnh s\u1EA3n ph\u1EA9m"),p(),u(98,"nz-form-control",44)(99,"nz-select",45),x(100,Rp,1,2,"nz-option",24),p()()()()(),u(101,"div",17)(102,"div",18)(103,"nz-form-item")(104,"nz-form-label"),g(105,"S\u1ED1 ph\xF2ng ng\u1EE7"),p(),u(106,"nz-form-control"),P(107,"nz-input-number",46),p()()(),u(108,"div",18)(109,"nz-form-item")(110,"nz-form-label"),g(111,"S\u1ED1 ph\xF2ng t\u1EAFm"),p(),u(112,"nz-form-control"),P(113,"nz-input-number",47),p()()(),u(114,"div",18)(115,"nz-form-item")(116,"nz-form-label",19),g(117,"Di\u1EC7n t\xEDch (m\xB2)"),p(),u(118,"nz-form-control",48),P(119,"nz-input-number",49),p()()()(),u(120,"div",17)(121,"div",50)(122,"nz-form-item")(123,"nz-form-label",19),g(124,"Gi\xE1 t\u1EEB"),p(),u(125,"nz-form-control",20),P(126,"nz-input-number",51),x(127,Hp,2,2,"ng-template",null,7,Bt),p()()(),u(129,"div",50)(130,"nz-form-item")(131,"nz-form-label"),g(132,"Gi\xE1 \u0111\u1EBFn"),p(),u(133,"nz-form-control",20),P(134,"nz-input-number",52),x(135,qp,2,2,"ng-template",null,8,Bt),p()()()(),x(137,Xp,16,9,"ng-container",53)(138,Kp,7,2,"div",54)(139,Jp,23,22,"ng-container",53),u(140,"div",17)(141,"div",18)(142,"nz-form-item")(143,"nz-form-label"),g(144,"Ti\u1EC7n \xEDch"),p(),u(145,"nz-form-control"),P(146,"textarea",55),p()()(),u(147,"div",18)(148,"nz-form-item")(149,"nz-form-label"),g(150,"N\u1ED9i th\u1EA5t"),p(),u(151,"nz-form-control"),P(152,"textarea",56),p()()()(),x(153,Yp,5,3,"nz-form-item",53)(154,Qp,5,1,"nz-form-item",53),p(),u(155,"nz-divider",57),P(156,"i",58),g(157," Tags "),p(),u(158,"nz-form-item")(159,"nz-form-label"),g(160,"Tags"),p(),u(161,"nz-form-control")(162,"nz-select",59),x(163,tm,3,7,"nz-option",60),p(),x(164,em,1,1,"ng-template",null,9,Bt),p()(),u(166,"nz-divider",61),P(167,"i",62),g(168," H\xECnh \u1EA3nh "),p(),u(169,"nz-form-item")(170,"nz-form-label",19),g(171,"\u1EA2nh b\xECa"),p(),u(172,"nz-form-control",63)(173,"nz-upload",64),F("nzFileListChange",function(b){return w(m),A(l.coverImageList,b)||(l.coverImageList=b),E(b)}),u(174,"div"),P(175,"i",65),u(176,"div",66),g(177,"T\u1EA3i l\xEAn \u1EA3nh b\xECa"),p()()()()(),u(178,"nz-form-item")(179,"nz-form-label",19),g(180,"\u1EA2nh s\u1EA3n ph\u1EA9m"),p(),u(181,"nz-form-control",67)(182,"nz-upload",64),F("nzFileListChange",function(b){return w(m),A(l.productImageList,b)||(l.productImageList=b),E(b)}),u(183,"div"),P(184,"i",65),u(185,"div",66),g(186,"T\u1EA3i l\xEAn \u1EA3nh s\u1EA3n ph\u1EA9m"),p()()()()(),u(187,"nz-modal",68),k("nzOnCancel",function(){return w(m),E(l.previewVisible=!1)}),x(188,nm,1,1,"ng-template",null,10,Bt),p(),u(190,"div",69)(191,"button",70),k("click",function(){return w(m),E(l.onCancel())}),P(192,"i",71),g(193," H\u1EE7y "),p(),u(194,"button",72),k("click",function(){return w(m),E(l.onSubmit())}),P(195,"i",73),g(196),p()()()()()()}if(n&2){let m,_,b,T,M,V=Et(4),Vt=Et(17),Re=Et(25),ye=Et(35),it=Et(44),An=Et(58),zi=Et(128),Fn=Et(136),qt=Et(165),vn=Et(189);d("nzSpinning",l.loading)("nzTip","\u0110ang x\u1EED l\xFD..."),c(2),d("nzTitle",V),c(3),d("formGroup",l.productForm),c(4),d("nzGutter",24),c(),d("nzXs",24)("nzSm",24)("nzMd",12),c(4),d("nzErrorTip",Vt),c(4),d("nzXs",24)("nzSm",24)("nzMd",12),c(4),d("nzErrorTip",Re),c(4),d("nzGutter",24),c(),d("nzXs",24)("nzSm",24)("nzMd",12),c(4),d("nzErrorTip",ye),c(),d("nzShowSearch",!0),c(),d("ngForOf",l.projects),c(3),d("nzXs",24)("nzSm",24)("nzMd",12),c(4),d("nzErrorTip",it),c(),d("nzShowSearch",!0),c(),d("ngForOf",l.categories),c(7),d("nzGutter",24),c(),d("nzSpan",24),c(5),d("nzSuffix",An),c(),N("ngModel",l.searchQuery),d("ngModelOptions",St(118,Pp)),c(3),d("nzGutter",24),c(),d("nzSpan",24),c(3),d("nzGutter",24),c(),d("nzSpan",24),c(6),d("nzGutter",24),c(),d("nzXs",24)("nzSm",24)("nzMd",8),c(6),d("nzXs",24)("nzSm",24)("nzMd",8),c(6),d("nzXs",24)("nzSm",24)("nzMd",8),c(10),d("nzGutter",24),c(),d("nzXs",24)("nzSm",24)("nzMd",12),c(6),d("ngForOf",l.typeProducts),c(),d("nzGutter",24),c(),d("nzXs",24)("nzSm",12)("nzMd",8),c(5),d("nzMin",0)("nzStep",1)("nzPrecision",0),c(),d("nzXs",24)("nzSm",12)("nzMd",8),c(5),d("nzMin",0)("nzStep",1)("nzPrecision",0),c(),d("nzXs",24)("nzSm",12)("nzMd",8),c(5),d("nzMin",0)("nzStep",1)("nzPrecision",0),c(),d("nzGutter",24),c(),d("nzXs",24)("nzSm",12),c(4),d("nzErrorTip",zi),c(),d("nzMin",0)("nzStep",1e6)("nzFormatter",l.formatterVND)("nzParser",l.parserVND),c(3),d("nzXs",24)("nzSm",12),c(4),d("nzErrorTip",Fn),c(),d("nzMin",0)("nzStep",1e6)("nzFormatter",l.formatterVND)("nzParser",l.parserVND),c(3),d("ngIf",((m=l.productForm.get("category_id"))==null?null:m.value)===7),c(),d("ngIf",((_=l.productForm.get("category_id"))==null?null:_.value)===7),c(),d("ngIf",((b=l.productForm.get("product_detail.type_product"))==null?null:b.value)==="rent"),c(),d("nzGutter",24),c(),d("nzXs",24)("nzSm",24)("nzMd",12),c(5),d("nzAutosize",St(119,Ya)),c(),d("nzXs",24)("nzSm",24)("nzMd",12),c(5),d("nzAutosize",St(120,Ya)),c(),d("ngIf",((T=l.productForm.get("category_id"))==null?null:T.value)===7),c(),d("ngIf",l.productForm&&((M=l.productForm.get("category_id"))==null?null:M.value)!==7),c(8),d("nzMaxTagCount",3)("nzMaxTagPlaceholder",qt),c(),d("ngForOf",l.tags),c(10),N("nzFileList",l.coverImageList),d("nzShowButton",l.coverImageList.length<1)("nzBeforeUpload",l.beforeUploadCover)("nzRemove",l.handleRemoveCover)("nzPreview",l.handlePreview),c(9),N("nzFileList",l.productImageList),d("nzShowButton",l.productImageList.length<8)("nzBeforeUpload",l.beforeUploadProductImages)("nzRemove",l.handleRemoveProduct)("nzPreview",l.handlePreview),c(5),d("nzVisible",l.previewVisible)("nzContent",vn)("nzFooter",null),c(3),d("nzJustify","end"),c(4),d("nzLoading",l.loading),c(),d("nzType",l.isEdit?"save":"plus-circle"),c(),D(" ",l.isEdit?"C\u1EADp nh\u1EADt":"T\u1EA1o m\u1EDBi"," ")}},dependencies:[rt,Pt,Fr,At,kt,st,Nt,ct,Hr,Gr,qr,Ur,dt,Mt,na,_e,ea,zt,ut,Ot,ne,mt,pt,Ft,_t,gt,ht,gi,sa,Ne,Ae,an,Ea,he,fi,Pi],styles:[".container-fluid[_ngcontent-%COMP%]{padding:24px;background-color:#f0f2f5;min-height:100vh}[_nghost-%COMP%]     .ant-card{border-radius:8px;box-shadow:0 1px 2px #00000008,0 1px 6px -1px #00000005,0 2px 4px #00000005}[_nghost-%COMP%]     .ant-card .ant-card-head{border-bottom:1px solid #f0f0f0;margin-bottom:24px}[_nghost-%COMP%]     .ant-divider{margin:32px 0 24px;color:#1890ff;font-weight:500}[_nghost-%COMP%]     .ant-form-item{margin-bottom:24px}[_nghost-%COMP%]     .ant-form-item .ant-form-item-label{padding-bottom:8px}[_nghost-%COMP%]     .ant-form-item .ant-form-item-label label{font-weight:500;color:#262626}[_nghost-%COMP%]     .ant-form-item .ant-form-item-label label.ant-form-item-required:before{color:#ff4d4f}[_nghost-%COMP%]     .ant-input, [_nghost-%COMP%]     .ant-input-number, [_nghost-%COMP%]     .ant-select-selector, [_nghost-%COMP%]     .ant-picker{border-radius:6px}[_nghost-%COMP%]     .ant-input:hover, [_nghost-%COMP%]     .ant-input:focus, [_nghost-%COMP%]     .ant-input-number:hover, [_nghost-%COMP%]     .ant-input-number:focus, [_nghost-%COMP%]     .ant-select-selector:hover, [_nghost-%COMP%]     .ant-select-selector:focus, [_nghost-%COMP%]     .ant-picker:hover, [_nghost-%COMP%]     .ant-picker:focus{border-color:#1890ff}[_nghost-%COMP%]     .ant-input-number{width:100%}[_nghost-%COMP%]     .ant-upload-list-picture-card .ant-upload-list-item{padding:4px;border-radius:8px}[_nghost-%COMP%]     .ant-upload.ant-upload-select-picture-card{border-radius:8px;border:2px dashed #d9d9d9;background-color:#fafafa}[_nghost-%COMP%]     .ant-upload.ant-upload-select-picture-card:hover{border-color:#1890ff}[_nghost-%COMP%]     .map-container{border-radius:8px;overflow:hidden;border:1px solid #f0f0f0;margin-bottom:24px}[_nghost-%COMP%]     .tox-tinymce{border-radius:6px;border-color:#d9d9d9}[_nghost-%COMP%]     .button-group{margin-top:32px;padding-top:24px;border-top:1px solid #f0f0f0}[_nghost-%COMP%]     .button-group button{min-width:120px;height:40px;border-radius:6px}[_nghost-%COMP%]     .button-group button:not(:last-child){margin-right:16px}[_nghost-%COMP%]     .ant-input-group{display:flex}[_nghost-%COMP%]     .ant-input-group .ant-input{border-top-right-radius:0;border-bottom-right-radius:0}[_nghost-%COMP%]     .ant-input-group .ant-btn{border-top-left-radius:0;border-bottom-left-radius:0}[_nghost-%COMP%]     .ant-row{margin-bottom:8px}@media (max-width: 768px){[_nghost-%COMP%]     .ant-col{margin-bottom:16px}[_nghost-%COMP%]     .button-group{text-align:center}[_nghost-%COMP%]     .button-group button{width:100%;margin:8px 0!important}}"]})};var im=[{path:"",component:vi},{path:"create",component:Nn},{path:":id/edit",component:Nn}],ki=class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=on({type:o});static \u0275inj=en({imports:[uo.forChild(im),uo]})};var Qa=class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=on({type:o});static \u0275inj=en({imports:[Vr,ki,$r,Xr,La,ya,Na.forRoot(),Qr,oa,ga,ia,aa,Yr,la,fa,Sa,ba,ka,Pa,ra,wa,Ba]})};export{Qa as ProductsModule};
